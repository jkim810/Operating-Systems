%!PS-Adobe-3.0
%%Creator: groff version 1.22.2
%%CreationDate: Thu Sep 21 00:33:40 2017
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Courier
%%+ font Times-Italic
%%DocumentSuppliedResources: file extent.eps
%%+ file ext2.eps
%%+ file vfs.eps
%%+ file unixmount3.eps
%%+ file unixmount2.eps
%%+ file unixmount1.eps
%%+ file forest.eps
%%+ file mode.eps
%%+ file symlink.eps
%%+ file unlinked2.eps
%%+ file unlinked1.eps
%%+ file linked.eps
%%+ file unixtree.eps
%%+ file unixfs.eps
%%+ file flatfs.eps
%%+ procset grops 1.22 2
%%Pages: 42
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Courier
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Courier@0 ENC0/Courier RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)69.336 60 Q
(Unit 2/pg 1)55.998 E(\2512017 Jef)126.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Bold@0 SF(The File System)222.921 120 Q/F2 13
/Times-Roman@0 SF(An)33.336 156 Q 4.544(yo)-.195 G 1.294
(perating system must pro)-4.544 F 1.294(vide a frame)-.195 F -.13(wo)
-.325 G 1.294(rk for the storage of).13 F F1(persistent)4.544 E F2 1.294
(data, i.e.)4.544 F 4.072(those data which li)33.336 171 R 4.462 -.195
(ve b)-.325 H -.195(ey).195 G 4.072(ond the e).195 F -.195(xe)-.195 G
4.072(cution of particular programs and which are).195 F -.195(ex)33.336
186 S .32(pected to survi).195 F .71 -.195(ve r)-.325 H 3.57
(eboots. UNIX-lik).195 F 3.57(eo)-.13 G .319
(perating systems place a great deal of emphasis)-3.57 F
(on the \214le system and present a f)33.336 201 Q(airly simple b)-.13 E
(ut rob)-.26 E(ust interf)-.26 E(ace.)-.13 E .367
(The \214le system arose historically as a w)33.336 222 R .367
(ay of managing b)-.13 F .367(ulk storage de)-.26 F 3.617(vices. When)
-.325 F(data)3.617 E 1.532
(were stored on punched cards or punched tape, the grouping of indi)
33.336 237 R 1.532(vidual records into)-.325 F 2.256
(\214les and of \214les into "folders" w)33.336 252 R 2.257
(as purely ph)-.13 F 2.257(ysical, as these paper data were k)-.065 F
2.257(ept in)-.13 F .066(specialized \214le cabinets.)33.336 267 R -.52
(Wi)6.566 G .066(th the adv).52 F .066
(ent of magnetic media \(disk, drum and tape\), it w)-.195 F(as)-.13 E
(no)33.336 282 Q 3.416(wi)-.325 G .166
(ncumbent upon the operating system to manage these ra)-3.416 F 3.416
(wb)-.195 G .166(its and or)-3.416 F -.065(ga)-.234 G .167(nize them so)
.065 F(that users could store and retrie)33.336 297 Q .39 -.195(ve t)
-.325 H(heir \214les.).195 E -1.04(To)33.336 318 S(day)1.04 E 5.216(,p)
-.845 G 1.965(ersistent storage is pro)-5.216 F 1.965
(vided primarily by one of tw)-.195 F 5.215(ot)-.13 G 5.215
(echnologies. The)-5.215 F(Hard)5.215 E 1.24
(Disk \(or sometimes Disc\) Dri)33.336 333 R 1.63 -.195(ve \()-.325 H
1.24(HDD\) uses one or more spinning platters of magnetic).195 F .845
(material with tin)33.336 348 R 4.094(yr)-.195 G .844
(ead/write heads \215ying a fe)-4.094 F 4.094(wt)-.325 G .844
(housandths of an inch abo)-4.094 F 1.234 -.195(ve t)-.195 H .844
(he platter).195 F(surf)33.336 363 Q 7.237(ace. The)-.13 F 3.987
(other major technology is persistent solid-state memory)7.237 F 7.237
(,p)-.845 G(ro)-7.237 E 3.988(vided by)-.195 F 4.436
("Flash" electrically erasable programmable read-only memory \(EEPR)
33.336 378 R 4.436(OM\) chips in)-.52 F -.325(va)33.336 393 S 1.391
(rious con\214gurations.).325 F 1.391(Solid-state dri)7.891 F -.195(ve)
-.325 G 4.641(s\().195 G 1.391(SSDs\) are \215ash de)-4.641 F 1.391
(vices optimized for use to)-.325 F .847
(replace HDDs as the primary storage for a desktop, laptop or serv)
33.336 408 R .846(er system, while other)-.195 F .896(\215ash products \
such as the ubiquitous USB memory "stick" or SD cards used in cameras)
33.336 423 R(and phones, are designed and priced with less writing acti)
33.336 438 Q(vity in mind.)-.325 E 1.237(In this unit, we w)33.336 459 R
(on')-.13 E 4.487(tg)-.234 G 4.487(om)-4.487 G 1.236
(uch further into the construction of HDDs or SSDs b)-4.487 F 1.236
(ut will)-.26 F .992(focus on ho)33.336 474 R 4.243(wt)-.325 G .993
(he operating system manages their contents.)-4.243 F 3.073 -1.04(We c)
7.493 H .993(an think of a disk as a)1.04 F 1.486
(randomly addressable array of bytes.)33.336 489 R(Ho)7.986 E(we)-.325 E
-.195(ve)-.325 G 2.526 -.52(r, s).195 H 1.486(ince a byte is a v).52 F
1.485(ery small amount of)-.195 F 2.509(storage, all mass storage de)
33.336 504 R 2.509(vices ha)-.325 F 2.899 -.195(ve a m)-.26 H 2.509
(inimum addressable element size which is).195 F(kno)33.336 519 Q 2.025
(wn as a)-.325 F F1 2.025(disk block)5.275 F F2(or)5.275 E F1(sector)
5.275 E F2 8.525(.T)C 2.024
(he latter term is preferred since disk block could)-8.525 F .424
(mean something else, as we')33.336 534 R .424(ll see later)-.13 F 6.924
(.H)-.715 G .424(istorically most de)-6.924 F .425
(vices used a 512 byte sector)-.325 F 4.142(size. W)33.336 549 R .892
(ith hard dri)-.52 F -.195(ve)-.325 G 4.142(sb).195 G .892
(reaking through the 2TB mark, this has required a shift to 2048)-4.142
F .636(byte sectors.)33.336 564 R .636
(\(If the sector number is considered as a 32-bit unsigned number)7.136
F 3.886(,w)-.52 G .637(ith 2^32)-3.886 F .563
(maximum sectors and a sector size of 2^9, the total disk size w)33.336
579 R .562(ould be limited to 2^41 or)-.13 F 3.25(2T)33.336 594 S(B\).)
-3.25 E 3.22 -1.04(To g)33.336 624 T -2.795 -.325(iv e)1.04 H 1.14
(things a clear name, we')4.715 F 1.14
(ll call each such randomly-addressable array of sectors)-.13 F(\(whate)
33.336 639 Q -.195(ve)-.325 G 5.914(rt).195 G 2.664(heir size\) a)-5.914
F F1 -.13(vo)5.913 G(lume).13 E F2 9.163(.A)C -.26(vo)-3.25 G 2.663
(lume may be an entire hard disk, a remo).26 F -.325(va)-.195 G(ble).325
E 1.803(storage de)33.336 654 R 1.803
(vice, a partition, or a "logical v)-.325 F 5.054(olume." F)-.26 F 1.804
(or the purposes of this unit, all of)-.195 F(these are equi)33.336 669
Q -.325(va)-.325 G(lent.).325 E(Ho)33.336 690 Q 2.735 -.845(w, t)-.325 H
1.044(hen, do we go about or).845 F -.065(ga)-.234 G 1.044
(nizing those bytes of the disk to form a permanent data).065 F 1.752
(structure, much as we or)33.336 705 R -.065(ga)-.234 G 1.752
(nize the bytes of RAM to form in-memory data structures?).065 F .073
(Each operating system historically had both its o)33.336 720 R .073
(wn layout scheme of bytes on a disk, and)-.325 F 1.404(its o)33.336 735
R 1.404(wn interf)-.325 F 1.404(ace details, such as ho)-.13 F 4.654
<778c>-.325 G 1.404(les and directories were named, and what other)
-4.654 F 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 2)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF(information w)33.336 120 Q(as k)-.13 E(ept.)
-.13 E 1.761(There were also radical v)33.336 141 R 1.761
(ariations in ho)-.325 F 5.01(wo)-.325 G 1.76
(perating systems presented an interf)-5.01 F 1.76(ace for)-.13 F 1.468
(users or programs to e)33.336 156 R 1.468
(xplore and manipulate its system of \214les.)-.195 F 3.548 -1.04(We h)
7.968 H -2.925 -.26(av e)1.04 H 1.469(already seen)4.978 F .288
(that UNIX tak)33.336 171 R .288(es the simple "just a b)-.13 F .288
(unch of bytes" approach.)-.26 F .287(This w)6.787 F .287
(as not so with man)-.13 F(y)-.195 E 1.041
(other operating systems, which often had b)33.336 186 R 1.041
(uilt-in notions of \214le "types" \(e.g. a program)-.26 F 1.356
(source \214le w)33.336 201 R 1.356
(as a certain type of \214le for which dif)-.13 F 1.355
(ferent operations were possible from,)-.325 F(say)33.336 216 Q 3.25(,a)
-.845 G 3.25(ne)-3.25 G -.195(xe)-3.445 G(cutable \214le\).).195 E/F2 13
/Times-Bold@0 SF(What the File System pr)182.66 246 Q -.13(ov)-.234 G
(ides).13 E F1(Ev)33.336 282 Q .306
(ery type of \214lesystem, from the simplest to the most rob)-.195 F
.307(ust, must pro)-.26 F .307(vide certain basic)-.195 F
(services to the user)33.336 297 Q 6.5(.T)-.715 G
(hese services are deli)-6.5 E -.195(ve)-.325 G(red via the k).195 E
(ernel system call interf)-.13 E(aces.)-.13 E<83>33.336 312 Q F2(Naming)
3.299 E F1 3.299(:W)C 3.299(em)-4.339 G .049(ust ha)-3.299 F .439 -.195
(ve a w)-.26 H .049(ay of gi).065 F .048
(ving human-readable names to the \214les \(and/or other)-.325 F
(objects\) stored in the \214lesystem.)33.336 327 Q<83>33.336 342 Q F2
.144(Data Storage)3.394 F F1 3.394(:O)C -.195(bv)-3.394 G .145
(iously the \214lesystem must pro).195 F .145(vide a w)-.195 F .145
(ay to read and write the actual)-.13 F(data contained in the \214les.)
33.336 357 Q<83>33.336 372 Q F2(Meta-data)4.892 E F1 4.892(:T)C 1.642(h\
e \214lesystem tracks other data which are not the actual contents of t\
he)-4.892 F .777(\214les, b)33.336 387 R .777
(ut are data about the data, or "meta" data.)-.26 F .778
(These data may include the size of the)7.278 F
(\214le, time of last modi\214cation, the creator)33.336 402 Q 3.25(,e)
-.52 G(tc.)-3.25 E<83>33.336 417 Q F2(Fr)3.304 E .054
(ee space management)-.234 F F1 3.304(:T)C .054
(he disk on which the \214les are stored is \214nite.)-3.304 F 2.133
-1.04(We m)6.553 H .053(ust ha)1.04 F -.195(ve)-.26 G 4.77(aw)33.336 432
S 1.52(ay of determining ho)-4.9 F 4.77(wm)-.325 G 1.52
(uch empty space is left on the disk, and ho)-4.77 F 4.771(wm)-.325 G
1.521(uch space)-4.771 F(each \214le is taking up.)33.336 447 Q F2
(Flat \214le systems)223.285 462 Q F1 2.82(The simplest \214le system i\
s a \215at one, in which there are no subdirectories, and the)33.336 492
R .694(number of \214les is limited to a \214x)33.336 507 R .694
(ed number)-.195 F 7.194(.H)-.715 G(istorically)-7.194 E 3.944(,t)-.845
G .694(he last major general-purpose)-3.944 F
(operating system to use a \215at \214lesystem w)33.336 522 Q
(as MSDOS v)-.13 E(ersion 1.)-.195 E(Ho)33.336 543 Q(we)-.325 E -.195
(ve)-.325 G 2.595 -.52(r, t).195 H 1.555(oday \215at \214lesystems may \
still be found where storage needs are simple and).52 F 1.342
(adding the comple)33.336 558 R 1.342(xity of a directory hierarch)-.195
F 4.593(yi)-.065 G 4.593(sp)-4.593 G(rohibiti)-4.593 E -.195(ve)-.325 G
1.343(ly e).195 F(xpensi)-.195 E -.195(ve)-.325 G 7.843(,f).195 G 1.343
(or e)-7.843 F(xample,)-.195 E(man)33.336 573 Q 7.477(ye)-.195 G 4.227
(mbedded de)-7.477 F 4.226(vices, such as digital cameras or netw)-.325
F 4.226(ork switches/routers.)-.13 F(As)10.726 E 2.345(processor po)
33.336 588 R 2.346(wer and R)-.325 F 2.346(OM size gro)-.52 F 2.346
(ws with embedded processors, \215at \214lesystems are)-.325 F
(becoming more rare.)33.336 603 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 3)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E 0 0 233 233 -218 218 150.836 338 PBEGIN
%%BeginDocument: flatfs.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: flatfs.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Fri Jan 29 20:12:37 1999
%%For: hak@astor.cooper.edu (hak)
%%Orientation: Portrait
%%BoundingBox: 0 0 233 218
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-71.0 289.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 5812 m -1000 -1000 l 6061 -1000 l 6061 5812 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 1200 1200 m 2400 1200 l 2400 4800 l 1200 4800 l cp gs col0 s gr 
% Polyline
n 1200 1500 m 2400 1500 l gs col0 s gr 
% Polyline
n 1200 2100 m 2400 2100 l gs col0 s gr 
% Polyline
n 1200 3000 m 2400 3000 l gs col0 s gr 
% Polyline
 [60] 0 sd
n 1200 2175 m 2400 2175 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2250 m 2400 2250 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2325 m 2400 2325 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2400 m 2400 2400 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2475 m 2400 2475 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2550 m 2400 2550 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2700 m 2400 2700 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2775 m 2400 2775 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2850 m 2400 2850 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2850 m 2400 2850 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2850 m 2400 2850 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2850 m 2400 2850 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2925 m 2400 2925 l gs col0 s gr  [] 0 sd
% Polyline
n 2325 2250 m 3600 1800 l gs col0 s gr 
% Polyline
n 2325 2250 m 3600 3300 l gs col0 s gr 
% Polyline
n 3600 1500 m 4800 1500 l 4800 1800 l 3600 1800 l cp gs col0 s gr 
% Polyline
n 3600 1800 m 4800 1800 l 4800 2100 l 3600 2100 l cp gs col0 s gr 
% Polyline
n 3600 2100 m 4800 2100 l 4800 2400 l 3600 2400 l cp gs col0 s gr 
% Polyline
n 3600 2400 m 4800 2400 l 4800 3600 l 3600 3600 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1800 1425 m
gs 1 -1 sc (HEADER) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 1800 m
gs 1 -1 sc (FREE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 2040 m
gs 1 -1 sc (MAP) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 2700 m
gs 1 -1 sc (DIRECTORY) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 3600 m
gs 1 -1 sc (DATA) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 3840 m
gs 1 -1 sc (BLOCKS) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 1425 m
gs 1 -1 sc (DIRECTORY ENTRY) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 1725 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 2025 m
gs 1 -1 sc (DATE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 2325 m
gs 1 -1 sc (SIZE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 2700 m
gs 1 -1 sc (LIST) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 2940 m
gs 1 -1 sc (OF) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 3180 m
gs 1 -1 sc (DATA) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 3420 m
gs 1 -1 sc (BLOCKS) dup sw pop 2 div neg 0 rm  col0 sh gr
$F2psEnd
rs
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF 1.179(This v)33.336 359 R 1.179
(olume is di)-.26 F 1.179(vided into 4 distinct parts.)-.325 F 4.429(Ah)
7.679 G 1.179(eader block serv)-4.429 F 1.178(es to name to v)-.195 F
(olume,)-.26 E(gi)33.336 374 Q 2.301 -.195(ve i)-.325 H 1.911
(ts size, and pro).195 F 1.911
(vide other summary information such as ho)-.195 F 5.161(wm)-.325 G
1.911(uch free space is)-5.161 F -.26(av)33.336 389 S(ailable.)-.065 E
1.137
(The contents of the \214les are stored within the data block section.)
33.336 410 R 1.137(The free map section)7.637 F .601(maintains an o)
33.336 425 R -.195(ve)-.195 G(rvie).195 E 3.851(wo)-.325 G 3.851(fw)
-3.851 G .602
(hich data blocks are currently being used, and which are free)-3.851 F
.379(to be allocated to \214les as the)33.336 440 R 3.629(ya)-.195 G
.379(re written.)-3.629 F .378
(Common implementations of the free map are)6.879 F 3.25(al)33.336 455 S
(ink)-3.25 E(ed list of free blocks, or a bitmap with each bit represen\
ting the status of one block.)-.13 E .132(In the F)33.336 476 R 3.018
-1.443(AT \214)-.962 H .133(lesystem \(aka the MSDOS \214lesystem\), th\
e free map area \(or "File Allocation)1.443 F -1.04(Ta)33.336 491 S
2.171(ble"\) contains man)1.04 F 5.421(yl)-.195 G(ink)-5.421 E 2.171
(ed lists.)-.13 F 2.171
(One is the list of free blocks, and additional lists)8.671 F .715
(chain together the data blocks comprising each \214le.)33.336 506 R
.715(This strate)7.215 F .715(gy does not perform well)-.195 F
(for random-access to \214le contents.)33.336 521 Q .627
(The directory lists the names of the \214les on the v)33.336 542 R
3.876(olume. Note)-.26 F .626(that in this \215at \214lesystem,)3.876 F
.784(the number of directory slots is \214x)33.336 557 R .784
(ed, and each directory entry contains e)-.195 F -.195(ve)-.325 G .784
(rything there).195 F 2.047(is to kno)33.336 572 R 5.296(wa)-.325 G
2.046(bout a \214le: its name, its)-5.296 F/F2 13/Times-Bold@0 SF
(metadata)5.296 E F1 2.046(\(such as the \214le size and time of last)
5.296 F .504(modi\214cation\), and the mapping of the \214le contents t\
o speci\214c data blocks.)33.336 587 R .504(The metadata)7.004 F 1.104
(are not the actual contents of the \214le, b)33.336 602 R 1.103
(ut are still important to users and programs, and)-.26 F 3.412
(are thus accessible through the system call interf)33.336 617 R 3.413
(aces \(e.g.)-.13 F/F3 13/Courier@0 SF(stat\(2\))6.663 E F1 3.413
(in the UNIX)6.663 F -.13(ke)33.336 632 S 5.55(rnel\). Other).13 F 2.299
(data within the directory entry slot, e.g. the list of data blocks, is\
 not)5.55 F 1.445(meaningful at the user le)33.336 647 R -.195(ve)-.325
G 1.446(l, and is thus typically not accessible e).195 F 1.446
(xcept by vie)-.195 F 1.446(wing the)-.325 F(ra)33.336 662 Q 3.25(wu)
-.195 G(nderlying on-disk data structure.)-3.25 E 2.394
(The MSDOS \214lesystem had a \214x)33.336 683 R 2.394
(ed \214le name size of 8 characters plus a 3-character)-.195 F -.195
(ex)33.336 698 S 2.797(tension, which determined ho).195 F 6.047(wt)
-.325 G 2.798(he \214le w)-6.047 F 2.798(as treated.)-.13 F 2.798
(Common e)9.298 F 2.798(xtensions included)-.195 F 4.712
(.COM and .EXE for e)33.336 713 R -.195(xe)-.195 G 4.712
(cutable programs, .B).195 F 7.598 -1.443(AT f)-.455 H 4.712
(or MSDOS batch \(shell script\))1.443 F 3.731
(language, .SYS for system \214les, .TXT for plain te)33.336 728 R 3.731
(xt \214les, etc.)-.195 F 3.731(This 8+3 \214lename)10.231 F
(structure still haunts us today)33.336 743 Q 6.5(.E)-.845 G
(.g. TIFF \214les are .TIF)-6.5 E 3.25(,a)-1.04 G
(nd JPEG \214les are .JPG)-3.25 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 4)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF .787(The simple \215at \214lesystem can be tri)
33.336 120 R .786(vially e)-.325 F .786(xtended, e.g. the MSDOS/F)-.195
F 3.672 -1.443(AT \214)-.962 H .786(lesystem, by)1.443 F 3.271(adding a\
 \215ag to a directory entry which causes that "\214le" to be treated a\
s another)33.336 135 R(directory)33.336 150 Q 6.86(.T)-.845 G .36
(his allo)-6.86 F .36(ws a fully hierarchical vie)-.325 F 5.299 -.845
(w. W)-.325 H(e')-.195 E .359(re not going to spend an)-.65 F 3.609(ym)
-.195 G .359(ore time)-3.609 F 4.271(on these primiti)33.336 165 R 4.661
-.195(ve \214)-.325 H 4.272(lesystems, and the curious reader is in).195
F 4.272(vited to consult online)-.52 F(resources which describe F)33.336
180 Q -1.443(AT)-.962 G(/VF)1.443 E -1.443(AT)-.962 G(/F)1.443 E -1.443
(AT)-.962 G(32 \214lesystems more completely)1.443 E(.)-.845 E/F2 13
/Times-Bold@0 SF(UNIX Filesystems)217.331 210 Q F1 .869
(The UNIX \214le system model is deri)33.336 240 R -.195(ve)-.325 G
4.119(df).195 G .869(rom the actual data structures which were used)
-4.119 F 2.115(on disk man)33.336 255 R 5.365(yy)-.195 G 2.115
(ears ago in the earliest UNIX operating systems.)-5.365 F 2.115
(The approach tak)8.615 F(en)-.13 E .865(back then w)33.336 270 R .865
(as \215e)-.13 F .864
(xible enough that modern UNIX systems can use the same interf)-.195 F
.864(ace to)-.13 F 1.258("seamlessly inte)33.336 285 R 1.258(grate" man)
-.195 F 4.508(yv)-.195 G 1.258(olumes of man)-4.768 F 4.508(yd)-.195 G
(if)-4.508 E 1.259(ferent \214le system or)-.325 F -.065(ga)-.234 G
1.259(nizational types).065 F(into one hierarch)33.336 300 Q 4.94 -.845
(y. L)-.065 H(et').845 E 3.25(sb)-.715 G -.195(eg)-3.25 G(in by e).195 E
(xploring, abstractly)-.195 E 3.25(,h)-.845 G .65 -.325(ow U)-3.25 H
(NIX or).325 E -.065(ga)-.234 G(nizes a v).065 E(olume.)-.26 E 0 0 308
308 -344 344 113.336 665 PBEGIN
%%BeginDocument: unixfs.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unixfs.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Tue Feb  5 23:14:03 2008
%%For: hak@lex ()
%%BoundingBox: 0 0 308 344
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 344 moveto 0 0 lineto 308 0 lineto 308 344 lineto closepath clip newpath
-71.3 414.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 100
% Polyline
7.500 slw
 [60] 0 sd
n 1200 1800 m
 2400 1800 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2100 m
 2400 2100 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2400 m
 2400 2400 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2700 m
 2400 2700 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 3000 m
 2400 3000 l gs col0 s gr  [] 0 sd
/Times-Roman ff 200.00 scf sf
1800 1800 m
gs 1 -1 sc (INODE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
1800 2040 m
gs 1 -1 sc (TABLE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
1800 3600 m
gs 1 -1 sc (FREE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
1800 3840 m
gs 1 -1 sc (MAP) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 1200 1200 m 2400 1200 l 2400 1500 l 1200 1500 l
 cp gs col0 s gr 
% Polyline
gs  clippath
2444 2536 m 2483 2582 l 2598 2483 l 2488 2539 l 2559 2438 l cp
eoclip
n 3000 2100 m
 2475 2550 l gs col0 s gr gr

% arrowhead
n 2559 2438 m 2488 2539 l 2598 2483 l  col0 s
% Polyline
n 1200 4200 m 2400 4200 l 2400 6000 l 1200 6000 l
 cp gs col0 s gr 
% Polyline
n 4800 1500 m 6000 1500 l 6000 1800 l 4800 1800 l
 cp gs col0 s gr 
% Polyline
n 4800 1800 m 6000 1800 l 6000 2100 l 4800 2100 l
 cp gs col0 s gr 
% Polyline
n 4800 2100 m 6000 2100 l 6000 2400 l 4800 2400 l
 cp gs col0 s gr 
% Polyline
n 4800 2400 m 6000 2400 l 6000 2700 l 4800 2700 l
 cp gs col0 s gr 
% Polyline
n 4800 2700 m 6000 2700 l 6000 3000 l 4800 3000 l
 cp gs col0 s gr 
% Polyline
n 4800 3000 m 6000 3000 l 6000 3300 l 4800 3300 l
 cp gs col0 s gr 
% Polyline
n 4800 3300 m 6000 3300 l 6000 4500 l 4800 4500 l
 cp gs col0 s gr 
% Polyline
n 2325 2775 m
 4725 1575 l gs col0 s gr 
% Polyline
n 2325 2850 m
 4725 4425 l gs col0 s gr 
% Polyline
n 2175 5700 m
 4425 5175 l gs col0 s gr 
% Polyline
n 2175 5700 m
 4425 6825 l gs col0 s gr 
% Polyline
n 4500 5100 m 5700 5100 l 5700 5400 l 4500 5400 l
 cp gs col0 s gr 
% Polyline
n 5700 5100 m 6300 5100 l 6300 5400 l 5700 5400 l
 cp gs col0 s gr 
% Polyline
n 4500 5400 m 5700 5400 l 5700 5700 l 4500 5700 l
 cp gs col0 s gr 
% Polyline
n 5700 5400 m 6300 5400 l 6300 5700 l 5700 5700 l
 cp gs col0 s gr 
% Polyline
n 4500 5700 m 5700 5700 l 5700 6000 l 4500 6000 l
 cp gs col0 s gr 
% Polyline
n 5700 5700 m 6300 5700 l 6300 6000 l 5700 6000 l
 cp gs col0 s gr 
% Polyline
n 4500 6000 m 5700 6000 l 5700 6300 l 4500 6300 l
 cp gs col0 s gr 
% Polyline
n 5700 6000 m 6300 6000 l 6300 6300 l 5700 6300 l
 cp gs col0 s gr 
% Polyline
n 4500 6300 m 5700 6300 l 5700 6600 l 4500 6600 l
 cp gs col0 s gr 
% Polyline
n 5700 6300 m 6300 6300 l 6300 6600 l 5700 6600 l
 cp gs col0 s gr 
% Polyline
n 4500 6600 m 5700 6600 l 5700 6900 l 4500 6900 l
 cp gs col0 s gr 
% Polyline
n 5700 6600 m 6300 6600 l 6300 6900 l 5700 6900 l
 cp gs col0 s gr 
% Polyline
n 1200 3300 m 2400 3300 l 2400 4200 l 1200 4200 l
 cp gs col0 s gr 
% Polyline
n 1200 1500 m 2400 1500 l 2400 3300 l 1200 3300 l
 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
1800 1425 m
gs 1 -1 sc (HEADER) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
3075 2100 m
gs 1 -1 sc (Inode #2) col0 sh gr
/Times-Roman ff 200.00 scf sf
1800 4800 m
gs 1 -1 sc (DATA) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
1800 5040 m
gs 1 -1 sc (BLOCKS) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 1725 m
gs 1 -1 sc (Inode Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 2025 m
gs 1 -1 sc (Permissions) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 2325 m
gs 1 -1 sc (size) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 2625 m
gs 1 -1 sc (timestamps) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 2925 m
gs 1 -1 sc (owner \(uid/gid\)) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 3225 m
gs 1 -1 sc (nlink) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 3600 m
gs 1 -1 sc (LIST OF) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 3840 m
gs 1 -1 sc (DATA) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 4080 m
gs 1 -1 sc (BLOCKS) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 1425 m
gs 1 -1 sc (An Inode) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5400 5025 m
gs 1 -1 sc (A Directory) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 5325 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 5325 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 5625 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 5625 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 5925 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 5925 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 6225 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 6225 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 6525 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 6525 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
5100 6825 m
gs 1 -1 sc (NAME) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 200.00 scf sf
6000 6825 m
gs 1 -1 sc (Inode#) dup sw pop 2 div neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND 1.122(Once ag)33.336 686 R 1.122(ain, the v)-.065 F 1.121
(olume comprises 4 distinct areas, the size of each of which is \214x)
-.26 F 1.121(ed at)-.195 F -.26(vo)33.336 701 S 1.682
(lume initialization time.).26 F 1.682
(The UNIX command to create a \214lesystem on a v)8.182 F 1.682
(olume is)-.26 F(called)33.336 716 Q/F3 13/Courier@0 SF(mkfs)5.381 E F1
8.631(.T)C 2.131(his command accesses the disk directly)-8.631 F 5.381
(,o)-.845 G 5.381(na)-5.381 G 2.13(byte-by-byte \(sector)-.001 F(-by-)
-.26 E(sector\) ra)33.336 731 Q 3.25(wb)-.195 G
(asis, and lays out the \214lesystem data structure.)-3.25 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 5)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF .019(The v)33.336 120 R .019
(olume header contains miscellaneous information about the entire v)-.26
F .02(olume, such as a)-.26 F(descripti)33.336 135 Q 1.347 -.195(ve n)
-.325 H .957(ame, the number of acti).195 F 1.347 -.195(ve \214)-.325 H
.957(les within the v).195 F .957(olume, the time of last use, and)-.26
F .234(other critical information.)33.336 150 R -.195(Fo)6.734 G 3.484
(rh).195 G .234
(istorical reasons, this header data structure is often called)-3.484 F
.377(the "superblock".)33.336 165 R .376
(The superblock describes the size and layout of the rest of the v)6.876
F(olume.)-.26 E .396(If the superblock were to be lost or corrupted, th\
en no data could be accessed as it w)33.336 180 R(ould)-.13 E .7
(be impossible, e.g., to discern)33.336 195 R .699
(where the data block section w)7.199 F 3.949(as. F)-.13 F .699
(or this reason, UNIX)-.195 F .343(operating systems k)33.336 210 R .344
(eep redundant copies of the superblock at other well-kno)-.13 F .344
(wn locations)-.325 F(in the v)33.336 225 Q(olume.)-.26 E 2.427
(The data block section can be thought of as a resource pool, di)33.336
246 R 2.427(vided into)-.325 F/F2 13/Times-Bold@0 SF(\214lesystem)5.677
E 1.596(allocation blocks)33.336 261 R F1 1.596(of a certain size.)4.846
F(Historically)8.096 E 4.846(,U)-.845 G 1.596
(NIX used 512 byte blocks, and this)-4.846 F .687
(size still creeps into certain dark corners of the operating system.)
33.336 276 R(Ho)7.187 E(we)-.325 E -.195(ve)-.325 G 1.727 -.52(r, l).195
H(ar).52 E .687(ger block)-.234 F .214
(sizes such as 1K, 2K, 4K or 8K are more common.)33.336 291 R(Gi)6.715 E
-.195(ve)-.325 G 3.465(nt).195 G .215(he block size, we can think of)
-3.465 F .202(the data block area as an array of blocks, inde)33.336 306
R -.195(xe)-.195 G 3.451(db).195 G 3.451(yab)-3.451 G .201(lock number)
-3.451 F 6.701(.\()-.715 G -.195(Fo)-6.701 G 3.451(rr).195 G .201
(easons which)-3.451 F .714(may become clearer after reading some k)
33.336 321 R .714(ernel source code, the \214rst block number is not)
-.13 F 2.877(0, b)33.336 336 R 2.877(ut some lar)-.26 F 2.877
(ger number\).)-.234 F 2.877
(Filesystem blocks are not necessarily the same size as)9.377 F 6.513
(sectors. The)33.336 351 R 6.513(ya)-.195 G 3.263(re usually lar)-6.513
F(ger)-.234 E 6.513(,a)-.52 G 3.263
(lthough some pathological cases could e)-6.513 F 3.263(xist \(e.g.)
-.195 F .535(creating an old System-V type \214lesystem with 512 byte b\
locks on a 2+TB dri)33.336 366 R .924 -.195(ve w)-.325 H .534(ith 2K)
.195 F(sectors\).)33.336 381 Q 1.292(The \214lesystem data block is the\
 smallest unit of storage allocation in the \214lesystem.)33.336 402 R
(If)7.792 E .261(the block size is 1K, then a \214le which is 518 bytes\
 long still consumes 1024 bytes of disk)33.336 417 R 3.894(space. There)
33.336 432 R .644(is a tradeof)3.894 F 3.894(fb)-.325 G .644
(etween space ef)-3.894 F(\214cienc)-.325 E 3.894(ya)-.195 G .644
(nd time ef)-3.894 F(\214cienc)-.325 E 3.894(ya)-.195 G .644
(nd the selection)-3.894 F(of block size can be tuned accordingly)33.336
447 Q(.)-.845 E 2.833(What w)33.336 468 R 2.833
(as unique about the UNIX approach w)-.13 F 2.833
(as the treatment of directories as just)-.13 F .608
(another type of \214le.)33.336 483 R .609
(Thus the directories are stored in the same data block resource pool)
7.108 F(as the \214le contents.)33.336 498 Q 5.752
(Another unique feature of the UNIX \214lesystem w)33.336 519 R 5.752
(as the di)-.13 F -.26(vo)-.325 G 5.752(rcing of metadata).26 F .622
(information from the directory entries.)33.336 534 R 3.872(Ad)7.122 G
.622(irectory in a UNIX \214lesystem is simply a list)-3.872 F 1.149
(of \214lenames.)33.336 549 R 1.149
(Information about a single \214le or directory is k)7.649 F 1.148
(ept within a data structure)-.13 F(kno)33.336 564 Q(wn as an)-.325 E F2
(inode)3.25 E F1(.)A 1.137(The inode table is conceptually an array of \
these inodes \(a typical on-disk inode size is)33.336 585 R 1.393
(128 bytes and therefore se)33.336 600 R -.195(ve)-.325 G 1.393
(ral inodes are k).195 F 1.393(ept per sector\), inde)-.13 F -.195(xe)
-.195 G 4.643(db).195 G(y)-4.643 E F2 1.393(inode number)4.643 F F1(.)A
(Ag)33.336 615 Q .262(ain, for historical and k)-.065 F .262
(ernel programming reasons, the \214rst inode is usually numbered)-.13 F
4.728(2\(b)33.336 630 S 1.478(ecause 0 w)-4.728 F 1.477
(as used to indicate an empty directory slot, and 1 w)-.13 F 1.477
(as reserv)-.13 F 1.477(ed for the)-.195 F(boot block\).)33.336 645 Q
.205(The inode contains all of the)33.336 666 R F2(metadata)3.455 E F1
3.455(,s)C .205(uch as the size, o)-3.455 F(wner)-.325 E 3.456(,p)-.52 G
.206(ermissions and times of)-3.456 F .7(last access.)33.336 681 R .7(I\
t also contains \(conceptually\) the list of block numbers which compri\
se the)7.2 F .252(contents of the \214le or directory)33.336 696 R 6.752
(.A)-.845 G .252(nother important bit of metadata is the)-6.752 F F2
.253(inode type)3.503 F F1 3.503(,e)C(.g.)-3.503 E(is this a re)33.336
711 Q(gular \214le or a directory \(there are other types too, as we')
-.195 E(ll see\))-.13 E .232(The free map pro)33.336 732 R .232
(vides an o)-.195 F -.195(ve)-.195 G(rvie).195 E 3.482(wo)-.325 G 3.482
(fw)-3.482 G .232(hich data blocks are in use, and which are free to)
-3.482 F 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 6)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF .366(be allocated to \214les.)33.336 120 R .367
(Most modern UNIX systems use a bitmap representation of the free)6.867
F(map.)33.336 135 Q/F2 13/Times-Bold@0 SF(Dir)205.345 165 Q
(ectories and inodes)-.234 E F1 4.142(Ad)33.336 195 S .892(irectory is \
simply another instance of a \214le, specially identi\214ed as such via\
 the T)-4.142 F(ype)-1.04 E .276(\214eld in its inode.)33.336 210 R
(Logically)6.776 E 3.526(,ad)-.845 G .277
(irectory is an unordered list of names and inode numbers.)-3.526 F
1.075(In actual implementation, directory entries may be of \214x)33.336
225 R 1.074(ed or of v)-.195 F 1.074(ariable length, and in)-.325 F
1.369(some cases more sophisticated data structures such as hashes or t\
rees are introduced to)33.336 240 R(mak)33.336 255 Q 6.164(es)-.13 G
2.914(earching them f)-6.164 F(aster)-.13 E 9.414(.I)-.715 G 6.164(nt)
-9.414 G 2.914(he original UNIX \214lesystem, the name \214eld of the)
-6.164 F 2.927(directory entry w)33.336 270 R 2.927(as \214x)-.13 F
2.928(ed at 14 characters, and the inode number w)-.195 F 2.928
(as 2 bytes long,)-.13 F .366(yielding a \214x)33.336 285 R .365
(ed 16-byte directory entry size, and also imposing an anno)-.195 F .365
(ying 14-character)-.13 F 1.89(limit on \214le names.)33.336 300 R 1.89
(Most modern UNIX \214lesystems allo)8.39 F 5.14(wa)-.325 G 5.14(tl)
-5.14 G 1.89(east 255 characters per)-5.14 F(path component name, and a\
t least 1024 characters for a complete path name.)33.336 315 Q 0 0 468
660 -370.855 523 33.336 706.855 PBEGIN
%%BeginDocument: unixtree.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unixtree.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Thu Feb  3 22:42:24 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 660 523
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 523 moveto 0 0 lineto 660 0 lineto 660 523 lineto closepath clip newpath
-29.5 576.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 900 1800 m 6300 1800 l 6300 2400 l 900 2400 l
 cp gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 2400 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 2400 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 2400 l gs col0 s gr 
% Polyline
n 900 2400 m 6300 2400 l 6300 3000 l 900 3000 l
 cp gs col0 s gr 
% Polyline
n 1500 2400 m
 1500 3000 l gs col0 s gr 
% Polyline
n 2100 2400 m
 2100 3000 l gs col0 s gr 
% Polyline
n 5700 2400 m
 5700 3000 l gs col0 s gr 
% Polyline
n 900 3000 m 6300 3000 l 6300 3600 l 900 3600 l
 cp gs col0 s gr 
% Polyline
n 1500 3000 m
 1500 3600 l gs col0 s gr 
% Polyline
n 2100 3000 m
 2100 3600 l gs col0 s gr 
% Polyline
n 5700 3000 m
 5700 3600 l gs col0 s gr 
% Polyline
n 900 3600 m 6300 3600 l 6300 4200 l 900 4200 l
 cp gs col0 s gr 
% Polyline
n 1500 3600 m
 1500 4200 l gs col0 s gr 
% Polyline
n 2100 3600 m
 2100 4200 l gs col0 s gr 
% Polyline
n 5700 3600 m
 5700 4200 l gs col0 s gr 
% Polyline
n 900 4200 m 6300 4200 l 6300 4800 l 900 4800 l
 cp gs col0 s gr 
% Polyline
n 1500 4200 m
 1500 4800 l gs col0 s gr 
% Polyline
n 2100 4200 m
 2100 4800 l gs col0 s gr 
% Polyline
n 5700 4200 m
 5700 4800 l gs col0 s gr 
% Polyline
n 900 4800 m 6300 4800 l 6300 5400 l 900 5400 l
 cp gs col0 s gr 
% Polyline
n 1500 4800 m
 1500 5400 l gs col0 s gr 
% Polyline
n 2100 4800 m
 2100 5400 l gs col0 s gr 
% Polyline
n 5700 4800 m
 5700 5400 l gs col0 s gr 
% Polyline
n 900 5400 m 6300 5400 l 6300 6000 l 900 6000 l
 cp gs col0 s gr 
% Polyline
n 1500 5400 m
 1500 6000 l gs col0 s gr 
% Polyline
n 2100 5400 m
 2100 6000 l gs col0 s gr 
% Polyline
n 5700 5400 m
 5700 6000 l gs col0 s gr 
% Polyline
n 900 6000 m 6300 6000 l 6300 6600 l 900 6600 l
 cp gs col0 s gr 
% Polyline
n 1500 6000 m
 1500 6600 l gs col0 s gr 
% Polyline
n 2100 6000 m
 2100 6600 l gs col0 s gr 
% Polyline
n 5700 6000 m
 5700 6600 l gs col0 s gr 
% Polyline
n 900 6600 m 6300 6600 l 6300 7200 l 900 7200 l
 cp gs col0 s gr 
% Polyline
n 1500 6600 m
 1500 7200 l gs col0 s gr 
% Polyline
n 2100 6600 m
 2100 7200 l gs col0 s gr 
% Polyline
n 5700 6600 m
 5700 7200 l gs col0 s gr 
% Polyline
n 900 7200 m 6300 7200 l 6300 7800 l 900 7800 l
 cp gs col0 s gr 
% Polyline
n 1500 7200 m
 1500 7800 l gs col0 s gr 
% Polyline
n 2100 7200 m
 2100 7800 l gs col0 s gr 
% Polyline
n 5700 7200 m
 5700 7800 l gs col0 s gr 
% Polyline
n 900 7800 m 6300 7800 l 6300 8400 l 900 8400 l
 cp gs col0 s gr 
% Polyline
n 1500 7800 m
 1500 8400 l gs col0 s gr 
% Polyline
n 2100 7800 m
 2100 8400 l gs col0 s gr 
% Polyline
n 5700 7800 m
 5700 8400 l gs col0 s gr 
% Polyline
n 9900 4200 m 11475 4200 l 11475 4575 l 9900 4575 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 4425 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 4800 m 11475 4800 l 11475 5175 l 9900 5175 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5025 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 5325 m 11475 5325 l 11475 5700 l 9900 5700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5550 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 8175 m 11475 8175 l 11475 8550 l 9900 8550 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 8400 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Ellipse
n 8475 8775 168 168 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 8475 9282 168 168 0 360 DrawEllipse gs col0 s gr

% Polyline
n 9900 1725 m 11400 1725 l 11400 3975 l 9900 3975 l
 cp gs col0 s gr 
% Polyline
n 10200 1725 m
 10200 3975 l gs col0 s gr 
% Polyline
n 9900 2175 m
 11400 2175 l gs col0 s gr 
% Polyline
n 9900 2475 m
 11400 2475 l gs col0 s gr 
% Polyline
n 9900 2775 m
 11400 2775 l gs col0 s gr 
% Polyline
n 9900 3075 m
 11400 3075 l gs col0 s gr 
% Polyline
n 9900 3375 m
 11400 3375 l gs col0 s gr 
% Polyline
n 9900 3675 m
 11400 3675 l gs col0 s gr 
% Polyline
gs  clippath
9766 1904 m 9763 1844 l 9611 1853 l 9733 1876 l 9615 1913 l cp
6133 2070 m 6136 2130 l 6288 2121 l 6167 2099 l 6284 2061 l cp
eoclip
n 6150 2100 m
 9750 1875 l gs col0 s gr gr

% arrowhead
n 6284 2061 m 6167 2099 l 6288 2121 l  col0 s
% arrowhead
n 9615 1913 m 9733 1876 l 9611 1853 l  col0 s
% Polyline
n 9900 6000 m 11400 6000 l 11400 7950 l 9900 7950 l
 cp gs col0 s gr 
% Polyline
n 9900 6300 m
 11400 6300 l gs col0 s gr 
% Polyline
n 9900 6600 m
 11400 6600 l gs col0 s gr 
% Polyline
n 9900 6900 m
 11400 6900 l gs col0 s gr 
% Polyline
n 9900 7200 m
 11400 7200 l gs col0 s gr 
% Polyline
n 9900 7500 m
 11400 7500 l gs col0 s gr 
% Polyline
n 10200 6000 m
 10200 7950 l gs col0 s gr 
% Polyline
gs  clippath
6585 2370 m 6585 2430 l 6737 2430 l 6617 2400 l 6737 2370 l cp
eoclip
n 9900 2400 m
 6600 2400 l gs col0 s gr gr

% arrowhead
n 6737 2370 m 6617 2400 l 6737 2430 l  col0 s
% Polyline
gs  clippath
6538 2444 m 6492 2482 l 6590 2598 l 6536 2488 l 6636 2560 l cp
eoclip
n 9900 6450 m
 6525 2475 l gs col0 s gr gr

% arrowhead
n 6636 2560 m 6536 2488 l 6590 2598 l  col0 s
% Polyline
gs  clippath
9816 6107 m 9856 6062 l 9742 5962 l 9813 6064 l 9703 6007 l cp
6083 2742 m 6043 2787 l 6157 2887 l 6087 2786 l 6196 2842 l cp
eoclip
n 6075 2775 m
 9825 6075 l gs col0 s gr gr

% arrowhead
n 6196 2842 m 6087 2786 l 6157 2887 l  col0 s
% arrowhead
n 9703 6007 m 9813 6064 l 9742 5962 l  col0 s
% Polyline
gs  clippath
9777 4369 m 9748 4316 l 9615 4388 l 9735 4358 l 9643 4441 l cp
eoclip
n 6000 6375 m
 9750 4350 l gs col0 s gr gr

% arrowhead
n 9643 4441 m 9735 4358 l 9615 4388 l  col0 s
% Polyline
gs  clippath
9849 5572 m 9828 5516 l 9686 5569 l 9809 5556 l 9707 5626 l cp
eoclip
n 6000 6975 m
 9825 5550 l gs col0 s gr gr

% arrowhead
n 9707 5626 m 9809 5556 l 9686 5569 l  col0 s
% Polyline
gs  clippath
9779 4965 m 9745 4916 l 9620 5003 l 9736 4959 l 9654 5052 l cp
eoclip
n 6000 7575 m
 9750 4950 l gs col0 s gr gr

% arrowhead
n 9654 5052 m 9736 4959 l 9620 5003 l  col0 s
% Polyline
gs  clippath
6283 6945 m 6286 7005 l 6438 6998 l 6317 6974 l 6435 6939 l cp
eoclip
n 9900 6825 m
 6300 6975 l gs col0 s gr gr

% arrowhead
n 6435 6939 m 6317 6974 l 6438 6998 l  col0 s
% Polyline
gs  clippath
6356 7547 m 6363 7606 l 6513 7587 l 6391 7573 l 6506 7528 l cp
eoclip
n 9900 7125 m
 6375 7575 l gs col0 s gr gr

% arrowhead
n 6506 7528 m 6391 7573 l 6513 7587 l  col0 s
% Polyline
gs  clippath
6268 6362 m 6308 6407 l 6422 6307 l 6312 6364 l 6382 6262 l cp
eoclip
n 9900 3225 m
 6300 6375 l gs col0 s gr gr

% arrowhead
n 6382 6262 m 6312 6364 l 6422 6307 l  col0 s
% Polyline
gs  clippath
6286 2744 m 6283 2804 l 6434 2813 l 6317 2776 l 6438 2753 l cp
eoclip
n 9900 3000 m
 6300 2775 l gs col0 s gr gr

% arrowhead
n 6438 2753 m 6317 2776 l 6434 2813 l  col0 s
% Polyline
gs  clippath
9820 8208 m 9854 8158 l 9727 8074 l 9811 8166 l 9694 8124 l cp
eoclip
n 6075 5700 m
 9825 8175 l gs col0 s gr gr

% arrowhead
n 9694 8124 m 9811 8166 l 9727 8074 l  col0 s
% Polyline
gs  clippath
6343 5687 m 6383 5732 l 6497 5632 l 6387 5689 l 6457 5587 l cp
eoclip
n 9900 2625 m
 6375 5700 l gs col0 s gr gr

% arrowhead
n 6457 5587 m 6387 5689 l 6497 5632 l  col0 s
% Polyline
n 8325 8775 m
 7950 9000 l gs col0 s gr 
% Polyline
n 8475 8925 m
 8475 9150 l gs col0 s gr 
% Polyline
n 8625 8775 m
 8925 9000 l gs col0 s gr 
% Polyline
n 8325 9375 m
 8025 9525 l gs col0 s gr 
% Polyline
n 8625 9375 m
 8925 9525 l gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
1200 1650 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 1650 m
gs 1 -1 sc (#links) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
3600 1650 m
gs 1 -1 sc (Metadata) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6000 1650 m
gs 1 -1 sc (Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
3300 1050 m
gs 1 -1 sc (Inode Table) col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
9750 1050 m
gs 1 -1 sc (Data Block area) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2250 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2850 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 3450 m
gs 1 -1 sc (4) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4050 m
gs 1 -1 sc (5) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4650 m
gs 1 -1 sc (6) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5250 m
gs 1 -1 sc (7) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5850 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 6450 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7050 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7650 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 8250 m
gs 1 -1 sc (12) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2100 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2700 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6300 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6900 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 7500 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2100 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2700 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6300 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6900 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 7500 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 1950 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2400 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2700 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3000 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3300 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 1950 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2325 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2700 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3225 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3000 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6225 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6525 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6825 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7125 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6150 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6450 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7125 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6825 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
8700 8325 m
gs 1 -1 sc (USER-MODE VIEW) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 5775 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 5775 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8475 8550 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8025 8850 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8325 9075 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8925 8850 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8175 9600 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8700 9600 m
gs 1 -1 sc (F) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND .072(Note that the directory entry does not contain an)33.336
727.855 R 3.321(yo)-.195 G .071(ther metadata information.)-3.321 F .071
(In order to)6.571 F(retrie)33.336 742.855 Q 1.465 -.195(ve t)-.325 H
1.075(hat, or to \214gure out where the associated \214le').195 F 4.326
(sc)-.715 G 1.076(ontents are in the data section,)-4.326 F 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 7)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF 1.854(the inode must be consulted.)33.336 120 R
(Ef)8.354 E(fecti)-.325 E -.195(ve)-.325 G(ly).195 E 5.104(,t)-.845 G
1.853(he inode number in the directory entry is a)-5.104 F/F2 13
/Times-Bold@0 SF(pointer)33.336 135 Q F1 .24(to the inode.)3.49 F .24
(Note that the inode, in turn, does not ha)6.74 F .631 -.195(ve a ")-.26
H .241(Name" \214eld.).195 F 3.491<418c>6.741 G .241(le is)-3.491 F .395
(only gi)33.336 150 R -.195(ve)-.325 G 3.645(nan).195 G .395
(ame in the sense that there e)-3.645 F .394
(xists a path that refers to it.)-.195 F(Gi)6.894 E -.195(ve)-.325 G
3.644(nap).195 G(articular)-3.644 E 3.539(inode, there is no w)33.336
165 R 3.54(ay to \214nd the path or paths associated with it e)-.13 F
3.54(xcept through)-.195 F -.195(ex)33.336 180 S(hausti).195 E .39 -.195
(ve s)-.325 H(earch of the \214lesystem.).195 E .721
(Inode numbers can be considered "cookies".)33.336 201 R(The)7.22 E 3.97
(ya)-.195 G .72(re inte)-3.97 F .72(gers with de\214nite bounds that)
-.195 F 1.208(can be compared for equality)33.336 216 R 4.458(,b)-.845 G
1.208(ut no other semantics can be inferred.)-4.718 F 1.208
(In particular)7.708 F 4.459(,t)-.52 G(he)-4.459 E -.13(fa)33.336 231 S
1.071(ct that one inode has a lo).13 F 1.071
(wer number than the other does not necessarily imply that it)-.325 F
-.13(wa)33.336 246 S 3.784(sc).13 G .534(reated \214rst.)-3.784 F .535
(As a \214lesystem ages and \214les are created and remo)7.035 F -.195
(ve)-.195 G .535(d, inode numbers).195 F .203(will get rec)33.336 261 R
3.453(ycled. Similarly)-.195 F 3.453(,e)-.845 G -.195(ve)-3.778 G 3.453
(nt).195 G .202(hough, e.g., inodes 69 and 71 e)-3.453 F .202
(xist, there is no basis to)-.195 F(assume that inode 70 e)33.336 276 Q
(xists.)-.195 E F2 -.13(Pa)194.204 306 S(thnames and W).13 E(ildcards)
-.234 E F1 1.383(There must be a starting point, a root of the tree.)
33.336 336 R 1.384(By con)7.883 F -.195(ve)-.52 G 1.384
(ntion, the \214rst inode of the).195 F 2.755(\214lesystem \(which has \
inode #2\) is a directory and forms the "root directory" of the)33.336
351 R 5.48(\214lesystem. UNIX)33.336 366 R 2.23(pathnames that be)5.48 F
2.231(gin with "/" are e)-.195 F -.325(va)-.325 G 2.231
(luated starting from the root.).325 F .03(These are kno)33.336 381 R
.03(wn as)-.325 F F2(absolute)3.279 E F1 3.279(,o)C(r)-3.279 E F2
(fully-quali\214ed)3.279 E F1 3.279(paths. Otherwise,)3.279 F(the)3.279
E 3.279(ya)-.195 G(re)-3.279 E F2 -.234(re)3.279 G(lati).234 E -.13(ve)
-.13 G F1(paths)3.409 E 2.914(and are e)33.336 396 R -.325(va)-.325 G
2.914(luated starting at the).325 F F2(curr)6.164 E 2.914(ent w)-.234 F
2.914(orking dir)-.13 F(ectory)-.234 E F1(\()6.164 E/F3 13/Courier@0 SF
(cwd)A F1 6.164(,w)C 2.914(hich is a state)-6.164 F -.325(va)33.336 411
S(riable associated with each process\).).325 E 5.116(Ap)33.336 432 S
1.866
(athname under UNIX is a series of component names delimited by the)
-5.116 F F2(pathname)5.116 E(separator)33.336 447 Q F1(character)4.24 E
4.24(,f)-.52 G(orw)-4.24 E .99(ard slash \( / \) .)-.13 F .991
(Each component is a string of)7.491 F F2(any)4.241 E F1(characters,)
4.241 E F2 .911(except f)33.336 462 R .911
(or the / character or the NUL terminator \(\\0\) character)-.325 F F1
7.411(.T)C .911(he length of each)-7.411 F 3.406
(component name has a \214nite limit, typically 255 characters.)33.336
477 R 3.406(Each component of a)9.906 F 1.56(pathname, e)33.336 492 R
1.559(xcept for the last, must refer to a directory)-.195 F 8.059(.W)
-.845 G 1.559(hile there is no limit on the)-8.059 F 1.47(number of com\
ponents in a pathname, there may be limits as to the total length of th\
e)33.336 507 R .318(pathname string, such as 1024 characters \(the)
33.336 522 R F3(pathconf)3.568 E F1 .318
(library function can be used to)3.568 F .614(determine this limit\).)
33.336 537 R .614(This is half a screen of te)7.114 F .615(xt so one w)
-.195 F .615(ould not w)-.13 F .615(ant to ha)-.13 F 1.005 -.195(ve t)
-.26 H 3.865(ot).195 G(ype)-3.865 E(such a long pathname too often.)
33.336 552 Q .373(Doubtless the reader is f)33.336 573 R .373
(amiliar with UNIX wildcard syntax, such as)-.13 F F3 .373(rm *.c)3.623
F F1 6.873(.W)C(ildcard)-7.393 E -.195(ex)33.336 588 S .965
(pansion is performed by the).195 F F2(shell)4.215 E F1 4.215(,w)C .965
(hich is the UNIX command-line interpreter)-4.215 F 7.465(.I)-.715 G
4.215(na)-7.465 G 2.322(later unit, we will see ho)33.336 603 R 5.572
(wt)-.325 G 2.321(he shell functions.)-5.572 F 2.321
(From the standpoint of the operating)8.821 F 1.587(system k)33.336 618
R 1.588(ernel and system calls, there are no wildcards.)-.13 F 1.588
(The * or ? characters ha)8.088 F 1.978 -.195(ve n)-.26 H(o).195 E 3.52
(signi\214cance and are v)33.336 633 R 3.52
(alid path component name characters.)-.325 F 3.519
(So are spaces, control)10.019 F 3.716(characters, h)33.336 648 R 3.717
(yphens and a host of other characters which often cause confusion to)
-.065 F(no)33.336 663 Q(vices.)-.195 E 4.901
(Note also that UNIX does not ha)33.336 684 R 5.291 -.195(ve a n)-.26 H
4.901(otion of a \214le "e).195 F 4.901(xtension" as does the)-.195 F
(DOS/WINDO)33.336 699 Q 2.808(WS f)-.455 F 2.808
(amily of operating systems.)-.13 F 2.808(There is a naming con)9.308 F
-.195(ve)-.52 G 2.808(ntion which).195 F 1.125(some programs follo)
33.336 714 R 6.065 -.845(w. E)-.325 H 1.125(.g. the C compiler e).845 F
1.125(xpects that C source code \214les end in)-.195 F F3(.c)4.374 E F1
(.)A(This is strictly an application-le)33.336 729 Q -.195(ve)-.325 G
3.25(li).195 G(ssue, and is not the concern of the k)-3.25 E
(ernel in an)-.13 E 3.25(yw)-.195 G(ay)-3.38 E(.)-.845 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 8)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E/F1 13/Times-Roman@0 SF 1.166(The component names)33.336 120 R/F2 13
/Courier@0 SF(.)4.416 E F1(and)4.416 E F2(..)4.416 E F1 1.166
(are reserv)4.416 F 4.416(ed. The)-.195 F 4.416(ya)-.195 G 1.166(re al)
-4.416 F -.13(wa)-.13 G 1.167(ys found in an).13 F 4.417(yd)-.195 G
(irectory)-4.417 E(,)-.845 E -2.795 -.325(ev e)33.336 135 T 4.044(na)
.325 G 4.044(nf)-4.044 G .794(reshly-created empty one, and refer to th\
e directory itself and to the directory')-4.044 F(s)-.715 E
(parent directory)33.336 150 Q 3.25(,r)-.845 G(especti)-3.25 E -.195(ve)
-.325 G(ly).195 E(.)-.845 E 3.042
(Because empty component names do not mak)33.336 171 R 6.292(ea)-.13 G
3.432 -.195(ny s)-6.292 H 3.042(ense, an).195 F 6.292(ys)-.195 G 3.042
(equence of forw)-6.292 F(ard)-.13 E .137(slashes in a pathname is equi)
33.336 186 R -.325(va)-.325 G .137(lent to just one.).325 F 3.386
(E.g. "/C//////E")6.636 F .136(is the same as "/C/E".)3.386 F(As)6.636 E
3.942(ar)33.336 201 S .692(esult of this, and the . and ..)-3.942 F
(names,)7.192 E/F3 13/Times-Bold@0 SF(ther)3.942 E 3.942(ei)-.234 G
3.942(s\()-3.942 G .693(essentially\) an unbounded number of)-3.942 F
.774(possible pathnames which r)33.336 216 R .774(efer to the same node)
-.234 F F1 .773(\(subject to pathname length limits\).)4.023 F(The e)
33.336 231 Q(xistence of hard links mak)-.195 E(es this statement e)-.13
E -.195(ve)-.325 G 3.25(nm).195 G(ore important.)-3.25 E F3(Hard Links)
235.005 261 Q F1 2.632 -1.04(To d)33.336 291 T(ra)1.04 E 3.802(wt)-.195
G .553(he analogy to the w)-3.802 F .553
(orld of paper records, the UNIX \214le system is a \214le cabinet)-.13
F .073(where the indi)33.336 306 R .073(vidual \214les are gi)-.325 F
-.195(ve)-.325 G 3.323(na).195 G .073
(rbitrary serial numbers \(the inode number\), and there)-3.323 F .405
(is a separate card catalog inde)33.336 321 R 3.655(xw)-.195 G .405
(hich allo)-3.655 F .405(ws us to determine the number associated with)
-.325 F 5.397(ap)33.336 336 S 2.147(articular naming.)-5.397 F 2.147
(It is often useful to retrie)8.647 F 2.537 -.195(ve a g)-.325 H -2.795
-.325(iv e).195 H 5.397(np).325 G -.065(hy)-5.397 G 2.146
(sical \214le under multiple).065 F 3.076(names or subjects, e.g. the \
\214le for product "X1000" might be \214led under Products/)33.336 351 R
-.52(Wi)33.336 366 S 11.806
(dgets/ X1000; also under Product Recall Notices/Safety Critical; and)
.52 F -.195(Pa)33.336 381 S(tents/Infringement Claims.).195 E .132
(There are tw)33.336 411 R 3.382(ow)-.13 G .133(ays to look at this, wh\
ich are analogous to Hard Links vs Symbolic Links)-3.512 F .768
(in UNIX.)33.336 426 R .768(In the latter case, we think of one of the \
names of the \214le as being canonical,)7.268 F
(while all the others are "aliases.")33.336 441 Q
(In the former case, all of the names are equal in stature.)6.5 E .39
(In the UNIX \214lesystem, for a gi)33.336 471 R -.195(ve)-.325 G 3.64
(ni).195 G .39(node number)-3.64 F 3.64(,t)-.52 G .39
(here can be multiple directory entries)-3.64 F 1.556(throughout the v)
33.336 486 R 1.556(olume which refer to that inode number)-.26 F 8.055
(.I)-.715 G 4.805(no)-8.055 G 1.555(ther w)-4.805 F 1.555
(ords, there can be)-.13 F 3.116(multiple paths \(abo)33.336 501 R 3.506
-.195(ve a)-.195 H 3.116(nd be).195 F 3.116
(yond those created syntactically by the use of . .. and)-.195 F
(multiple slashes\) that resolv)33.336 516 Q 3.25(et)-.195 G 3.25(ot)
-3.25 G(he same inode.)-3.25 E(The system call)33.336 537 Q F2(link)3.25
E F1(creates a hard link.)3.25 E(Consider:)6.5 E/F4 10/Courier@0 SF
(link\("/D","/C/G"\);)33.336 549 Q F1 2.152
(This creates another name \("/C/G"\) for an e)33.336 570 R 2.152
(xisting \214le \("/D"\).)-.195 F 2.152(The e)8.652 F 2.152
(xisting \214le must)-.195 F 1.63(actually e)33.336 585 R 1.63
(xist and the ne)-.195 F 4.88(wn)-.325 G 1.63(ame must not already e)
-4.88 F 1.63(xist prior to the)-.195 F F2(link)4.881 E F1 1.631
(system call.)4.881 F(Here is the situation after e)33.336 600 Q -.195
(xe)-.195 G(cuting this call:).195 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 9)73.998 E(\2512017 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25
E 0 0 468 660 -371.564 524 33.336 491.564 PBEGIN
%%BeginDocument: linked.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: linked.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Thu Feb  3 22:44:15 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 660 524
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 524 moveto 0 0 lineto 660 0 lineto 660 524 lineto closepath clip newpath
-29.5 576.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 900 1800 m 6300 1800 l 6300 2400 l 900 2400 l
 cp gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 2400 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 2400 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 2400 l gs col0 s gr 
% Polyline
n 900 2400 m 6300 2400 l 6300 3000 l 900 3000 l
 cp gs col0 s gr 
% Polyline
n 1500 2400 m
 1500 3000 l gs col0 s gr 
% Polyline
n 2100 2400 m
 2100 3000 l gs col0 s gr 
% Polyline
n 5700 2400 m
 5700 3000 l gs col0 s gr 
% Polyline
n 900 3000 m 6300 3000 l 6300 3600 l 900 3600 l
 cp gs col0 s gr 
% Polyline
n 1500 3000 m
 1500 3600 l gs col0 s gr 
% Polyline
n 2100 3000 m
 2100 3600 l gs col0 s gr 
% Polyline
n 5700 3000 m
 5700 3600 l gs col0 s gr 
% Polyline
n 900 3600 m 6300 3600 l 6300 4200 l 900 4200 l
 cp gs col0 s gr 
% Polyline
n 1500 3600 m
 1500 4200 l gs col0 s gr 
% Polyline
n 2100 3600 m
 2100 4200 l gs col0 s gr 
% Polyline
n 5700 3600 m
 5700 4200 l gs col0 s gr 
% Polyline
n 900 4200 m 6300 4200 l 6300 4800 l 900 4800 l
 cp gs col0 s gr 
% Polyline
n 1500 4200 m
 1500 4800 l gs col0 s gr 
% Polyline
n 2100 4200 m
 2100 4800 l gs col0 s gr 
% Polyline
n 5700 4200 m
 5700 4800 l gs col0 s gr 
% Polyline
n 900 4800 m 6300 4800 l 6300 5400 l 900 5400 l
 cp gs col0 s gr 
% Polyline
n 1500 4800 m
 1500 5400 l gs col0 s gr 
% Polyline
n 2100 4800 m
 2100 5400 l gs col0 s gr 
% Polyline
n 5700 4800 m
 5700 5400 l gs col0 s gr 
% Polyline
n 900 5400 m 6300 5400 l 6300 6000 l 900 6000 l
 cp gs col0 s gr 
% Polyline
n 1500 5400 m
 1500 6000 l gs col0 s gr 
% Polyline
n 2100 5400 m
 2100 6000 l gs col0 s gr 
% Polyline
n 5700 5400 m
 5700 6000 l gs col0 s gr 
% Polyline
n 900 6000 m 6300 6000 l 6300 6600 l 900 6600 l
 cp gs col0 s gr 
% Polyline
n 1500 6000 m
 1500 6600 l gs col0 s gr 
% Polyline
n 2100 6000 m
 2100 6600 l gs col0 s gr 
% Polyline
n 5700 6000 m
 5700 6600 l gs col0 s gr 
% Polyline
n 900 6600 m 6300 6600 l 6300 7200 l 900 7200 l
 cp gs col0 s gr 
% Polyline
n 1500 6600 m
 1500 7200 l gs col0 s gr 
% Polyline
n 2100 6600 m
 2100 7200 l gs col0 s gr 
% Polyline
n 5700 6600 m
 5700 7200 l gs col0 s gr 
% Polyline
n 900 7200 m 6300 7200 l 6300 7800 l 900 7800 l
 cp gs col0 s gr 
% Polyline
n 1500 7200 m
 1500 7800 l gs col0 s gr 
% Polyline
n 2100 7200 m
 2100 7800 l gs col0 s gr 
% Polyline
n 5700 7200 m
 5700 7800 l gs col0 s gr 
% Polyline
n 900 7800 m 6300 7800 l 6300 8400 l 900 8400 l
 cp gs col0 s gr 
% Polyline
n 1500 7800 m
 1500 8400 l gs col0 s gr 
% Polyline
n 2100 7800 m
 2100 8400 l gs col0 s gr 
% Polyline
n 5700 7800 m
 5700 8400 l gs col0 s gr 
% Polyline
n 9900 4200 m 11475 4200 l 11475 4575 l 9900 4575 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 4425 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 4800 m 11475 4800 l 11475 5175 l 9900 5175 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5025 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 5325 m 11475 5325 l 11475 5700 l 9900 5700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5550 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 8100 m 11475 8100 l 11475 8475 l 9900 8475 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 8325 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Ellipse
n 7650 8625 150 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 7650 9166 150 150 0 360 DrawEllipse gs col0 s gr

% Polyline
n 9900 1725 m 11400 1725 l 11400 3975 l 9900 3975 l
 cp gs col0 s gr 
% Polyline
n 10200 1725 m
 10200 3975 l gs col0 s gr 
% Polyline
n 9900 2175 m
 11400 2175 l gs col0 s gr 
% Polyline
n 9900 2475 m
 11400 2475 l gs col0 s gr 
% Polyline
n 9900 2775 m
 11400 2775 l gs col0 s gr 
% Polyline
n 9900 3075 m
 11400 3075 l gs col0 s gr 
% Polyline
n 9900 3375 m
 11400 3375 l gs col0 s gr 
% Polyline
n 9900 3675 m
 11400 3675 l gs col0 s gr 
% Polyline
gs  clippath
9766 1904 m 9763 1844 l 9611 1853 l 9733 1876 l 9615 1913 l cp
6133 2070 m 6136 2130 l 6288 2121 l 6167 2099 l 6284 2061 l cp
eoclip
n 6150 2100 m
 9750 1875 l gs col0 s gr gr

% arrowhead
n 6284 2061 m 6167 2099 l 6288 2121 l  col0 s
% arrowhead
n 9615 1913 m 9733 1876 l 9611 1853 l  col0 s
% Polyline
n 9900 6000 m 11400 6000 l 11400 7950 l 9900 7950 l
 cp gs col0 s gr 
% Polyline
n 9900 6300 m
 11400 6300 l gs col0 s gr 
% Polyline
n 9900 6600 m
 11400 6600 l gs col0 s gr 
% Polyline
n 9900 6900 m
 11400 6900 l gs col0 s gr 
% Polyline
n 9900 7200 m
 11400 7200 l gs col0 s gr 
% Polyline
n 9900 7500 m
 11400 7500 l gs col0 s gr 
% Polyline
n 10200 6000 m
 10200 7950 l gs col0 s gr 
% Polyline
gs  clippath
6585 2370 m 6585 2430 l 6737 2430 l 6617 2400 l 6737 2370 l cp
eoclip
n 9900 2400 m
 6600 2400 l gs col0 s gr gr

% arrowhead
n 6737 2370 m 6617 2400 l 6737 2430 l  col0 s
% Polyline
gs  clippath
6538 2444 m 6492 2482 l 6590 2598 l 6536 2488 l 6636 2560 l cp
eoclip
n 9900 6450 m
 6525 2475 l gs col0 s gr gr

% arrowhead
n 6636 2560 m 6536 2488 l 6590 2598 l  col0 s
% Polyline
gs  clippath
9816 6107 m 9856 6062 l 9742 5962 l 9813 6064 l 9703 6007 l cp
6083 2742 m 6043 2787 l 6157 2887 l 6087 2786 l 6196 2842 l cp
eoclip
n 6075 2775 m
 9825 6075 l gs col0 s gr gr

% arrowhead
n 6196 2842 m 6087 2786 l 6157 2887 l  col0 s
% arrowhead
n 9703 6007 m 9813 6064 l 9742 5962 l  col0 s
% Polyline
gs  clippath
9777 4369 m 9748 4316 l 9615 4388 l 9735 4358 l 9643 4441 l cp
eoclip
n 6000 6375 m
 9750 4350 l gs col0 s gr gr

% arrowhead
n 9643 4441 m 9735 4358 l 9615 4388 l  col0 s
% Polyline
gs  clippath
9849 5572 m 9828 5516 l 9686 5569 l 9809 5556 l 9707 5626 l cp
eoclip
n 6000 6975 m
 9825 5550 l gs col0 s gr gr

% arrowhead
n 9707 5626 m 9809 5556 l 9686 5569 l  col0 s
% Polyline
gs  clippath
9779 4965 m 9745 4916 l 9620 5003 l 9736 4959 l 9654 5052 l cp
eoclip
n 6000 7575 m
 9750 4950 l gs col0 s gr gr

% arrowhead
n 9654 5052 m 9736 4959 l 9620 5003 l  col0 s
% Polyline
gs  clippath
6283 6945 m 6286 7005 l 6438 6998 l 6317 6974 l 6435 6939 l cp
eoclip
n 9900 6825 m
 6300 6975 l gs col0 s gr gr

% arrowhead
n 6435 6939 m 6317 6974 l 6438 6998 l  col0 s
% Polyline
gs  clippath
6356 7547 m 6363 7606 l 6513 7587 l 6391 7573 l 6506 7528 l cp
eoclip
n 9900 7125 m
 6375 7575 l gs col0 s gr gr

% arrowhead
n 6506 7528 m 6391 7573 l 6513 7587 l  col0 s
% Polyline
gs  clippath
6268 6362 m 6308 6407 l 6422 6307 l 6312 6364 l 6382 6262 l cp
eoclip
n 9900 3225 m
 6300 6375 l gs col0 s gr gr

% arrowhead
n 6382 6262 m 6312 6364 l 6422 6307 l  col0 s
% Polyline
gs  clippath
6286 2744 m 6283 2804 l 6434 2813 l 6317 2776 l 6438 2753 l cp
eoclip
n 9900 3000 m
 6300 2775 l gs col0 s gr gr

% arrowhead
n 6438 2753 m 6317 2776 l 6434 2813 l  col0 s
% Polyline
gs  clippath
6368 6342 m 6352 6399 l 6498 6439 l 6391 6379 l 6514 6382 l cp
eoclip
n 9900 7350 m
 6375 6375 l gs col0 s gr gr

% arrowhead
n 6514 6382 m 6391 6379 l 6498 6439 l  col0 s
% Polyline
gs  clippath
9821 8133 m 9853 8082 l 9724 8002 l 9811 8091 l 9693 8053 l cp
eoclip
n 6075 5775 m
 9825 8100 l gs col0 s gr gr

% arrowhead
n 9693 8053 m 9811 8091 l 9724 8002 l  col0 s
% Polyline
gs  clippath
6269 5611 m 6307 5657 l 6424 5560 l 6313 5614 l 6385 5514 l cp
eoclip
n 9900 2625 m
 6300 5625 l gs col0 s gr gr

% arrowhead
n 6385 5514 m 6313 5614 l 6424 5560 l  col0 s
% Polyline
n 7500 8625 m
 7200 8850 l gs col0 s gr 
% Polyline
n 7800 8625 m
 8325 8925 l gs col0 s gr 
% Polyline
n 7800 9150 m
 8325 8925 l gs col0 s gr 
% Polyline
n 7500 9225 m
 7275 9600 l gs col0 s gr 
% Polyline
n 7800 9225 m
 8025 9525 l gs col0 s gr 
% Polyline
n 7650 8775 m
 7650 9000 l gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
1200 1650 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 1650 m
gs 1 -1 sc (#links) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
3600 1650 m
gs 1 -1 sc (Metadata) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6000 1650 m
gs 1 -1 sc (Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
3300 1050 m
gs 1 -1 sc (Inode Table) col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
9750 1050 m
gs 1 -1 sc (Data Block area) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2250 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2850 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 3450 m
gs 1 -1 sc (4) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4050 m
gs 1 -1 sc (5) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4650 m
gs 1 -1 sc (6) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5250 m
gs 1 -1 sc (7) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5850 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7050 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7650 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 8250 m
gs 1 -1 sc (12) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2100 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2700 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6300 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6900 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 7500 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2100 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2700 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6300 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6900 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 7500 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 1950 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2400 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2700 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3000 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3300 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 1950 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2325 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2700 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3225 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3000 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6225 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6525 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6825 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7125 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6150 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6450 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7125 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6825 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
8700 8325 m
gs 1 -1 sc (USER-MODE VIEW) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7425 m
gs 1 -1 sc (G) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7425 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 5850 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 5775 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 6450 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7650 8475 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7125 8700 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8025 8625 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8100 9150 m
gs 1 -1 sc (G) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9600 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7800 9600 m
gs 1 -1 sc (F) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9000 m
gs 1 -1 sc (C) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF .926
(Once the link has been completed, the "old" and the "ne)33.336 512.564
R .926(w" names are indistinguishable.)-.325 F .154(There is no w)33.336
527.564 R .154(ay to learn which w)-.13 F .155(as in f)-.13 F .155
(act the old name and which the ne)-.13 F 5.095 -.845(w. T)-.325 H .155
(his is a by-).845 F 1.3(product of the UNIX philosoph)33.336 542.564 R
4.55(yw)-.065 G 1.3
(hich de-couples the name of the \214le from the actual)-4.55 F(\214le.)
33.336 557.564 Q .17(Notice that the inode #9 \214eld)33.336 578.564 R
/F2 13/Times-Italic@0 SF(links)3.42 E F1 .17(has gone up.)3.42 F .17
(The operating system must maintain this)6.67 F .213
(counter in order to be a)33.336 593.564 R -.13(wa)-.195 G .213
(re of ho).13 F 3.463(wm)-.325 G(an)-3.463 E 3.463(yp)-.195 G .213
(aths e)-3.463 F .212(xist in the \214lesystem which point to this)-.195
F 3.25(inode. W)33.336 608.564 R 3.25(ec)-1.04 G(ould no)-3.25 E 3.25
(wr)-.325 G(emo)-3.25 E .39 -.195(ve t)-.195 H(he pathname "/D", by e)
.195 E -.195(xe)-.195 G(cuting the UNIX command:).195 E/F3 10/Courier@0
SF(rm /D)33.336 620.564 Q F1(This command will, in turn, e)33.336
635.564 Q -.195(xe)-.195 G(cute the underlying).195 E/F4 13/Courier@0 SF
(unlink)3.25 E F1(system call:)3.25 E F3(unlink\("/D"\);)33.336 647.564
Q F1(After which, the \214lesystem looks lik)33.336 662.564 Q 3.25(et)
-.13 G(his:)-3.25 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 10)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 468 660 -371.564 524 33.336 491.564 PBEGIN
%%BeginDocument: unlinked1.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unlinked1.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Thu Feb  3 22:45:15 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 660 524
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 524 moveto 0 0 lineto 660 0 lineto 660 524 lineto closepath clip newpath
-29.5 576.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 900 1800 m 6300 1800 l 6300 2400 l 900 2400 l
 cp gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 2400 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 2400 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 2400 l gs col0 s gr 
% Polyline
n 900 2400 m 6300 2400 l 6300 3000 l 900 3000 l
 cp gs col0 s gr 
% Polyline
n 1500 2400 m
 1500 3000 l gs col0 s gr 
% Polyline
n 2100 2400 m
 2100 3000 l gs col0 s gr 
% Polyline
n 5700 2400 m
 5700 3000 l gs col0 s gr 
% Polyline
n 900 3000 m 6300 3000 l 6300 3600 l 900 3600 l
 cp gs col0 s gr 
% Polyline
n 1500 3000 m
 1500 3600 l gs col0 s gr 
% Polyline
n 2100 3000 m
 2100 3600 l gs col0 s gr 
% Polyline
n 5700 3000 m
 5700 3600 l gs col0 s gr 
% Polyline
n 900 3600 m 6300 3600 l 6300 4200 l 900 4200 l
 cp gs col0 s gr 
% Polyline
n 1500 3600 m
 1500 4200 l gs col0 s gr 
% Polyline
n 2100 3600 m
 2100 4200 l gs col0 s gr 
% Polyline
n 5700 3600 m
 5700 4200 l gs col0 s gr 
% Polyline
n 900 4200 m 6300 4200 l 6300 4800 l 900 4800 l
 cp gs col0 s gr 
% Polyline
n 1500 4200 m
 1500 4800 l gs col0 s gr 
% Polyline
n 2100 4200 m
 2100 4800 l gs col0 s gr 
% Polyline
n 5700 4200 m
 5700 4800 l gs col0 s gr 
% Polyline
n 900 4800 m 6300 4800 l 6300 5400 l 900 5400 l
 cp gs col0 s gr 
% Polyline
n 1500 4800 m
 1500 5400 l gs col0 s gr 
% Polyline
n 2100 4800 m
 2100 5400 l gs col0 s gr 
% Polyline
n 5700 4800 m
 5700 5400 l gs col0 s gr 
% Polyline
n 900 5400 m 6300 5400 l 6300 6000 l 900 6000 l
 cp gs col0 s gr 
% Polyline
n 1500 5400 m
 1500 6000 l gs col0 s gr 
% Polyline
n 2100 5400 m
 2100 6000 l gs col0 s gr 
% Polyline
n 5700 5400 m
 5700 6000 l gs col0 s gr 
% Polyline
n 900 6000 m 6300 6000 l 6300 6600 l 900 6600 l
 cp gs col0 s gr 
% Polyline
n 1500 6000 m
 1500 6600 l gs col0 s gr 
% Polyline
n 2100 6000 m
 2100 6600 l gs col0 s gr 
% Polyline
n 5700 6000 m
 5700 6600 l gs col0 s gr 
% Polyline
n 900 6600 m 6300 6600 l 6300 7200 l 900 7200 l
 cp gs col0 s gr 
% Polyline
n 1500 6600 m
 1500 7200 l gs col0 s gr 
% Polyline
n 2100 6600 m
 2100 7200 l gs col0 s gr 
% Polyline
n 5700 6600 m
 5700 7200 l gs col0 s gr 
% Polyline
n 900 7200 m 6300 7200 l 6300 7800 l 900 7800 l
 cp gs col0 s gr 
% Polyline
n 1500 7200 m
 1500 7800 l gs col0 s gr 
% Polyline
n 2100 7200 m
 2100 7800 l gs col0 s gr 
% Polyline
n 5700 7200 m
 5700 7800 l gs col0 s gr 
% Polyline
n 900 7800 m 6300 7800 l 6300 8400 l 900 8400 l
 cp gs col0 s gr 
% Polyline
n 1500 7800 m
 1500 8400 l gs col0 s gr 
% Polyline
n 2100 7800 m
 2100 8400 l gs col0 s gr 
% Polyline
n 5700 7800 m
 5700 8400 l gs col0 s gr 
% Polyline
n 9900 4200 m 11475 4200 l 11475 4575 l 9900 4575 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 4425 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 4800 m 11475 4800 l 11475 5175 l 9900 5175 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5025 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 5325 m 11475 5325 l 11475 5700 l 9900 5700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5550 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 8100 m 11475 8100 l 11475 8475 l 9900 8475 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 8325 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Ellipse
n 7650 8625 150 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 7650 9166 150 150 0 360 DrawEllipse gs col0 s gr

% Polyline
n 9900 1725 m 11400 1725 l 11400 3975 l 9900 3975 l
 cp gs col0 s gr 
% Polyline
n 10200 1725 m
 10200 3975 l gs col0 s gr 
% Polyline
n 9900 2175 m
 11400 2175 l gs col0 s gr 
% Polyline
n 9900 2475 m
 11400 2475 l gs col0 s gr 
% Polyline
n 9900 2775 m
 11400 2775 l gs col0 s gr 
% Polyline
n 9900 3075 m
 11400 3075 l gs col0 s gr 
% Polyline
n 9900 3375 m
 11400 3375 l gs col0 s gr 
% Polyline
n 9900 3675 m
 11400 3675 l gs col0 s gr 
% Polyline
gs  clippath
9766 1904 m 9763 1844 l 9611 1853 l 9733 1876 l 9615 1913 l cp
6133 2070 m 6136 2130 l 6288 2121 l 6167 2099 l 6284 2061 l cp
eoclip
n 6150 2100 m
 9750 1875 l gs col0 s gr gr

% arrowhead
n 6284 2061 m 6167 2099 l 6288 2121 l  col0 s
% arrowhead
n 9615 1913 m 9733 1876 l 9611 1853 l  col0 s
% Polyline
n 9900 6000 m 11400 6000 l 11400 7950 l 9900 7950 l
 cp gs col0 s gr 
% Polyline
n 9900 6300 m
 11400 6300 l gs col0 s gr 
% Polyline
n 9900 6600 m
 11400 6600 l gs col0 s gr 
% Polyline
n 9900 6900 m
 11400 6900 l gs col0 s gr 
% Polyline
n 9900 7200 m
 11400 7200 l gs col0 s gr 
% Polyline
n 9900 7500 m
 11400 7500 l gs col0 s gr 
% Polyline
n 10200 6000 m
 10200 7950 l gs col0 s gr 
% Polyline
gs  clippath
6585 2370 m 6585 2430 l 6737 2430 l 6617 2400 l 6737 2370 l cp
eoclip
n 9900 2400 m
 6600 2400 l gs col0 s gr gr

% arrowhead
n 6737 2370 m 6617 2400 l 6737 2430 l  col0 s
% Polyline
gs  clippath
6538 2444 m 6492 2482 l 6590 2598 l 6536 2488 l 6636 2560 l cp
eoclip
n 9900 6450 m
 6525 2475 l gs col0 s gr gr

% arrowhead
n 6636 2560 m 6536 2488 l 6590 2598 l  col0 s
% Polyline
gs  clippath
9816 6107 m 9856 6062 l 9742 5962 l 9813 6064 l 9703 6007 l cp
6083 2742 m 6043 2787 l 6157 2887 l 6087 2786 l 6196 2842 l cp
eoclip
n 6075 2775 m
 9825 6075 l gs col0 s gr gr

% arrowhead
n 6196 2842 m 6087 2786 l 6157 2887 l  col0 s
% arrowhead
n 9703 6007 m 9813 6064 l 9742 5962 l  col0 s
% Polyline
gs  clippath
9777 4369 m 9748 4316 l 9615 4388 l 9735 4358 l 9643 4441 l cp
eoclip
n 6000 6375 m
 9750 4350 l gs col0 s gr gr

% arrowhead
n 9643 4441 m 9735 4358 l 9615 4388 l  col0 s
% Polyline
gs  clippath
9849 5572 m 9828 5516 l 9686 5569 l 9809 5556 l 9707 5626 l cp
eoclip
n 6000 6975 m
 9825 5550 l gs col0 s gr gr

% arrowhead
n 9707 5626 m 9809 5556 l 9686 5569 l  col0 s
% Polyline
gs  clippath
9779 4965 m 9745 4916 l 9620 5003 l 9736 4959 l 9654 5052 l cp
eoclip
n 6000 7575 m
 9750 4950 l gs col0 s gr gr

% arrowhead
n 9654 5052 m 9736 4959 l 9620 5003 l  col0 s
% Polyline
gs  clippath
6283 6945 m 6286 7005 l 6438 6998 l 6317 6974 l 6435 6939 l cp
eoclip
n 9900 6825 m
 6300 6975 l gs col0 s gr gr

% arrowhead
n 6435 6939 m 6317 6974 l 6438 6998 l  col0 s
% Polyline
gs  clippath
6356 7547 m 6363 7606 l 6513 7587 l 6391 7573 l 6506 7528 l cp
eoclip
n 9900 7125 m
 6375 7575 l gs col0 s gr gr

% arrowhead
n 6506 7528 m 6391 7573 l 6513 7587 l  col0 s
% Polyline
gs  clippath
6286 2744 m 6283 2804 l 6434 2813 l 6317 2776 l 6438 2753 l cp
eoclip
n 9900 3000 m
 6300 2775 l gs col0 s gr gr

% arrowhead
n 6438 2753 m 6317 2776 l 6434 2813 l  col0 s
% Polyline
gs  clippath
6368 6342 m 6352 6399 l 6498 6439 l 6391 6379 l 6514 6382 l cp
eoclip
n 9900 7350 m
 6375 6375 l gs col0 s gr gr

% arrowhead
n 6514 6382 m 6391 6379 l 6498 6439 l  col0 s
% Polyline
gs  clippath
9821 8133 m 9853 8082 l 9724 8002 l 9811 8091 l 9693 8053 l cp
eoclip
n 6075 5775 m
 9825 8100 l gs col0 s gr gr

% arrowhead
n 9693 8053 m 9811 8091 l 9724 8002 l  col0 s
% Polyline
gs  clippath
6269 5611 m 6307 5657 l 6424 5560 l 6313 5614 l 6385 5514 l cp
eoclip
n 9900 2625 m
 6300 5625 l gs col0 s gr gr

% arrowhead
n 6385 5514 m 6313 5614 l 6424 5560 l  col0 s
% Polyline
n 7500 8625 m
 7200 8850 l gs col0 s gr 
% Polyline
n 7800 9150 m
 8325 8925 l gs col0 s gr 
% Polyline
n 7500 9225 m
 7275 9600 l gs col0 s gr 
% Polyline
n 7800 9225 m
 8025 9525 l gs col0 s gr 
% Polyline
n 7650 8775 m
 7650 9000 l gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
1200 1650 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 1650 m
gs 1 -1 sc (#links) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
3600 1650 m
gs 1 -1 sc (Metadata) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6000 1650 m
gs 1 -1 sc (Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
3300 1050 m
gs 1 -1 sc (Inode Table) col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
9750 1050 m
gs 1 -1 sc (Data Block area) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2250 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2850 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 3450 m
gs 1 -1 sc (4) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4050 m
gs 1 -1 sc (5) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4650 m
gs 1 -1 sc (6) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5250 m
gs 1 -1 sc (7) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5850 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7050 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7650 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 8250 m
gs 1 -1 sc (12) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2100 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2700 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6300 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6900 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 7500 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2100 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2700 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6300 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6900 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 7500 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 1950 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2400 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2700 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3000 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 1950 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2325 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2700 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3000 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6225 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6525 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6825 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7125 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6150 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6450 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7125 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6825 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
8700 8325 m
gs 1 -1 sc (USER-MODE VIEW) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7425 m
gs 1 -1 sc (G) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7425 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 5850 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 5775 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 6450 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7650 8475 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7125 8700 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8100 9150 m
gs 1 -1 sc (G) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9600 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7800 9600 m
gs 1 -1 sc (F) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9000 m
gs 1 -1 sc (C) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF(Ev)33.336 512.564 Q 1.143
(en though we ha)-.195 F 1.533 -.195(ve i)-.26 H 1.143(ssued the).195 F
/F2 13/Times-Bold@0 SF(r)4.393 E F1(e)A F2(m)A F1 1.533 -.195(ove c)D
1.143(ommand, the actual \214le represented by inode).195 F 3.103
(#9 has not been remo)33.336 527.564 R -.195(ve)-.195 G 6.353(d! There)
.195 F 3.102(is still another pathname which refers to this \214le)6.352
F 3.952(\("/C/G"\). The)33.336 542.564 R .703
(\214le will not actually be deleted until its link count f)3.952 F .703
(alls to 0, i.e. there are)-.13 F .545
(no more pathnames that point to the \214le.)33.336 557.564 R .544
(This is wh)7.045 F 3.794(yt)-.065 G .544(here is an)-3.794 F/F3 13
/Courier@0 SF(unlink)3.794 E F1 .544(system call in)3.794 F(UNIX, b)
33.336 572.564 Q(ut no)-.26 E F3(remove)3.25 E F1(,)A F3(delete)3.25 E
F1(,)A F3(erase)3.25 E F1(or similarly named system call.)3.25 E F2
(File Deletion)232.132 608.564 Q F1(Let us e)33.336 638.564 Q -.195(xe)
-.195 G(cute:).195 E/F4 10/Courier@0 SF(unlink\("/C/G"\);)33.336 650.564
Q F1(The \214le system then looks lik)33.336 665.564 Q(e:)-.13 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 11)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 468 660 -371.564 524 33.336 491.564 PBEGIN
%%BeginDocument: unlinked2.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unlinked2.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Wed Sep  9 22:12:04 2015
%%For: hak@lex ()
%%BoundingBox: 0 0 660 524
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 524 moveto 0 0 lineto 660 0 lineto 660 524 lineto closepath clip newpath
-29.5 576.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 900 1800 m 6300 1800 l 6300 2400 l 900 2400 l
 cp gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 2400 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 2400 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 2400 l gs col0 s gr 
% Polyline
n 900 2400 m 6300 2400 l 6300 3000 l 900 3000 l
 cp gs col0 s gr 
% Polyline
n 1500 2400 m
 1500 3000 l gs col0 s gr 
% Polyline
n 2100 2400 m
 2100 3000 l gs col0 s gr 
% Polyline
n 5700 2400 m
 5700 3000 l gs col0 s gr 
% Polyline
n 900 3000 m 6300 3000 l 6300 3600 l 900 3600 l
 cp gs col0 s gr 
% Polyline
n 1500 3000 m
 1500 3600 l gs col0 s gr 
% Polyline
n 2100 3000 m
 2100 3600 l gs col0 s gr 
% Polyline
n 5700 3000 m
 5700 3600 l gs col0 s gr 
% Polyline
n 900 3600 m 6300 3600 l 6300 4200 l 900 4200 l
 cp gs col0 s gr 
% Polyline
n 1500 3600 m
 1500 4200 l gs col0 s gr 
% Polyline
n 2100 3600 m
 2100 4200 l gs col0 s gr 
% Polyline
n 5700 3600 m
 5700 4200 l gs col0 s gr 
% Polyline
n 900 4200 m 6300 4200 l 6300 4800 l 900 4800 l
 cp gs col0 s gr 
% Polyline
n 1500 4200 m
 1500 4800 l gs col0 s gr 
% Polyline
n 2100 4200 m
 2100 4800 l gs col0 s gr 
% Polyline
n 5700 4200 m
 5700 4800 l gs col0 s gr 
% Polyline
n 900 4800 m 6300 4800 l 6300 5400 l 900 5400 l
 cp gs col0 s gr 
% Polyline
n 1500 4800 m
 1500 5400 l gs col0 s gr 
% Polyline
n 2100 4800 m
 2100 5400 l gs col0 s gr 
% Polyline
n 5700 4800 m
 5700 5400 l gs col0 s gr 
% Polyline
n 900 5400 m 6300 5400 l 6300 6000 l 900 6000 l
 cp gs col0 s gr 
% Polyline
n 1500 5400 m
 1500 6000 l gs col0 s gr 
% Polyline
n 2100 5400 m
 2100 6000 l gs col0 s gr 
% Polyline
n 5700 5400 m
 5700 6000 l gs col0 s gr 
% Polyline
n 900 6000 m 6300 6000 l 6300 6600 l 900 6600 l
 cp gs col0 s gr 
% Polyline
n 1500 6000 m
 1500 6600 l gs col0 s gr 
% Polyline
n 2100 6000 m
 2100 6600 l gs col0 s gr 
% Polyline
n 5700 6000 m
 5700 6600 l gs col0 s gr 
% Polyline
n 900 6600 m 6300 6600 l 6300 7200 l 900 7200 l
 cp gs col0 s gr 
% Polyline
n 1500 6600 m
 1500 7200 l gs col0 s gr 
% Polyline
n 2100 6600 m
 2100 7200 l gs col0 s gr 
% Polyline
n 5700 6600 m
 5700 7200 l gs col0 s gr 
% Polyline
n 900 7200 m 6300 7200 l 6300 7800 l 900 7800 l
 cp gs col0 s gr 
% Polyline
n 1500 7200 m
 1500 7800 l gs col0 s gr 
% Polyline
n 2100 7200 m
 2100 7800 l gs col0 s gr 
% Polyline
n 5700 7200 m
 5700 7800 l gs col0 s gr 
% Polyline
n 900 7800 m 6300 7800 l 6300 8400 l 900 8400 l
 cp gs col0 s gr 
% Polyline
n 1500 7800 m
 1500 8400 l gs col0 s gr 
% Polyline
n 2100 7800 m
 2100 8400 l gs col0 s gr 
% Polyline
n 5700 7800 m
 5700 8400 l gs col0 s gr 
% Polyline
n 9900 4200 m 11475 4200 l 11475 4575 l 9900 4575 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 4425 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 4800 m 11475 4800 l 11475 5175 l 9900 5175 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5025 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 5325 m 11475 5325 l 11475 5700 l 9900 5700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5550 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 8100 m 11475 8100 l 11475 8475 l 9900 8475 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 8325 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Ellipse
n 7650 8625 150 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 7650 9166 150 150 0 360 DrawEllipse gs col0 s gr

% Polyline
n 9900 1725 m 11400 1725 l 11400 3975 l 9900 3975 l
 cp gs col0 s gr 
% Polyline
n 10200 1725 m
 10200 3975 l gs col0 s gr 
% Polyline
n 9900 2175 m
 11400 2175 l gs col0 s gr 
% Polyline
n 9900 2475 m
 11400 2475 l gs col0 s gr 
% Polyline
n 9900 2775 m
 11400 2775 l gs col0 s gr 
% Polyline
n 9900 3075 m
 11400 3075 l gs col0 s gr 
% Polyline
n 9900 3375 m
 11400 3375 l gs col0 s gr 
% Polyline
n 9900 3675 m
 11400 3675 l gs col0 s gr 
% Polyline
gs  clippath
9766 1904 m 9763 1844 l 9611 1853 l 9733 1876 l 9615 1913 l cp
6133 2070 m 6136 2130 l 6288 2121 l 6167 2099 l 6284 2061 l cp
eoclip
n 6150 2100 m
 9750 1875 l gs col0 s gr gr

% arrowhead
n 6284 2061 m 6167 2099 l 6288 2121 l  col0 s
% arrowhead
n 9615 1913 m 9733 1876 l 9611 1853 l  col0 s
% Polyline
n 9900 6000 m 11400 6000 l 11400 7950 l 9900 7950 l
 cp gs col0 s gr 
% Polyline
n 9900 6300 m
 11400 6300 l gs col0 s gr 
% Polyline
n 9900 6600 m
 11400 6600 l gs col0 s gr 
% Polyline
n 9900 6900 m
 11400 6900 l gs col0 s gr 
% Polyline
n 9900 7200 m
 11400 7200 l gs col0 s gr 
% Polyline
n 9900 7500 m
 11400 7500 l gs col0 s gr 
% Polyline
n 10200 6000 m
 10200 7950 l gs col0 s gr 
% Polyline
gs  clippath
6585 2370 m 6585 2430 l 6737 2430 l 6617 2400 l 6737 2370 l cp
eoclip
n 9900 2400 m
 6600 2400 l gs col0 s gr gr

% arrowhead
n 6737 2370 m 6617 2400 l 6737 2430 l  col0 s
% Polyline
gs  clippath
6538 2444 m 6492 2482 l 6590 2598 l 6536 2488 l 6636 2560 l cp
eoclip
n 9900 6450 m
 6525 2475 l gs col0 s gr gr

% arrowhead
n 6636 2560 m 6536 2488 l 6590 2598 l  col0 s
% Polyline
gs  clippath
9816 6107 m 9856 6062 l 9742 5962 l 9813 6064 l 9703 6007 l cp
6083 2742 m 6043 2787 l 6157 2887 l 6087 2786 l 6196 2842 l cp
eoclip
n 6075 2775 m
 9825 6075 l gs col0 s gr gr

% arrowhead
n 6196 2842 m 6087 2786 l 6157 2887 l  col0 s
% arrowhead
n 9703 6007 m 9813 6064 l 9742 5962 l  col0 s
% Polyline
gs  clippath
9849 5572 m 9828 5516 l 9686 5569 l 9809 5556 l 9707 5626 l cp
eoclip
n 6000 6975 m
 9825 5550 l gs col0 s gr gr

% arrowhead
n 9707 5626 m 9809 5556 l 9686 5569 l  col0 s
% Polyline
gs  clippath
9779 4965 m 9745 4916 l 9620 5003 l 9736 4959 l 9654 5052 l cp
eoclip
n 6000 7575 m
 9750 4950 l gs col0 s gr gr

% arrowhead
n 9654 5052 m 9736 4959 l 9620 5003 l  col0 s
% Polyline
gs  clippath
6283 6945 m 6286 7005 l 6438 6998 l 6317 6974 l 6435 6939 l cp
eoclip
n 9900 6825 m
 6300 6975 l gs col0 s gr gr

% arrowhead
n 6435 6939 m 6317 6974 l 6438 6998 l  col0 s
% Polyline
gs  clippath
6356 7547 m 6363 7606 l 6513 7587 l 6391 7573 l 6506 7528 l cp
eoclip
n 9900 7125 m
 6375 7575 l gs col0 s gr gr

% arrowhead
n 6506 7528 m 6391 7573 l 6513 7587 l  col0 s
% Polyline
gs  clippath
6286 2744 m 6283 2804 l 6434 2813 l 6317 2776 l 6438 2753 l cp
eoclip
n 9900 3000 m
 6300 2775 l gs col0 s gr gr

% arrowhead
n 6438 2753 m 6317 2776 l 6434 2813 l  col0 s
% Polyline
gs  clippath
9821 8133 m 9853 8082 l 9724 8002 l 9811 8091 l 9693 8053 l cp
eoclip
n 6075 5775 m
 9825 8100 l gs col0 s gr gr

% arrowhead
n 9693 8053 m 9811 8091 l 9724 8002 l  col0 s
% Polyline
gs  clippath
6269 5611 m 6307 5657 l 6424 5560 l 6313 5614 l 6385 5514 l cp
eoclip
n 9900 2625 m
 6300 5625 l gs col0 s gr gr

% arrowhead
n 6385 5514 m 6313 5614 l 6424 5560 l  col0 s
% Polyline
n 7500 8625 m
 7200 8850 l gs col0 s gr 
% Polyline
n 7500 9225 m
 7275 9600 l gs col0 s gr 
% Polyline
n 7800 9225 m
 8025 9525 l gs col0 s gr 
% Polyline
n 7650 8775 m
 7650 9000 l gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
9777 4369 m 9748 4316 l 9615 4388 l 9735 4358 l 9643 4441 l cp
eoclip
n 6000 6375 m
 9750 4350 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 9643 4441 m 9735 4358 l 9615 4388 l  col0 s
/Times-Roman-iso ff 200.00 scf sf
1200 1650 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 1650 m
gs 1 -1 sc (#links) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
3600 1650 m
gs 1 -1 sc (Metadata) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6000 1650 m
gs 1 -1 sc (Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
3300 1050 m
gs 1 -1 sc (Inode Table) col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
9750 1050 m
gs 1 -1 sc (Data Block area) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2250 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2850 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 3450 m
gs 1 -1 sc (4) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4050 m
gs 1 -1 sc (5) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4650 m
gs 1 -1 sc (6) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5250 m
gs 1 -1 sc (7) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5850 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7050 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7650 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 8250 m
gs 1 -1 sc (12) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2100 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2700 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6300 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6900 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 7500 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2100 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2700 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6300 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6900 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 7500 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 1950 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2400 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2700 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3000 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 1950 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2325 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2700 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3000 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6225 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6525 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6825 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7125 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6150 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6450 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7125 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6825 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
8700 8325 m
gs 1 -1 sc (USER-MODE VIEW) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 5850 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 5775 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 6450 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7650 8475 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7125 8700 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9600 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7800 9600 m
gs 1 -1 sc (F) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
7425 9000 m
gs 1 -1 sc (C) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF(No)33.336 512.564 Q 3.503(wt)-.325 G
.254(here are no pathnames pointing to inode #9.)-3.503 F .254
(There is no w)6.754 F .254(ay to access the \214le e)-.13 F -.195(ve)
-.325 G(r).195 E(ag)33.336 527.564 Q 4.317(ain. Its)-.065 F 1.067
(link count f)4.317 F 1.067(alls to 0 and it is considered deleted.)-.13
F 1.066([Linux calls these "orphan")7.567 F .46
(inodes] Its data blocks are mark)33.336 542.564 R .46
(ed as free in the free map and the inode structure itself is)-.13 F
(mark)33.336 557.564 Q .533(ed as free and allo)-.13 F .532
(wed to be re-used when needed.)-.325 F .532
(Note that the deletion of the \214le)7.032 F 4.186(does not destro)
33.336 572.564 R 7.437(yt)-.13 G 4.187(he actual data, b)-7.437 F 4.187
(ut merely marks those data blocks as free for)-.26 F 2.327
(subsequent use.)33.336 587.564 R 2.326(This can be a security e)8.826 F
2.326(xposure if the \214le contains sensiti)-.195 F 2.716 -.195(ve d)
-.325 H 5.576(ata. [).195 F .657(Because the data blocks pointers in th\
e inode are not erased when the link count reaches)33.336 602.564 R .14
(0, an unlink)33.336 617.564 R .139(ed \214le could be reco)-.13 F -.195
(ve)-.195 G .139(red intact if one kno).195 F .139
(ws the inode number \(or can \214nd it)-.325 F .669
(by searching through all of the deleted \214les for a gi)33.336 632.564
R -.195(ve)-.325 G 3.92(np).195 G 3.92(attern\). There)-3.92 F .67
(is no system call)3.92 F 1.943(to do this, b)33.336 647.564 R 1.943
(ut using a byte-le)-.26 F -.195(ve)-.325 G 5.193<6c8c>.195 G 1.943
(lesystem editor such as)-5.193 F/F2 13/Courier@0 SF(debugfs)5.193 E F1
1.943(is is f)5.193 F 1.943(airly easy)-.13 F(.)-.845 E(Ho)33.336
662.564 Q(we)-.325 E -.195(ve)-.325 G 1.834 -.52(r, i).195 H 4.044(ft)
.52 G .794(he v)-4.044 F .794(olume has had signi\214cant write acti)
-.26 F .794(vity since the accidental deletion, it)-.325 F .256
(becomes increasingly lik)33.336 677.564 R .255
(ely that either the inode has been re-used or the data blocks ha)-.13 F
-.195(ve)-.26 G 1.745(been partially or entirely re-used.)33.336 692.564
R 1.745(This w)8.245 F 1.745(ould depend on ho)-.13 F 4.995(wm)-.325 G
1.745(uch writing has tak)-4.995 F(en)-.13 E(place and ho)33.336 707.564
Q 3.25(wt)-.325 G(ight the v)-3.25 E
(olume is on free inodes and free data blocks. ])-.26 E/F3 13
/Times-Bold@0 SF -.13(BU)33.336 728.564 S(T).13 E F1 3.279(,i)C 3.279
(fa)-3.279 G .419 -.195(ny p)-3.279 H .029(rocess happened to ha).195 F
.418 -.195(ve t)-.26 H .028
(he \214le controlled by inode #9 open at the time, the).195 F .803
(resources w)33.336 743.564 R .803(ould not be freed, and the \214le w)
-.13 F .804(ould continue to be acti)-.13 F -.195(ve)-.325 G 4.054(,u)
.195 G .804(ntil that process)-4.054 F 0 Cg EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 12)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF -.195(ex)33.336 120 S 1.271
(its or closes the \214le.).195 F 1.27
(This leads to the interesting phenomenon of "ghost \214les" under)7.77
F 1.406(UNIX, in which \214les continue to e)33.336 135 R 1.407
(xist and consume disk space, b)-.195 F 1.407(ut can not be opened)-.26
F(ne)33.336 150 Q 6.215 -.845(w. T)-.325 H 1.275
(here are some systems programming tricks which e).845 F 1.275
(xploit this, e.g. the ability to)-.195 F(ha)33.336 165 Q .39 -.195
(ve a t)-.26 H(emporary w).195 E
(orking \214le which is guaranteed to disappear when the process e)-.13
E(xits.)-.195 E/F2 13/Times-Bold@0 SF(Symbolic Links)224.169 195 Q F1
.864(Symbolic links, aka soft links, aka symlinks, w)33.336 225 R .865
(as a kluge-on feature added to the UNIX)-.13 F 6.342(\214lesystem. All)
33.336 240 R 3.092(modern UNIX v)6.342 F 3.092(ariants support it.)-.325
F(Unlik)9.592 E 6.342(eah)-.13 G 3.092(ard link, a symlink is)-6.342 F
5.385(asymmetrical. There)33.336 255 R 2.136
(is a de\214nite a link and a de\214nite tar)5.385 F 5.386(get. The)
-.234 F 2.136(symlink is merely)5.386 F .675
(another inode type \(S_IFLNK\).)33.336 270 R .675
(The data associated with that inode form a string that is)7.175 F 1.17
(substituted into the pathname when the link is tra)33.336 285 R -.195
(ve)-.26 G 4.42(rsed. A).195 F 1.17(symlink is created with the)4.42 F
/F3 13/Courier@0 SF(symlink)33.336 300 Q F1(system call:)3.25 E/F4 10
/Courier@0 SF(symlink\("/B","/C/Z"\);)33.336 312 Q F1 .68
(The \214rst ar)33.336 327 R .68(gument is the tar)-.234 F .68
(get of the link \(the e)-.234 F .68
(xisting node\), the second is a path name)-.195 F 1.169
(which will be created as the symlink.)33.336 342 R 1.169
(Note that the "e)7.669 F 1.169(xisting" name need not presently)-.195 F
-.195(ex)33.336 357 S 1.098(ist; it is permissible and e).195 F -.195
(ve)-.325 G 4.348(nu).195 G 1.098(seful to mak)-4.348 F 4.348(eas)-.13 G
1.098(ymbolic link to a non-e)-4.348 F 1.098(xistent tar)-.195 F(get.)
-.234 E .458(The symlink can start with a leading / in which case it is\
 absolute, otherwise it is relati)33.336 372 R -.195(ve)-.325 G 3.282
(to the symlink inode')33.336 387 R 6.531(sp)-.715 G 3.281
(lace in the \214lesystem tree.)-6.531 F 3.281
(It is a common idiom to ha)9.781 F -.195(ve)-.26 G
(symlinks with relati)33.336 402 Q .39 -.195(ve p)-.325 H
(athnames, such as "../../bin/foo").195 E(After e)33.336 423 Q -.195(xe)
-.195 G(cuting the system call abo).195 E -.195(ve)-.195 G 3.25(,o).195
G(ur \214lesystem looks lik)-3.25 E 3.25(et)-.13 G(his:)-3.25 E 0 Cg EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 13)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 468 697 -351.839 524 33.336 471.839 PBEGIN
%%BeginDocument: symlink.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: symlink.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Wed Sep 21 22:15:58 2016
%%For: hak@lex ()
%%BoundingBox: 0 0 697 524
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 524 moveto 0 0 lineto 697 0 lineto 697 524 lineto closepath clip newpath
-29.5 576.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 900 1800 m 6300 1800 l 6300 2400 l 900 2400 l
 cp gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 2400 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 2400 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 2400 l gs col0 s gr 
% Polyline
n 900 2400 m 6300 2400 l 6300 3000 l 900 3000 l
 cp gs col0 s gr 
% Polyline
n 1500 2400 m
 1500 3000 l gs col0 s gr 
% Polyline
n 2100 2400 m
 2100 3000 l gs col0 s gr 
% Polyline
n 5700 2400 m
 5700 3000 l gs col0 s gr 
% Polyline
n 900 3000 m 6300 3000 l 6300 3600 l 900 3600 l
 cp gs col0 s gr 
% Polyline
n 1500 3000 m
 1500 3600 l gs col0 s gr 
% Polyline
n 2100 3000 m
 2100 3600 l gs col0 s gr 
% Polyline
n 5700 3000 m
 5700 3600 l gs col0 s gr 
% Polyline
n 900 3600 m 6300 3600 l 6300 4200 l 900 4200 l
 cp gs col0 s gr 
% Polyline
n 1500 3600 m
 1500 4200 l gs col0 s gr 
% Polyline
n 2100 3600 m
 2100 4200 l gs col0 s gr 
% Polyline
n 5700 3600 m
 5700 4200 l gs col0 s gr 
% Polyline
n 900 4200 m 6300 4200 l 6300 4800 l 900 4800 l
 cp gs col0 s gr 
% Polyline
n 1500 4200 m
 1500 4800 l gs col0 s gr 
% Polyline
n 2100 4200 m
 2100 4800 l gs col0 s gr 
% Polyline
n 5700 4200 m
 5700 4800 l gs col0 s gr 
% Polyline
n 900 4800 m 6300 4800 l 6300 5400 l 900 5400 l
 cp gs col0 s gr 
% Polyline
n 1500 4800 m
 1500 5400 l gs col0 s gr 
% Polyline
n 2100 4800 m
 2100 5400 l gs col0 s gr 
% Polyline
n 5700 4800 m
 5700 5400 l gs col0 s gr 
% Polyline
n 900 5400 m 6300 5400 l 6300 6000 l 900 6000 l
 cp gs col0 s gr 
% Polyline
n 1500 5400 m
 1500 6000 l gs col0 s gr 
% Polyline
n 2100 5400 m
 2100 6000 l gs col0 s gr 
% Polyline
n 5700 5400 m
 5700 6000 l gs col0 s gr 
% Polyline
n 900 6000 m 6300 6000 l 6300 6600 l 900 6600 l
 cp gs col0 s gr 
% Polyline
n 1500 6000 m
 1500 6600 l gs col0 s gr 
% Polyline
n 2100 6000 m
 2100 6600 l gs col0 s gr 
% Polyline
n 5700 6000 m
 5700 6600 l gs col0 s gr 
% Polyline
n 900 6600 m 6300 6600 l 6300 7200 l 900 7200 l
 cp gs col0 s gr 
% Polyline
n 1500 6600 m
 1500 7200 l gs col0 s gr 
% Polyline
n 2100 6600 m
 2100 7200 l gs col0 s gr 
% Polyline
n 5700 6600 m
 5700 7200 l gs col0 s gr 
% Polyline
n 900 7200 m 6300 7200 l 6300 7800 l 900 7800 l
 cp gs col0 s gr 
% Polyline
n 1500 7200 m
 1500 7800 l gs col0 s gr 
% Polyline
n 2100 7200 m
 2100 7800 l gs col0 s gr 
% Polyline
n 5700 7200 m
 5700 7800 l gs col0 s gr 
% Polyline
n 900 7800 m 6300 7800 l 6300 8400 l 900 8400 l
 cp gs col0 s gr 
% Polyline
n 1500 7800 m
 1500 8400 l gs col0 s gr 
% Polyline
n 2100 7800 m
 2100 8400 l gs col0 s gr 
% Polyline
n 5700 7800 m
 5700 8400 l gs col0 s gr 
% Polyline
n 9900 4200 m 11475 4200 l 11475 4575 l 9900 4575 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 4425 m
gs 1 -1 sc (/B) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 4800 m 11475 4800 l 11475 5175 l 9900 5175 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5025 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9900 5325 m 11475 5325 l 11475 5700 l 9900 5700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10650 5550 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 9825 8100 m 11400 8100 l 11400 8475 l 9825 8475 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
10575 8325 m
gs 1 -1 sc (data) dup sw pop 2 div neg 0 rm  col0 sh gr
% Arc
gs  clippath
11395 2591 m 11375 2648 l 11519 2699 l 11416 2631 l 11539 2642 l cp
eoclip
 [60] 0 sd
n 11154.2 3525.0 933.0 74.7 -74.7 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 11539 2642 m 11416 2631 l 11519 2699 l  col0 s
% Ellipse
n 8550 8625 150 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 8550 9150 150 150 0 360 DrawEllipse gs col0 s gr

% Polyline
n 9900 1725 m 11400 1725 l 11400 3975 l 9900 3975 l
 cp gs col0 s gr 
% Polyline
n 10200 1725 m
 10200 3975 l gs col0 s gr 
% Polyline
n 9900 2175 m
 11400 2175 l gs col0 s gr 
% Polyline
n 9900 2475 m
 11400 2475 l gs col0 s gr 
% Polyline
n 9900 2775 m
 11400 2775 l gs col0 s gr 
% Polyline
n 9900 3075 m
 11400 3075 l gs col0 s gr 
% Polyline
n 9900 3375 m
 11400 3375 l gs col0 s gr 
% Polyline
n 9900 3675 m
 11400 3675 l gs col0 s gr 
% Polyline
gs  clippath
9766 1904 m 9763 1844 l 9611 1853 l 9733 1876 l 9615 1913 l cp
6133 2070 m 6136 2130 l 6288 2121 l 6167 2099 l 6284 2061 l cp
eoclip
n 6150 2100 m
 9750 1875 l gs col0 s gr gr

% arrowhead
n 6284 2061 m 6167 2099 l 6288 2121 l  col0 s
% arrowhead
n 9615 1913 m 9733 1876 l 9611 1853 l  col0 s
% Polyline
n 9900 6000 m 11400 6000 l 11400 7950 l 9900 7950 l
 cp gs col0 s gr 
% Polyline
n 9900 6300 m
 11400 6300 l gs col0 s gr 
% Polyline
n 9900 6600 m
 11400 6600 l gs col0 s gr 
% Polyline
n 9900 6900 m
 11400 6900 l gs col0 s gr 
% Polyline
n 9900 7200 m
 11400 7200 l gs col0 s gr 
% Polyline
n 9900 7500 m
 11400 7500 l gs col0 s gr 
% Polyline
n 10200 6000 m
 10200 7950 l gs col0 s gr 
% Polyline
gs  clippath
6585 2370 m 6585 2430 l 6737 2430 l 6617 2400 l 6737 2370 l cp
eoclip
n 9900 2400 m
 6600 2400 l gs col0 s gr gr

% arrowhead
n 6737 2370 m 6617 2400 l 6737 2430 l  col0 s
% Polyline
gs  clippath
6538 2444 m 6492 2482 l 6590 2598 l 6536 2488 l 6636 2560 l cp
eoclip
n 9900 6450 m
 6525 2475 l gs col0 s gr gr

% arrowhead
n 6636 2560 m 6536 2488 l 6590 2598 l  col0 s
% Polyline
gs  clippath
9816 6107 m 9856 6062 l 9742 5962 l 9813 6064 l 9703 6007 l cp
6083 2742 m 6043 2787 l 6157 2887 l 6087 2786 l 6196 2842 l cp
eoclip
n 6075 2775 m
 9825 6075 l gs col0 s gr gr

% arrowhead
n 6196 2842 m 6087 2786 l 6157 2887 l  col0 s
% arrowhead
n 9703 6007 m 9813 6064 l 9742 5962 l  col0 s
% Polyline
gs  clippath
9849 5572 m 9828 5516 l 9686 5569 l 9809 5556 l 9707 5626 l cp
eoclip
n 6000 6975 m
 9825 5550 l gs col0 s gr gr

% arrowhead
n 9707 5626 m 9809 5556 l 9686 5569 l  col0 s
% Polyline
gs  clippath
9779 4965 m 9745 4916 l 9620 5003 l 9736 4959 l 9654 5052 l cp
eoclip
n 6000 7575 m
 9750 4950 l gs col0 s gr gr

% arrowhead
n 9654 5052 m 9736 4959 l 9620 5003 l  col0 s
% Polyline
gs  clippath
6283 6945 m 6286 7005 l 6438 6998 l 6317 6974 l 6435 6939 l cp
eoclip
n 9900 6825 m
 6300 6975 l gs col0 s gr gr

% arrowhead
n 6435 6939 m 6317 6974 l 6438 6998 l  col0 s
% Polyline
gs  clippath
6356 7547 m 6363 7606 l 6513 7587 l 6391 7573 l 6506 7528 l cp
eoclip
n 9900 7125 m
 6375 7575 l gs col0 s gr gr

% arrowhead
n 6506 7528 m 6391 7573 l 6513 7587 l  col0 s
% Polyline
gs  clippath
6286 2744 m 6283 2804 l 6434 2813 l 6317 2776 l 6438 2753 l cp
eoclip
n 9900 3000 m
 6300 2775 l gs col0 s gr gr

% arrowhead
n 6438 2753 m 6317 2776 l 6434 2813 l  col0 s
% Polyline
gs  clippath
6294 6342 m 6277 6399 l 6422 6442 l 6316 6380 l 6439 6384 l cp
eoclip
n 9900 7425 m
 6300 6375 l gs col0 s gr gr

% arrowhead
n 6439 6384 m 6316 6380 l 6422 6442 l  col0 s
% Polyline
gs  clippath
9776 4445 m 9750 4391 l 9614 4458 l 9735 4432 l 9641 4512 l cp
eoclip
n 6000 6300 m
 9750 4425 l gs col0 s gr gr

% arrowhead
n 9641 4512 m 9735 4432 l 9614 4458 l  col0 s
% Polyline
gs  clippath
9821 8133 m 9853 8082 l 9726 8000 l 9811 8091 l 9693 8050 l cp
eoclip
n 6000 5625 m
 9825 8100 l gs col0 s gr gr

% arrowhead
n 9693 8050 m 9811 8091 l 9726 8000 l  col0 s
% Polyline
gs  clippath
6418 5687 m 6458 5732 l 6571 5631 l 6462 5689 l 6531 5586 l cp
eoclip
n 9900 2625 m
 6450 5700 l gs col0 s gr gr

% arrowhead
n 6531 5586 m 6462 5689 l 6571 5631 l  col0 s
% Polyline
n 8400 9225 m
 8175 9450 l gs col0 s gr 
% Polyline
n 8700 9225 m
 8925 9450 l gs col0 s gr 
% Polyline
n 8700 9150 m
 9300 9150 l gs col0 s gr 
% Polyline
n 8550 8775 m
 8550 9000 l gs col0 s gr 
% Polyline
n 8400 8625 m
 8025 8925 l gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
8057 8992 m 7999 8978 l 7962 9125 l 8021 9016 l 8021 9139 l cp
eoclip
n 9600 9150 m 9600 9600 l 7875 9600 l
 8025 9000 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 8021 9139 m 8021 9016 l 7962 9125 l  col0 s
/Times-Roman-iso ff 200.00 scf sf
1200 1650 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 1650 m
gs 1 -1 sc (#links) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
3600 1650 m
gs 1 -1 sc (Metadata) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6000 1650 m
gs 1 -1 sc (Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
3300 1050 m
gs 1 -1 sc (Inode Table) col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
9750 1050 m
gs 1 -1 sc (Data Block area) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2250 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 2850 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 3450 m
gs 1 -1 sc (4) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4050 m
gs 1 -1 sc (5) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 4650 m
gs 1 -1 sc (6) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5250 m
gs 1 -1 sc (7) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 5850 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 6450 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7050 m
gs 1 -1 sc (`0) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 7650 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
600 8250 m
gs 1 -1 sc (12) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2100 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 2700 m
gs 1 -1 sc (DIR) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6300 m
gs 1 -1 sc (LINK) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 6900 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 7500 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2100 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 2700 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6900 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 7500 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 1950 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2400 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 2700 m
gs 1 -1 sc (8) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 3000 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 1950 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2325 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 2700 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 3000 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6225 m
gs 1 -1 sc (3) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6525 m
gs 1 -1 sc (2) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 6825 m
gs 1 -1 sc (10) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7125 m
gs 1 -1 sc (11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6150 m
gs 1 -1 sc (.) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6450 m
gs 1 -1 sc (..) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7125 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 6825 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
8700 8325 m
gs 1 -1 sc (USER-MODE VIEW) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 6300 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10050 7425 m
gs 1 -1 sc (9) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1200 5775 m
gs 1 -1 sc (FILE) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
1800 5775 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
10650 7425 m
gs 1 -1 sc (Z) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8550 8475 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
9300 9150 m
gs 1 -1 sc ("/B") col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8175 8700 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8400 8925 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8175 9300 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
9000 9000 m
gs 1 -1 sc (Z) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8700 9600 m
gs 1 -1 sc (F) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF .514(Most system calls "follo)33.336
492.839 R .514(w" symlinks, i.e. the)-.325 F 3.765(yt)-.195 G .515
(ransparently substitute the contents of the)-3.765 F 1.348
(link into the pathname and continue tra)33.336 507.839 R -.195(ve)-.26
G 4.597(rsal. \().195 F/F2 13/Courier@0 SF(open\(2\))A F1(follo)4.597 E
1.347(ws symlinks, unless the)-.325 F(\215ag)33.336 522.839 Q F2
(O_NOFOLLOW)7.574 E F1 4.324(is gi)7.574 F -.195(ve)-.325 G(n.\)).195 E
F2(unlink)10.824 E F1 4.324(does not follo)7.574 F 7.574(ws)-.325 G
7.575(ymlinks. An)-7.574 F 4.325(attempt to)7.575 F F2(unlink)33.336
537.839 Q F1 4.698(an)4.698 G 1.448
(ode which is a symlink will cause that symlink to be deleted, b)-4.698
F 1.447(ut will not)-.26 F(ha)33.336 552.839 Q 1.003 -.195(ve a)-.26 H
1.003 -.195(ny e).195 H -.325(ff).195 G .613(ect on the tar).325 F 3.863
(get. Also)-.234 F .613(note that no count is k)3.863 F .614
(ept on the number of symlinks)-.13 F 2.639
(pointing to a particular tar)33.336 567.839 R 5.889(get. That')-.234 F
5.889(sw)-.715 G 2.769 -.065(hy i)-5.889 H(t').065 E 5.889(sas)-.715 G
2.639(oft link.)-5.889 F 2.639(It is possible to create a)9.139 F .297
(circularity of symlinks.)33.336 582.839 R .297
(This will not be detected until an attempt is made to tra)6.797 F -.195
(ve)-.26 G .298(rse this).195 F 1.609
(loop, at which point the operating system will gi)33.336 597.839 R
1.999 -.195(ve a)-.325 H 4.859(ne).195 G 1.609(rror ELOOP)-4.859 F 8.109
(.M)-1.443 G 1.609(ost UNIX-lik)-8.109 F(e)-.13 E -.13(ke)33.336 612.839
S .279(rnels use a f).13 F .28(airly dumb algorithm for symlink loop de\
tection which places a static limit)-.13 F(on the number of symlink e)
33.336 627.839 Q(xpansions allo)-.195 E(wed at path e)-.325 E -.325(va)
-.325 G(luation time.).325 E 3.089 -1.04(To r)33.336 648.839 T(etrie)
1.04 E 1.399 -.195(ve t)-.325 H 1.009
(he metadata associated with the symlink itself, without follo).195 F
1.009(wing it, use the)-.325 F F2(lstat)33.336 663.839 Q F1 1.211
(system call, which is identical to)4.46 F F2(stat)4.461 E F1 -.195(ex)
4.461 G 1.211(cept it does not follo).195 F 4.461(ws)-.325 G 4.461
(ymlinks. T)-4.461 F(o)-1.04 E(retrie)33.336 678.839 Q .39 -.195(ve t)
-.325 H(he te).195 E(xt v)-.195 E(alue of the symlink \(e.g.)-.325 E F2
(/B)3.25 E F1(\), use the)A F2(readlink)3.25 E F1(system call.)3.25 E
.963(Symlinks are useful when it is desired to preserv)33.336 699.839 R
4.213(et)-.195 G .963(he distinction between the "real" \214le)-4.213 F
.736(and its "alias".)33.336 714.839 R .737
(Most other operating systems pro)7.236 F .737(vide an equi)-.195 F
-.325(va)-.325 G .737(lent mechanism.).325 F .737(In f)7.237 F(act,)-.13
E 1.298(the hard link is f)33.336 729.839 R 1.298(airly unique to UNIX.)
-.13 F 4.548(Ar)7.798 G 1.297
(estriction of the hard link, which a symlink)-4.548 F -.195(ove)33.336
744.839 S .789(rcomes, is that it is not possible to mak).195 F 4.039
(eah)-.13 G .789(ard link across)-4.039 F/F3 13/Times-Bold@0 SF -.13(vo)
4.039 G(lumes).13 E F1 7.289(.T)C .789(he reason for)-7.289 F 0 Cg EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 14)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF(this will become clear v)33.336 120 Q
(ery shortly)-.195 E(.)-.845 E/F2 13/Times-Bold@0 SF(Dir)192.521 150 Q
(ectories and link counts)-.234 E F1 3.25(An)33.336 180 S .65 -.325
(ew d)-3.25 H(irectory is created with the mkdir system call:).325 E/F3
10/Courier@0 SF(mkdir\("/foo/bar",0755\);)33.336 192 Q F1 1.222
(The second parameter is the)33.336 207 R F2(mode)4.472 E F1 4.472(,o)C
4.472(rp)-4.472 G 1.222(ermissions mask, which we will e)-4.472 F 1.222
(xplore belo)-.195 F -.845(w.)-.325 G/F4 13/Courier@0 SF(mkdir)33.336
222 Q F1 .14(creates an empty directory with b)3.39 F .14(ut tw)-.26 F
3.39(oe)-.13 G .141(ntries, "." and "..")-3.39 F .141(In tra)6.641 F
-.195(ve)-.26 G .141(rsing a UNIX).195 F 1.829
(pathname, the component "." refers to the same directory)33.336 237 R
5.078(,a)-.845 G 1.828(nd ".." refers to the parent)-5.078 F(directory)
33.336 252 Q 7.327(.F)-.845 G .827(or historical reasons ha)-7.522 F
.828(ving to do with simplifying the path name e)-.26 F -.325(va)-.325 G
(luation).325 E(routine in the k)33.336 267 Q(ernel, e)-.13 E -.195(ve)
-.325 G(ry directory contains an entry for "." and an entry for "..")
.195 E 2.503(Therefore, an empty directory has a link count of 2: one l\
ink is the "." entry of the)33.336 288 R 1.303(directory itself, the ot\
her is the entry in the parent directory pointing to child directory)
33.336 303 R(.)-.845 E(Whene)33.336 318 Q -.195(ve)-.325 G 4.187(ras)
.195 G .937
(ubdirectory is created, the ".." entry of the subdirectory ef)-4.187 F
.937(fects a link back)-.325 F
(to the parent directory and increments the parent directory')33.336 333
Q 3.25(sl)-.715 G(ink count by 1.)-3.25 E 4.077
(Probably one of the \214rst problems disco)33.336 354 R -.195(ve)-.195
G 4.078(red with hierarchical \214lesystems is that).195 F(inadv)33.336
369 Q .407(ertent remo)-.195 F -.325(va)-.195 G 3.657(lo).325 G 3.657
(fa)-3.657 G .406(directory will lea)-.001 F .796 -.195(ve d)-.26 H .406
(angling and stranded all subdirectories and).195 F 1.206
(\214les beneath the remo)33.336 384 R -.195(ve)-.195 G 4.456(dd).195 G
(irectory)-4.456 E 4.457(,t)-.845 G 1.207(hus ha)-4.457 F 1.207
(ving the supplementary ef)-.26 F 1.207(fect of recursi)-.325 F -.195
(ve)-.325 G(ly).195 E(remo)33.336 399 Q 3.806(ving all of these nodes!)
-.195 F 3.806(Therefore, the)10.306 F F4(unlink)7.056 E F1 3.806
(system call is not v)7.056 F 3.806(alid for)-.325 F 2.138
(directory inodes, and will f)33.336 414 R 2.138
(ail returning the error)-.13 F F4(EISDIR)5.388 E F1 8.638(.A)C 2.138
(separate system call is)-3.25 F(pro)33.336 429 Q(vided:)-.195 E F3
(rmdir\("/foo/bar"\);)33.336 441 Q F1 1.291(In order for)33.336 456 R F4
(rmdir)4.541 E F1 1.29(to succeed, the tar)4.541 F 1.29
(get must be an empty directory)-.234 F 4.54(,i)-.845 G 1.29
(.e. it must only)-4.54 F 1.102(contain the entries "." and "..")33.336
471 R 1.103(If not, the error)7.602 F F4(EEXIST)4.353 E F1 1.103
(will be returned.)4.353 F 3.183 -1.04(To r)7.603 H(emo)1.04 E 1.493
-.195(ve a)-.195 H 1.472(populated directory)33.336 486 R 4.722(,o)-.845
G 1.472(ne must \214rst e)-4.722 F 1.472
(xplicitly unlink all of the children of that directory)-.195 F .18
(\(which may in)33.336 501 R -.26(vo)-.52 G(lv).26 E 3.431(er)-.195 G
.181(ecursion\), then remo)-3.431 F .571 -.195(ve t)-.195 H .181
(he directory itself, thus forestalling the cries).195 F
(of "oops, I didn')33.336 516 Q 3.25(tm)-.234 G(ean to do that!")-3.25 E
1.57(Under some v)33.336 537 R 1.57(ersions of UNIX, it w)-.195 F 1.569
(as possible to create a hard-link to a directory)-.13 F 4.819(,b)-.845
G(ut)-5.079 E 4.888(because of the potential confusion, such beha)33.336
552 R 4.888(vior is strongly discouraged and is)-.26 F(disallo)33.336
567 Q .016(wed by most modern UNIX k)-.325 F 3.265(ernels. Exploring)
-.13 F .015(the amusing consequences of hard-)3.265 F(link)33.336 582 Q
(ed directories is left as an e)-.13 E -.195(xe)-.195 G
(rcise to the reader).195 E(.)-.715 E 0 Cg EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 15)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Bold@0 SF(Reading dir)213.113 120 Q(ectories)-.234 E
/F2 13/Times-Roman@0 SF .401(Directories, as we ha)33.336 150 R .791
-.195(ve s)-.26 H .401
(een, are special \214les that equate path component names to inode).195
F 3.25(numbers. Directories)33.336 165 R
(can be read using a set of standard C library functions:)3.25 E/F3 10
/Courier@0 SF(#include <dirent.h>)33.336 177 Q(r\(char *fn\))33.336 213
Q({)33.336 225 Q(DIR *dirp;)39.336 237 Q(struct dirent *de;)39.336 249 Q
(if \(!\(dirp=opendir\(fn\)\)\))81.336 261 Q({)81.336 273 Q
(fprintf\("Can not open directory %s:%s\\\\n",fn,strerror\(errno\)\);)
129.336 285 Q(return;)129.336 297 Q(})81.336 309 Q
(while \(de=readdir\(dirp\)\))81.336 321 Q({)81.336 333 Q
(printf\("%s\\n",de->d_name\);)129.336 345 Q(})81.336 357 Q
(closedir\(dirp\);)81.336 369 Q(})33.336 381 Q F2 .535
(More information about these calls can be gleaned from the man pages.)
33.336 396 R .535(These functions)7.035 F 2.995
(are in section 3 of the man pages as the)33.336 411 R 6.246(ya)-.195 G
2.996(re technically not system calls.)-6.246 F 2.996(Just as)9.496 F/F4
13/Courier@0 SF(fopen\(3\))33.336 426 Q F2 .285
(is a stdio library layer on top of the)3.536 F F4(open\(2\))3.535 E F2
.285(system call,)3.535 F F4(readdir\(3\))3.535 E F2(is)3.535 E .218
(an abstraction of the)33.336 441 R F4(getdents\(2\))3.468 E F2 .219
(system call.)3.469 F .219(Since the beha)6.719 F .219(vior of)-.26 F F4
(getdents\(2\))3.469 E F2 2.145(is a)33.336 456 R(wkw)-.195 E 2.145(ard\
 and non-portable, the use of readdir is preferred in all directory sca\
nning)-.13 F 4.167(applications. The)33.336 471 R .917(use of the)4.167
F F4(readdir\(3\))4.167 E F2 -.13(fa)4.168 G .918
(mily of calls isolates the application from).13 F
(implementation-speci\214c details of directory structure.)33.336 486 Q
0 Cg EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 16)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Bold@0 SF(The stat system call)212.996 120 Q
(Metadata)33.336 150 Q/F2 13/Times-Roman@0 SF .867(are informational da\
ta about a \214le, directory or other object in the \214lesystem,)4.117
F .601(distinct from the data, i.e. contents of that object.)33.336 165
R .601(UNIX pro)7.101 F .601(vides the)-.195 F/F3 13/Courier@0 SF(stat)
3.851 E F2(and)3.851 E F3(fstat)3.851 E F2(system calls to retrie)33.336
180 Q .39 -.195(ve t)-.325 H(he metadata of a node:).195 E/F4 10
/Courier@0 SF(#include <sys/types.h>)33.336 192 Q(#include <sys/stat.h>)
33.336 204 Q(struct stat st;)33.336 228 Q(int fd;)33.336 240 Q 86.4
(stat\("/path/name",&st\); //)33.336 264 R
(This does NOT open /path/name)6 E(fd=open\("/foo/bar",O_RDONLY\);)
33.336 276 Q(fstat\(fd,&st\);)33.336 288 Q F2(The stat structure pro)
33.336 309 Q(vides the follo)-.195 E(wing information:)-.325 E F4
(struct stat {)33.336 321 Q 79.2(dev_t st_dev;)90.936 333 R 79.2
(ino_t st_ino;)90.936 345 R 67.2(umode_t st_mode;)90.936 357 R 67.2
(nlink_t st_nlink;)90.936 369 R 79.2(uid_t st_uid;)90.936 381 R 79.2
(gid_t st_gid;)90.936 393 R 79.2(dev_t st_rdev;)90.936 405 R 79.2
(off_t st_size;)90.936 417 R -2.4(blksize_t st_blksize;)90.936 429 R 3.6
(blkcnt_t st_blocks;)90.936 441 R 73.2(time_t st_atime;)90.936 453 R
73.2(time_t st_mtime;)90.936 465 R 73.2(time_t st_ctime;)90.936 477 R(})
33.336 489 Q F2(Most of these \214elds are stored in the metadata secti\
on of the on-disk inode data structure.)33.336 510 Q<83>33.336 525 Q F3
(st_mode)3.25 E F2 3.25(:T)C(he inode type and permissions \(see belo)
-3.25 E(w\))-.325 E<83>33.336 540 Q F3(st_nlink:)3.25 E F2
(Number of pathnames linking to inode)6.5 E<83>33.336 555 Q F3(st_uid)
3.25 E F2 3.25(:T)C(he user id which o)-3.25 E(wns the inode)-.325 E<83>
33.336 570 Q F3(st_gid)3.25 E F2 3.25(:T)C(he group o)-3.25 E
(wner of the inode)-.325 E<83>33.336 585 Q F3(st_rdev)3.25 E F2 3.25(:")
C(Ra)-3.25 E(w" De)-.195 E(vice number \(character and block de)-.325 E
(vice special inodes only\))-.325 E<83>33.336 600 Q F3(st_size)3.731 E
F2 3.731(:T)C .481(he size of the data, in bytes, if applicable \(some \
inode types do not ha)-3.731 F .871 -.195(ve a)-.26 H 1.008
(size, such as de)33.336 615 R 1.009(vice inodes\).)-.325 F(The)7.509 E
F3(st_size)4.259 E F2 1.009
(is one greater than the byte position of the)4.259 F .345
(last byte in the \214le.)33.336 630 R(Ho)6.845 E(we)-.325 E -.195(ve)
-.325 G 1.385 -.52(r, i).195 H 3.595(ti).52 G 3.595(sp)-3.595 G .344
(ossible in UNIX to ha)-3.595 F .734 -.195(ve s)-.26 H .344
(parse \214les, e.g. bytes 0 and).195 F .84(65536 ha)33.336 645 R 1.23
-.195(ve b)-.26 H .84(een written, b).195 F .84
(ut all contents in between are unde\214ned.)-.26 F .84
(Unde\214ned areas do)7.34 F(not occup)33.336 660 Q 3.25(ys)-.13 G
(torage space and return 0 when read.)-3.25 E<83>33.336 675 Q F3
(st_blocks)3.72 E F2 3.72(:T)C .47(he number of blocks of storage space\
 occupied by the \214le, measured in)-3.72 F .127
(units of 512 byte sectors.)33.336 690 R .128
(It will generally be a little lar)6.627 F .128(ger than)-.234 F F3
(st_size)3.378 E F2 .128(because of the)3.378 F 1.476
(granularity of disk block allocation.)33.336 705 R(Ho)7.976 E(we)-.325
E -.195(ve)-.325 G 2.516 -.52(r, f).195 H 1.476
(or sparse \214les, disk space consumption).52 F(may be less than)33.336
720 Q F3(st_size)3.25 E F2(.)A<83>33.336 735 Q F3(st_blksize)5.357 E F2
5.357(:T)C 2.108(he "best" b)-5.357 F(uf)-.26 E 2.108
(fer size to use with operations on this inode.)-.325 F 2.108(This is)
8.608 F 0 Cg EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 17)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF
(generally the \214lesystem allocation disk block size.)33.336 120 Q<83>
33.336 150 Q/F2 13/Courier@0 SF .386(st_atime, st_mtime, st_ctime)3.637
F F1 3.636(:T)C .386(here are 3 timestamps contained within the)-3.636 F
3.742(inode. Each)33.336 165 R .492(is a UNIX T)3.742 F .492
(ime, i.e. the number of seconds since midnight January 1, 1970)-.455 F
11.442(UTC. [On)33.336 180 R 8.192(some \214lesystems, higher)11.442 F
8.191(-resolution timestamps are a)-.26 F -.325(va)-.26 G 8.191
(ilable] The).325 F F2(st_mtime)33.336 195 Q F1 .535
(is the last time a write operation w)3.785 F .536(as performed to the)
-.13 F/F3 13/Times-Italic@0 SF(contents)3.786 E F1 .536
(of the \214le or)3.786 F(directory)33.336 210 Q(.)-.845 E F2(st_atime)
8.092 E F1 1.591(is the time of the last read operation.)4.842 F F2
(st_ctime)8.091 E F1 1.591(gets touched)4.841 F(whene)33.336 225 Q -.195
(ve)-.325 G 5.511(ro).195 G 2.261(ne of the)-5.511 F F3(metadata)5.511 E
F1 2.261(are modi\214ed.)5.511 F(The)8.761 E F2(utime)5.511 E F1 2.261
(system call can be used to)5.511 F .31
(directly modify the atime and mtime stamps, b)33.336 240 R .309
(ut the ctime \214eld can not be changed.)-.26 F(The)6.809 E F2(touch)
33.336 255 Q F1(command uses the)3.25 E F2(utime)3.25 E F1
(system call to update timestamps.)3.25 E F2(st_blksize)33.336 285 Q F1
(,)A F2(st_dev)5.695 E F1(and)5.695 E F2(st_ino)5.695 E F1 2.445
(do not appear an)5.695 F 2.445(ywhere in the on-disk inode.)-.195 F
(The)33.336 300 Q 3.584(ya)-.195 G .334
(re are added by the operating system.)-3.584 F .333
(The blocksize is a property of the particular)6.834 F -.26(vo)33.336
315 S .766(lume in which this inode appears.).26 F F2(st_ino)7.266 E F1
.766(is the inode number)4.016 F 4.016(,w)-.52 G .766
(hich is inferred by)-4.016 F 2.392(the inode')33.336 330 R 5.642(sp)
-.715 G 2.392(osition in the inode table.)-5.642 F F2(st_dev)8.892 E F1
2.392(identi\214es the v)5.642 F 2.392(olume on which this)-.26 F
(inode resides.)33.336 345 Q(This will be discussed later in this unit.)
6.5 E 0 Cg EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 18)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF(The)33.336 120 Q/F2 13/Courier@0 SF
(st_mode)3.25 E F1(\214eld is a 16 bit bitmask, as follo)3.25 E(ws:)
-.325 E 0 0 290 290 -270 270 122.336 411 PBEGIN
%%BeginDocument: mode.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: mode.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Thu Sep 14 22:09:45 2006
%%For: hak@lex ()
%%BoundingBox: 0 0 290 270
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 270 moveto 0 0 lineto 290 0 lineto 290 270 lineto closepath clip newpath
-71.3 363.5 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 100
% Polyline
7.500 slw
n 4200 1800 m 5100 1800 l 5100 2400 l 4200 2400 l
 cp gs col0 s gr 
% Polyline
n 4500 1800 m
 4500 1950 l gs col0 s gr 
% Polyline
n 4800 1800 m
 4800 1950 l gs col0 s gr 
% Polyline
n 4500 2250 m
 4500 2400 l gs col0 s gr 
% Polyline
n 4800 2250 m
 4800 2400 l gs col0 s gr 
/Times-Roman-iso ff 210.00 scf sf
4350 2250 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4650 2250 m
gs 1 -1 sc (W) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4950 2250 m
gs 1 -1 sc (X) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 5100 1800 m 6000 1800 l 6000 2400 l 5100 2400 l
 cp gs col0 s gr 
% Polyline
n 5400 1800 m
 5400 1950 l gs col0 s gr 
% Polyline
n 5700 1800 m
 5700 1950 l gs col0 s gr 
% Polyline
n 5400 2250 m
 5400 2400 l gs col0 s gr 
% Polyline
n 5700 2250 m
 5700 2400 l gs col0 s gr 
/Times-Roman-iso ff 210.00 scf sf
5250 2250 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
5550 2250 m
gs 1 -1 sc (W) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
5850 2250 m
gs 1 -1 sc (X) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 1200 1800 m 2400 1800 l 2400 2400 l 1200 2400 l
 cp gs col0 s gr 
% Polyline
n 2400 1800 m 2700 1800 l 2700 2400 l 2400 2400 l
 cp gs col0 s gr 
% Polyline
n 2700 1800 m 3000 1800 l 3000 2400 l 2700 2400 l
 cp gs col0 s gr 
% Polyline
n 3000 1800 m 3300 1800 l 3300 2400 l 3000 2400 l
 cp gs col0 s gr 
% Polyline
n 3300 1800 m 4200 1800 l 4200 2400 l 3300 2400 l
 cp gs col0 s gr 
% Polyline
n 3600 1800 m
 3600 1950 l gs col0 s gr 
% Polyline
n 3900 1800 m
 3900 1950 l gs col0 s gr 
% Polyline
n 3600 2250 m
 3600 2400 l gs col0 s gr 
% Polyline
n 3900 2250 m
 3900 2400 l gs col0 s gr 
% Polyline
n 1500 1800 m
 1500 1950 l gs col0 s gr 
% Polyline
n 1800 1800 m
 1800 1950 l gs col0 s gr 
% Polyline
n 2100 1800 m
 2100 1950 l gs col0 s gr 
% Polyline
n 2100 2250 m
 2100 2400 l gs col0 s gr 
% Polyline
n 1800 2250 m
 1800 2400 l gs col0 s gr 
% Polyline
n 1500 2250 m
 1500 2400 l gs col0 s gr 
% Polyline
gs  clippath
1845 3690 m 1905 3690 l 1905 3538 l 1875 3658 l 1845 3538 l cp
eoclip
n 1875 2550 m
 1875 3675 l gs col0 s gr gr

% arrowhead
n 1845 3538 m 1875 3658 l 1905 3538 l  col0 s
% Polyline
gs  clippath
3240 3405 m 3240 3345 l 3088 3345 l 3208 3375 l 3088 3405 l cp
eoclip
n 2475 2400 m 2475 3375 l
 3225 3375 l gs col0 s gr gr

% arrowhead
n 3088 3405 m 3208 3375 l 3088 3345 l  col0 s
% Polyline
gs  clippath
3240 3105 m 3240 3045 l 3088 3045 l 3208 3075 l 3088 3105 l cp
eoclip
n 2850 2400 m 2850 3075 l
 3225 3075 l gs col0 s gr gr

% arrowhead
n 3088 3105 m 3208 3075 l 3088 3045 l  col0 s
% Polyline
gs  clippath
3315 2880 m 3315 2820 l 3163 2820 l 3283 2850 l 3163 2880 l cp
eoclip
n 3150 2400 m 3150 2850 l
 3300 2850 l gs col0 s gr gr

% arrowhead
n 3163 2880 m 3283 2850 l 3163 2820 l  col0 s
/Times-Roman-iso ff 210.00 scf sf
3750 1725 m
gs 1 -1 sc (User) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4650 1725 m
gs 1 -1 sc (Group) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
5550 1725 m
gs 1 -1 sc (Other) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
3450 2250 m
gs 1 -1 sc (R) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
3750 2250 m
gs 1 -1 sc (W) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4050 2250 m
gs 1 -1 sc (X) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 1725 m
gs 1 -1 sc (Type) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 3900 m
gs 1 -1 sc (0000) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 4200 m
gs 1 -1 sc (0001) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 4500 m
gs 1 -1 sc (0010) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 4800 m
gs 1 -1 sc (0100) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 5100 m
gs 1 -1 sc (0110) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 5400 m
gs 1 -1 sc (1000) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 5700 m
gs 1 -1 sc (1010) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
1875 6000 m
gs 1 -1 sc (1100) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 3900 m
gs 1 -1 sc (Deleted/Free inode) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 4200 m
gs 1 -1 sc (Named pipe \(FIFO\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 4500 m
gs 1 -1 sc (Character Device) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 4800 m
gs 1 -1 sc (Directory) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 5100 m
gs 1 -1 sc (Block Device) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 5400 m
gs 1 -1 sc (Regular File) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 5700 m
gs 1 -1 sc (Symlink) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
2700 6000 m
gs 1 -1 sc (Network/IPC socket) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 4200 m
gs 1 -1 sc (\(S_IFIFO\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 4500 m
gs 1 -1 sc (\(S_IFCHR\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 4800 m
gs 1 -1 sc (\(S_IFDIR\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 5100 m
gs 1 -1 sc (\(S_IFBLK\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 5400 m
gs 1 -1 sc (\(S_IFREG\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 5700 m
gs 1 -1 sc (\(S_IFLNK\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
4800 6000 m
gs 1 -1 sc (\(S_IFSOCK\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
3300 2925 m
gs 1 -1 sc ("Sticky" bit \(S_ISVTX\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
3300 3180 m
gs 1 -1 sc (Set-gid bit \(S_ISGID\)) col0 sh gr
/Times-Roman-iso ff 210.00 scf sf
3300 3435 m
gs 1 -1 sc (Set-uid bit \(S_ISUID\)) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND 1.931(The top n)33.336 432 R 1.932
(ybble of the mode \214eld identi\214es the type of node.)-.195 F 1.932
(Macros are pro)8.432 F 1.932(vided in)-.195 F(<sys/stat.h> to gi)33.336
447 Q .39 -.195(ve s)-.325 H(ymbolic names to these types:).195 E/F3 10
/Courier@0 SF(if \(\(st.st_mode&S_IFMT\)==S_IFDIR\))33.336 459 Q({)
33.336 471 Q(printf\("Directory\\n"\);)90.936 483 Q(})33.336 495 Q/F4 13
/Times-Bold@0 SF(Inode T)233.425 510 Q(ypes)-.442 E F1 1.148
(There are 15 possible inode types.)33.336 540 R 1.148
(Inode type 0 is generally reserv)7.648 F 1.148(ed to mark a free or)
-.195 F 1.506(deleted inode.)33.336 555 R 1.506(The se)8.006 F -.195(ve)
-.325 G 4.756(ni).195 G 1.506(node types depicted in the \214gure abo)
-4.756 F 1.896 -.195(ve r)-.195 H 1.506(epresent the major).195 F(,)-.52
E(uni)33.336 570 Q -.195(ve)-.325 G(rsal types.).195 E 3.25<8353>33.336
585 S(_IFREG \(type==8\): A re)-3.25 E(gular \214le.)-.195 E 3.25<8353>
33.336 600 S(_IFDIR \(type==4\): A directory)-3.25 E(.)-.845 E 3.25
<8353>33.336 615 S(_IFLNK \(type==10\): A symbolic link.)-3.25 E 3.25
<8353>33.336 630 S(_IFCHR \(type==2\) and)-3.25 E .345
(S_IFBLK \(type==6\): UNIX gi)36.586 645 R -.195(ve)-.325 G 3.595(sn)
.195 G .345(ames to de)-3.595 F .344(vices and pro)-.325 F .344
(vides access to them through)-.195 F 2.303(the \214lesystem.)33.336 660
R(E.g.)8.803 E F2(/dev/sda1)5.553 E F1 2.303(is a \214le-lik)5.553 F
5.553(en)-.13 G 2.303(ode in the \214lesystem which pro)-5.553 F(vides)
-.195 E 1.454
(direct access to the \214rst partition of the \214rst hard dri)33.336
675 R -.195(ve)-.325 G 7.953(.W).195 G 1.453(ithin the k)-8.473 F 1.453
(ernel, de)-.13 F 1.453(vices are)-.325 F 1.133(identi\214ed by an inte)
33.336 690 R 1.133(ger de)-.195 F 1.133(vice number)-.325 F 7.633(.T)
-.715 G 1.133(he Character Special and Block Special inode)-7.633 F .409
(types pro)33.336 705 R .409(vide a mapping from a pathname to a de)
-.195 F .408(vice number)-.325 F 3.658(,u)-.52 G .408(sing the)-3.658 F
F2(st_rdev)3.658 E F1(\214eld.)3.658 E
(This will all be discussed in a subsequent unit.)33.336 720 Q
(S_IFIFO \(type==1\): A FIFO or "pipe".)33.336 735 Q 2.08 -1.04(To b)6.5
H 3.25(ed)1.04 G(iscussed in a later unit.)-3.25 E 0 Cg EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 19)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF 3.25<8353>33.336 120 S
(_IFSOCK \(type==12\): A netw)-3.25 E(orking sock)-.13 E 3.25(et. T)-.13
F 3.25(ob)-1.04 G 3.25(ed)-3.25 G(iscussed in a later unit.)-3.25 E
1.474
(In addition to these, some inode types are/were used only in certain v)
33.336 150 R 1.474(ariants of UNIX,)-.325 F
(and are considered non-portable:)33.336 164 Q/F2 12/Times-Roman@0 SF 3
<8353>33.336 178 S(_IFMPC \(type=3\): Obsolete multiple)-3 E -.18(xe)
-.18 G 3(dc).18 G(haracter special de)-3 E(vice)-.3 E 3<8353>33.336 192
S(_IFN)-3 E(AM \(type=5\): Obsolete XENIX named \214le)-.42 E 3<8353>
33.336 206 S(_IFMPB \(type=7\): Obsolete multiple)-3 E -.18(xe)-.18 G 3
(db).18 G(lock special de)-3 E(vice.)-.3 E 6.172<8353>33.336 220 S 3.172
(_IFCMP \(type=9\): Compressed \214le, proprietary to V)-6.172 F 3.172
(eritas, or "netw)-1.332 F 3.172(ork special" \214le on)-.12 F
(proprietary HP-UX operating system.)33.336 234 Q 5.767<8353>33.336 248
S 2.767(_IFSHAD \(type=B\): Shado)-5.767 F 5.767(wi)-.3 G 2.767
(node for A)-5.767 F 2.767(CL e)-.48 F 2.767(xtensions under some v)-.18
F 2.767(ersions of Solaris.)-.18 F(Ne)33.336 262 Q -.18(ve)-.3 G 3(rs)
.18 G(een by user)-3 E(-mode programs.)-.24 E 3<8353>33.336 276 S
(_IFDOOR \(type=D\): Proprietary IPC mechanism under Solaris.)-3 E 6.006
<8353>33.336 290 S 3.006(_IFWHT \(type=E\): "Whiteout".)-6.006 F 3.006
(An obscure topic which f)9.006 F 3.006(alls outside of the traditional)
-.12 F(\214lesystem model, and comes into play with "union mounts".)
33.336 304 Q 3.8<8353>33.336 318 S(_IFPOR)-3.8 E 3.8(T\()-.72 G .8
(type=E\): Solaris \(v)-3.8 F .8
(ersion 10 and higher\) uses this type for an "e)-.18 F -.18(ve)-.3 G .8
(nt port", which).18 F(pro)33.336 332 Q 3.043(vides a w)-.18 F 3.043
(ay for a process to place w)-.12 F 3.043(atchpoints on v)-.12 F 3.043
(arious system e)-.3 F -.18(ve)-.3 G 3.042(nts or \214lesystem).18 F
(accesses.)33.336 347 Q F1 1.175(The "stick)33.336 377 R 4.425(yb)-.195
G 1.175(it" S_ISVTX w)-4.425 F 1.176
(as historically used as a hint to the virtual memory system)-.13 F -.26
(bu)33.336 392 S 3.714(tn).26 G 1.114 -.325(ow h)-3.714 H .464(as a dif)
.325 F .464(ferent meaning associated with directories \(see belo)-.325
F 3.714(w\). The)-.325 F .464(set-uid and)3.714 F 1.364
(set-gid bits, when applied to e)33.336 407 R -.195(xe)-.195 G 1.364
(cutable \214les, cause the ef).195 F(fecti)-.325 E 1.754 -.195(ve u)
-.325 H 1.364(ser or group id to be).195 F 6.049(changed. This)33.336
422 R(allo)6.049 E 2.799(ws a non-superuser to g)-.325 F 2.798
(ain controlled access to superuser po)-.065 F(wers)-.325 E 2.744
(through speci\214c commands.)33.336 437 R 2.744
(The set-gid bit is also used, on non-e)9.244 F -.195(xe)-.195 G 2.744
(cutable \214les, to).195 F 1.214
(indicate that \214le and record locking should be strictly enforced.)
33.336 452 R 1.214(This subject is be)7.714 F(yond)-.195 E 1.619
(the scope of this introduction.)33.336 467 R(Additionally)8.119 E 4.869
(,w)-.845 G 1.62(hen the set-gid bit is set for a directory)-4.869 F(,)
-.845 E 1.47(nodes created in that directory tak)33.336 482 R 4.72(et)
-.13 G 1.47(he group o)-4.72 F 1.47
(wnership associated with that directory)-.325 F(,)-.845 E
(rather than the gid of the running process.)33.336 497 Q(The remaining\
 9 bits determine the permissions associated with the node.)33.336 527 Q
/F3 13/Times-Bold@0 SF(The UNIX \214le permissions model)175.25 557 Q F1
(Ev)33.336 587 Q 1.657
(ery user of the UNIX operating system has an inte)-.195 F(ger)-.195 E
F3 1.657(user id)4.907 F F1 8.157(.F)C 1.657(or the purposes of)-8.352 F
.258(group collaboration, users may also be lumped into groups identi\
\214ed by an inte)33.336 602 R(ger)-.195 E F3(gr)3.508 E(oup)-.234 E(id)
33.336 617 Q F1 9.64(.H)C(istorically)-9.64 E 6.39(,u)-.845 G 3.141
(ids and gids are 16 bit numbers, although modern Linux systems)-6.39 F
.687(support 32-bit v)33.336 632 R 3.937(alues. Each)-.325 F .687
(running program, or)3.937 F F3(pr)3.937 E(ocess)-.234 E F1 3.937(,h)C
.687(as associated with it the user)-3.937 F 1.842(id of the in)33.336
647 R -.26(vo)-.52 G 1.842(king user).26 F 5.092(,t)-.52 G 1.842
(he group id of the user')-5.092 F 5.092(sp)-.715 G 1.842
(rimary group, and a list of groups)-5.092 F
(\(including the primary group\) to which the user belongs.)33.336 662 Q
(Ev)33.336 683 Q 3.51(ery inode has an indi)-.195 F 3.51(vidual o)-.325
F(wner)-.325 E(,)-.52 E/F4 13/Courier@0 SF(st_uid)6.76 E F1 3.51
(and a group o)6.76 F(wner)-.325 E F4(st_gid)6.76 E F1 10.01(.T)C(his)
-10.01 E -.325(ow)33.336 698 S .148
(nership is established when the node is \214rst created.).325 F .148
(The uid of the node when created)6.648 F 2.437(is the \(ef)33.336 713 R
(fecti)-.325 E -.195(ve)-.325 G 5.687(\)u).195 G 2.437
(id of the process, and the gid is the \(ef)-5.687 F(fecti)-.325 E -.195
(ve)-.325 G 5.686(\)p).195 G 2.436(rimary gid of the)-5.686 F
(process \(b)33.336 728 Q(ut see belo)-.26 E 3.25(wa)-.325 G
(bout the set-gid bit and directories\).)-3.25 E 0 Cg EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 20)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF .115(When a system call operation requir\
es checking of \214lesystem permissions, the \214rst step is)33.336 120
R 2.832
(to determine which of the 3 sets of 3-bit permissions bit masks to e)
33.336 135 R 2.832(xtract from the)-.195 F/F2 13/Courier@0 SF(st_mode)
33.336 150 Q F1(\214eld:)3.25 E 3.601<8349>33.336 165 S 3.601(ft)-3.601
G .351(he user attempting an operation matches the o)-3.601 F .351
(wner of the \214le, the user portion of the)-.325 F
(permissions mask is check)33.336 180 Q(ed.)-.13 E 4.449<834f>33.336 195
S 1.199(therwise, if the group o)-4.449 F 1.198
(wnership of the \214le is among the list of groups to which the)-.325 F
(current process belongs, the group portion of the mask is check)33.336
210 Q(ed.)-.13 E 3.25<834f>33.336 225 S
(therwise, the "other" portion is used.)-3.25 E 3.966<834f>33.336 255 S
.717(nce the appropriate mask is selected, the read, write or e)-3.966 F
-.195(xe)-.195 G .717(cute bit is consulted based).195 F
(on the operation being attempted.)33.336 270 Q 3.828<8346>33.336 285 S
.578(or \214les, permissions are check)-4.023 F .578
(ed once, when the \214le is opened or e)-.13 F -.195(xe)-.195 G .577
(cution of the \214le).195 F 1.15(is attempted.)33.336 300 R 1.15
(If the \214le is being opened O_RDONL)7.65 F 4.504 -1.677(Y, r)-1.3 H
1.15(ead permission must be present.)1.677 F .07
(If the \214le is being opened O_WR)33.336 315 R(ONL)-.52 E 3.423 -1.677
(Y, w)-1.3 H .069(rite permission must be present, and in the case)1.677
F 4.287(of O_RD)33.336 330 R 4.287(WR, both permissions are needed.)-.39
F 4.288(Once the \214le is opened successfully)10.788 F(,)-.845 E .804
(changing the permissions on the \214le has no ef)33.336 345 R .803
(fect on programs that already ha)-.325 F 1.193 -.195(ve t)-.26 H .803
(he \214le).195 F 4.803(open. Ex)33.336 360 R 1.553
(ecute permission is check)-.195 F 1.554
(ed when one attempts to use a \214le as an e)-.13 F -.195(xe)-.195 G
(cutable).195 E(program \(e.g. a.out\).)33.336 375 Q(This will be co)6.5
E -.195(ve)-.195 G(red in a subsequent unit.).195 E 3.964<8357>33.336
390 S .713(hat should write permission for a directory mean?)-3.964 F
.713(Being able to write to a directory)7.213 F .843
(implies the ability to create ne)33.336 405 R 4.093(wd)-.325 G .843
(irectory entries, or to modify or remo)-4.093 F 1.234 -.195(ve ex)-.195
H .844(isting ones.).195 F 3.286(I.e. directory write permission allo)
33.336 420 R 3.285(ws creation, renaming, or unlinking of the nodes)
-.325 F 5.236(within. This)33.336 435 R 1.986(original interpretation w)
5.236 F 1.987(as found to be problematic in shared directories,)-.13 F
.408(\(such as /tmp which is generally 777 mode\) in that another user \
might be able to delete a)33.336 450 R 1.568
(\214le which s/he did not o)33.336 465 R 4.819(wn. The)-.325 F 1.569
(presence of the "stick)4.819 F 4.819(yb)-.195 G 1.569
(it" in the permissions mode)-4.819 F 2.608
(modi\214es the semantics of writable directories such that only the o)
33.336 480 R 2.607(wner of a \214le can)-.325 F(rename or unlink it.)
33.336 495 Q 3.986<8352>33.336 510 S .737(ead permission on a directory\
 implies the ability to search the directory and learn the)-3.986 F
(contents.)33.336 525 Q 6.34<8345>33.336 540 S -.195(xe)-6.34 G 3.09
(cute permission is the ability to tra).195 F -.195(ve)-.26 G 3.089
(rse the directory).195 F 6.339(,t)-.845 G 3.089
(hat is, to reference an)-6.339 F .765(element of the directory)33.336
555 R 7.265(.O)-.845 G .765(ne can ha)-7.265 F 1.155 -.195(ve exe)-.26 H
.765(cute permission b).195 F .765(ut not read permission on a)-.26 F
(directory)33.336 570 Q 3.25(,a)-.845 G(llo)-3.25 E(wing one to access \
\214les or subdirectories as long as their name is kno)-.325 E(wn.)-.325
E .105
(The uid and gid of a node can be changed \(at the same time\) with the)
33.336 591 R F2(chown)3.354 E F1 .104(system call.)3.354 F .433
(The permissions of a \214le can be changed with the)33.336 606 R F2
(chmod)3.683 E F1 .433(system call.)3.683 F .433(In both cases, the)
6.933 F 3.919(user attempting the operation must already be the o)33.336
621 R 3.919(wner of the \214le \(uids match\).)-.325 F .969
(Furthermore, on most UNIX systems, to a)33.336 636 R -.26(vo)-.26 G
.969(id problematic interactions with quotas, \214le).26 F("gi)33.336
651 Q -.195(ve)-.325 G -2.99 -.195(aw a).195 H 1.925(ys" are not permit\
ted for ordinary users, i.e. an ordinary user can change the).195 F
(group id of their \214les b)33.336 666 Q(ut can')-.26 E 3.25(tc)-.234 G
(hange the indi)-3.25 E(vidual o)-.325 E(wnership to another user)-.325
E(.)-.715 E 2.316(The user with uid 0 is the)33.336 687 R/F3 13
/Times-Bold@0 SF(superuser)5.566 E F1 5.566(,o)C(r)-5.566 E F3 -.234(ro)
5.566 G(ot).234 E F1 2.316(account, aka the system administrator)5.566 F
(.)-.715 E(When the process uid is 0, all of these permissions checks a\
re bypassed.)33.336 702 Q .921
(Most UNIX systems support a more elaborate w)33.336 723 R .92(ay of e)
-.13 F .92(xpressing \214lesystem permissions)-.195 F(kno)33.336 738 Q
4.161(wn as)-.325 F F3 4.161(Access Contr)7.411 F 4.161(ol Lists)-.234 F
F1 10.661(.T)C 4.161(heir application is not widespread because the)
-10.661 F 0 Cg EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 21)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF
(traditional 3-tiered UNIX permissions model is suf)33.336 120 Q
(\214cient for most applications.)-.325 E/F2 13/Times-Bold@0 SF
(Mounted V)216.889 165 Q(olumes)-1.3 E F1 1.23(Of course a system that \
supports just a single random-access storage de)33.336 201 R 1.229
(vice is not v)-.325 F(ery)-.195 E 4.161(useful. W)33.336 216 R 4.161
(eh)-1.04 G -2.925 -.26(av e)-4.161 H .911(de\214ned a)4.421 F F2 -.13
(vo)4.161 G(lume).13 E F1 .912(to be one instance of such a de)4.161 F
4.162(vice. Each)-.325 F -.26(vo)4.162 G .912(lume is).26 F 2.415(an in\
dependent \214lesystem data structure which can be detached from the sy\
stem and)33.336 231 R .577(attached to another system.)33.336 246 R .577
(Some types of v)7.077 F .578(olumes are designed to be remo)-.26 F
-.325(va)-.195 G .578(ble \(e.g. a).325 F(\215ash dri)33.336 261 Q -.195
(ve)-.325 G 3.25(\)w).195 G(hile others require more ef)-3.25 E
(fort to relocate \(e.g. a hard disk\).)-.325 E .028(When a v)33.336 282
R .028(olume is attached to a system and a)-.26 F -.325(va)-.26 G .027
(ilable to users as a \214le store, it is said to be).325 F F2(mounted)
33.336 297 Q F1 10.33(.M)C(an)-10.33 E 7.08(yo)-.195 G 3.83
(perating systems tak)-7.08 F 7.08(et)-.13 G 3.83
(he "forest of trees" approach to multiple)-7.08 F -.26(vo)33.336 312 S
4.572(lumes. F).26 F 1.322(or e)-.195 F 1.321
(xample, Microsoft operating systems such as DOS and W)-.195 F(indo)-.52
E 1.321(ws assign)-.325 F(dri)33.336 327 Q .39 -.195(ve l)-.325 H
(etters starting with A: to each v).195 E(olume:)-.26 E 0 0 320 320 -99
99 107.336 447 PBEGIN
%%BeginDocument: forest.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: forest.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Fri Jan 29 20:12:37 1999
%%For: hak@astor.cooper.edu (hak)
%%Orientation: Portrait
%%BoundingBox: 0 0 320 99
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-67.0 252.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 5200 m -1000 -1000 l 7444 -1000 l 7444 5200 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
gs  clippath
1456 3011 m 1350 3075 l 1414 2969 l 1318 3064 l 1361 3107 l cp
clip
n 1650 2775 m 1350 3075 l gs col0 s gr gr

% arrowhead
n 1456 3011 m 1350 3075 l 1414 2969 l  col0 s
% Polyline
gs  clippath
1830 2955 m 1800 3075 l 1770 2955 l 1770 3090 l 1830 3090 l cp
clip
n 1800 2775 m 1800 3075 l gs col0 s gr gr

% arrowhead
n 1830 2955 m 1800 3075 l 1770 2955 l  col0 s
% Polyline
gs  clippath
2242 2983 m 2325 3075 l 2209 3033 l 2321 3108 l 2354 3058 l cp
clip
n 1875 2775 m 2325 3075 l gs col0 s gr gr

% arrowhead
n 2242 2983 m 2325 3075 l 2209 3033 l  col0 s
% Polyline
gs  clippath
1586 3811 m 1500 3900 l 1533 3781 l 1467 3898 l 1519 3928 l cp
clip
n 1800 3375 m 1500 3900 l gs col0 s gr gr

% arrowhead
n 1586 3811 m 1500 3900 l 1533 3781 l  col0 s
% Polyline
gs  clippath
2048 3713 m 2100 3825 l 2002 3750 l 2086 3855 l 2133 3818 l cp
clip
n 1800 3450 m 2100 3825 l gs col0 s gr gr

% arrowhead
n 2048 3713 m 2100 3825 l 2002 3750 l  col0 s
% Polyline
gs  clippath
3562 3023 m 3450 3075 l 3525 2977 l 3420 3061 l 3457 3108 l cp
clip
n 3825 2775 m 3450 3075 l gs col0 s gr gr

% arrowhead
n 3562 3023 m 3450 3075 l 3525 2977 l  col0 s
% Polyline
gs  clippath
3930 2880 m 3900 3000 l 3870 2880 l 3870 3015 l 3930 3015 l cp
clip
n 3900 2775 m 3900 3000 l gs col0 s gr gr

% arrowhead
n 3930 2880 m 3900 3000 l 3870 2880 l  col0 s
% Polyline
gs  clippath
4352 2975 m 4425 3075 l 4314 3021 l 4417 3108 l 4456 3062 l cp
clip
n 3975 2700 m 4425 3075 l gs col0 s gr gr

% arrowhead
n 4352 2975 m 4425 3075 l 4314 3021 l  col0 s
% Polyline
gs  clippath
4280 3881 m 4200 3975 l 4227 3854 l 4166 3975 l 4220 4002 l cp
clip
n 4500 3375 m 4200 3975 l gs col0 s gr gr

% arrowhead
n 4280 3881 m 4200 3975 l 4227 3854 l  col0 s
% Polyline
gs  clippath
4786 3852 m 4800 3975 l 4730 3873 l 4777 4000 l 4833 3979 l cp
clip
n 4575 3375 m 4800 3975 l gs col0 s gr gr

% arrowhead
n 4786 3852 m 4800 3975 l 4730 3873 l  col0 s
% Polyline
gs  clippath
5656 3011 m 5550 3075 l 5614 2969 l 5518 3064 l 5561 3107 l cp
clip
n 5925 2700 m 5550 3075 l gs col0 s gr gr

% arrowhead
n 5656 3011 m 5550 3075 l 5614 2969 l  col0 s
% Polyline
gs  clippath
6252 2961 m 6300 3075 l 6204 2997 l 6285 3105 l 6333 3069 l cp
clip
n 6075 2775 m 6300 3075 l gs col0 s gr gr

% arrowhead
n 6252 2961 m 6300 3075 l 6204 2997 l  col0 s
/Times-Roman ff 210.00 scf sf
1800 2700 m
gs 1 -1 sc (A:) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
1200 3300 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
1800 3300 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
2400 3300 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
1500 4200 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
2100 4200 m
gs 1 -1 sc (F) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
3900 2700 m
gs 1 -1 sc (B:) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
3300 3300 m
gs 1 -1 sc (A) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
3900 3300 m
gs 1 -1 sc (B) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
4500 3300 m
gs 1 -1 sc (C) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
4200 4200 m
gs 1 -1 sc (D) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
4800 4200 m
gs 1 -1 sc (E) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
6000 2700 m
gs 1 -1 sc (C:) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
5400 3300 m
gs 1 -1 sc (X) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 210.00 scf sf
6375 3300 m
gs 1 -1 sc (Y) dup sw pop 2 div neg 0 rm  col0 sh gr
$F2psEnd
rs
%%EndDocument
end PEND 2.43(Each v)33.336 468 R 2.43(olume is an independent tree, an\
d the collection of all such trees forms a \215at)-.26 F(namespace.)
33.336 483 Q(UNIX tak)33.336 504 Q(es a "big tree" approach:)-.13 E .667
(When a UNIX system \214rst comes up, there is only one v)33.336 525 R
.667(olume mounted.)-.26 F .667(This is kno)7.167 F(wn)-.325 E 1.042
(as the)33.336 540 R F2 -.234(ro)4.292 G 1.042(ot \214lesystem).234 F F1
7.542(.T)C 1.042(he root of this v)-7.542 F 1.043
(olume is "/", the root of the entire namespace.)-.26 F 5.271
(Additional v)33.336 555 R 5.27(olumes get mounted o)-.26 F -.195(ve)
-.195 G 8.52(re).195 G 5.27(mpty place-holder directories in the root)
-8.52 F .439(\214lesystems \(or recursi)33.336 570 R -.195(ve)-.325 G
.439(ly: a v).195 F .439(olume can be mounted on another v)-.26 F .44
(olume which is in turn)-.26 F(mounted on the root v)33.336 585 Q
(olume, etc.\))-.26 E(Belo)33.336 606 Q 3.934(ww)-.325 G 3.934(es)-3.934
G .684
(ee a system where the root \214lesystem resides on disk partition)
-3.934 F/F3 13/Courier@0 SF(/dev/sda1)3.934 E F1(.)A -1.3 -1.04(Tw o)
33.336 621 T .956(other partitions on other dri)5.246 F -.195(ve)-.325 G
(s,).195 E F3(/dev/sdb1)4.207 E F1(and)4.207 E F3(/dev/sdc1)4.207 E F1
.957(are present b)4.207 F .957(ut are)-.26 F 1.136
(not yet mounted and thus not visible.)33.336 636 R(\(F)7.636 E 1.136
(or clarity)-.195 F 4.386(,i)-.845 G 1.135
(node #s for non-directory nodes are)-4.386 F(omitted\))33.336 651 Q 0
Cg EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 22)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 468 636 -220.019 299 33.336 340.019 PBEGIN
%%BeginDocument: unixmount1.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unixmount1.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Feb  4 00:17:32 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 636 299
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 299 moveto 0 0 lineto 636 0 lineto 636 299 lineto closepath clip newpath
-41.2 442.4 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Ellipse
7.500 slw
n 2100 3375 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2100 4263 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2764 4926 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 5307 3807 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 6290 4654 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 6875 5915 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 9675 3750 237 237 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
1393 3889 m 1435 3931 l 1543 3824 l 1437 3888 l 1500 3781 l cp
eoclip
n 1875 3450 m
 1425 3900 l gs col0 s gr gr

% arrowhead
n 1500 3781 m 1437 3888 l 1543 3824 l  col0 s
% Polyline
gs  clippath
2692 3782 m 2730 3735 l 2612 3641 l 2687 3740 l 2574 3688 l cp
eoclip
n 2325 3450 m
 2700 3750 l gs col0 s gr gr

% arrowhead
n 2574 3688 m 2687 3740 l 2612 3641 l  col0 s
% Polyline
gs  clippath
2070 4065 m 2130 4065 l 2130 3913 l 2100 4033 l 2070 3913 l cp
eoclip
n 2100 3600 m
 2100 4050 l gs col0 s gr gr

% arrowhead
n 2070 3913 m 2100 4033 l 2130 3913 l  col0 s
% Polyline
gs  clippath
2617 4757 m 2655 4710 l 2537 4616 l 2612 4715 l 2499 4663 l cp
eoclip
n 2250 4425 m
 2625 4725 l gs col0 s gr gr

% arrowhead
n 2499 4663 m 2612 4715 l 2537 4616 l  col0 s
% Polyline
gs  clippath
1616 4719 m 1665 4755 l 1755 4633 l 1660 4712 l 1707 4597 l cp
eoclip
n 1875 4425 m
 1650 4725 l gs col0 s gr gr

% arrowhead
n 1707 4597 m 1660 4712 l 1755 4633 l  col0 s
% Polyline
gs  clippath
6143 4532 m 6180 4485 l 6060 4392 l 6137 4490 l 6023 4440 l cp
eoclip
n 5475 3975 m
 6150 4500 l gs col0 s gr gr

% arrowhead
n 6023 4440 m 6137 4490 l 6060 4392 l  col0 s
% Polyline
gs  clippath
5295 4515 m 5355 4515 l 5355 4363 l 5325 4483 l 5295 4363 l cp
eoclip
n 5325 4050 m
 5325 4500 l gs col0 s gr gr

% arrowhead
n 5295 4363 m 5325 4483 l 5355 4363 l  col0 s
% Polyline
gs  clippath
4619 4411 m 4658 4457 l 4773 4358 l 4663 4414 l 4734 4313 l cp
eoclip
n 5175 3975 m
 4650 4425 l gs col0 s gr gr

% arrowhead
n 4734 4313 m 4663 4414 l 4773 4358 l  col0 s
% Polyline
gs  clippath
5891 5627 m 5947 5650 l 6003 5509 l 5931 5610 l 5947 5487 l cp
eoclip
n 6225 4875 m
 5925 5625 l gs col0 s gr gr

% arrowhead
n 5947 5487 m 5931 5610 l 6003 5509 l  col0 s
% Polyline
gs  clippath
6728 5726 m 6783 5701 l 6720 5563 l 6743 5685 l 6666 5588 l cp
eoclip
n 6375 4875 m
 6750 5700 l gs col0 s gr gr

% arrowhead
n 6666 5588 m 6743 5685 l 6720 5563 l  col0 s
% Polyline
gs  clippath
6267 6517 m 6313 6555 l 6410 6439 l 6311 6512 l 6364 6400 l cp
eoclip
n 6675 6075 m
 6300 6525 l gs col0 s gr gr

% arrowhead
n 6364 6400 m 6311 6512 l 6410 6439 l  col0 s
% Polyline
gs  clippath
7408 6554 m 7458 6520 l 7374 6394 l 7416 6511 l 7324 6427 l cp
eoclip
n 7125 6075 m
 7425 6525 l gs col0 s gr gr

% arrowhead
n 7324 6427 m 7416 6511 l 7374 6394 l  col0 s
% Polyline
gs  clippath
9116 4270 m 9166 4304 l 9250 4177 l 9159 4261 l 9200 4144 l cp
eoclip
n 9450 3825 m
 9150 4275 l gs col0 s gr gr

% arrowhead
n 9200 4144 m 9159 4261 l 9250 4177 l  col0 s
% Polyline
gs  clippath
10183 4304 m 10233 4270 l 10149 4144 l 10191 4261 l 10099 4177 l cp
eoclip
n 9900 3825 m
 10200 4275 l gs col0 s gr gr

% arrowhead
n 10099 4177 m 10191 4261 l 10149 4144 l  col0 s
% Polyline
2 slj
n 2100 2625 m 2172 2618 l 2240 2613 l 2304 2608 l 2362 2605 l 2414 2601 l
 2459 2598 l 2498 2595 l 2531 2592 l 2558 2589 l 2581 2585 l
 2600 2582 l 2616 2579 l 2629 2575 l 2640 2572 l 2650 2569 l
 2660 2566 l 2670 2564 l 2682 2562 l 2696 2562 l 2712 2563 l
 2731 2565 l 2754 2569 l 2781 2575 l 2812 2583 l 2848 2594 l
 2888 2608 l 2932 2626 l 2978 2647 l 3027 2672 l 3075 2700 l
 3118 2729 l 3159 2760 l 3196 2791 l 3229 2820 l 3258 2848 l
 3284 2874 l 3306 2897 l 3324 2917 l 3339 2934 l 3351 2949 l
 3361 2962 l 3369 2973 l 3375 2983 l 3380 2991 l 3384 2999 l
 3388 3006 l 3391 3014 l 3394 3023 l 3397 3033 l 3401 3046 l
 3405 3061 l 3411 3079 l 3418 3101 l 3426 3127 l 3435 3158 l
 3446 3194 l 3458 3236 l 3471 3283 l 3485 3337 l 3499 3395 l
 3512 3458 l 3525 3525 l 3535 3586 l 3543 3647 l 3549 3706 l
 3554 3764 l 3558 3817 l 3560 3868 l 3562 3914 l 3562 3956 l
 3562 3994 l 3561 4028 l 3559 4059 l 3557 4086 l 3555 4111 l
 3552 4133 l 3549 4153 l 3545 4172 l 3541 4189 l 3537 4206 l
 3534 4223 l 3529 4241 l 3525 4259 l 3521 4279 l 3517 4301 l
 3512 4326 l 3508 4353 l 3503 4383 l 3498 4417 l 3494 4454 l
 3489 4496 l 3484 4541 l 3479 4590 l 3473 4643 l 3468 4699 l
 3462 4757 l 3456 4816 l 3450 4875 l 3443 4936 l 3437 4993 l
 3432 5046 l 3429 5095 l 3427 5138 l 3428 5177 l 3431 5211 l
 3435 5240 l 3442 5265 l 3451 5286 l 3461 5304 l 3473 5319 l
 3486 5331 l 3500 5341 l 3515 5349 l 3529 5356 l 3544 5363 l
 3558 5369 l 3571 5375 l 3583 5381 l 3592 5388 l 3600 5397 l
 3605 5407 l 3606 5418 l 3603 5431 l 3595 5447 l 3582 5464 l
 3563 5484 l 3538 5505 l 3506 5528 l 3466 5553 l 3418 5577 l
 3363 5602 l 3300 5625 l 3247 5641 l 3191 5656 l 3134 5669 l
 3075 5682 l 3017 5692 l 2959 5702 l 2903 5711 l 2848 5719 l
 2795 5726 l 2744 5733 l 2695 5739 l 2648 5744 l 2603 5749 l
 2561 5754 l 2520 5758 l 2481 5762 l 2443 5766 l 2407 5770 l
 2371 5773 l 2337 5776 l 2303 5779 l 2269 5781 l 2235 5783 l
 2201 5785 l 2166 5787 l 2130 5788 l 2094 5789 l 2056 5789 l
 2016 5788 l 1974 5787 l 1931 5785 l 1885 5782 l 1837 5778 l
 1787 5773 l 1734 5766 l 1679 5758 l 1622 5749 l 1563 5737 l
 1503 5724 l 1441 5709 l 1380 5691 l 1318 5671 l 1258 5649 l
 1200 5625 l 1134 5592 l 1074 5557 l 1021 5521 l 974 5486 l
 934 5451 l 901 5417 l 874 5385 l 853 5355 l 837 5327 l
 825 5301 l 818 5277 l 815 5256 l 815 5235 l 817 5217 l
 822 5199 l 828 5182 l 835 5166 l 844 5150 l 853 5134 l
 862 5117 l 870 5099 l 878 5079 l 886 5058 l 892 5035 l
 896 5009 l 899 4980 l 900 4948 l 899 4912 l 896 4872 l
 891 4829 l 883 4782 l 874 4731 l 863 4677 l 851 4620 l
 838 4560 l 825 4500 l 812 4433 l 799 4367 l 789 4306 l
 779 4248 l 771 4197 l 765 4150 l 759 4110 l 755 4074 l
 751 4044 l 749 4018 l 747 3996 l 745 3978 l 744 3962 l
 744 3949 l 744 3936 l 744 3925 l 744 3914 l 744 3902 l
 745 3889 l 745 3875 l 745 3858 l 745 3839 l 745 3816 l
 746 3790 l 746 3760 l 746 3725 l 746 3687 l 746 3644 l
 746 3598 l 747 3550 l 748 3500 l 750 3450 l 753 3395 l
 757 3345 l 760 3300 l 762 3261 l 763 3227 l 762 3200 l
 760 3178 l 757 3161 l 752 3148 l 747 3139 l 740 3133 l
 733 3129 l 726 3126 l 719 3125 l 712 3124 l 706 3122 l
 702 3120 l 699 3116 l 699 3110 l 702 3102 l 708 3090 l
 719 3076 l 734 3058 l 755 3036 l 782 3011 l 815 2984 l
 855 2955 l 900 2925 l 941 2901 l 984 2879 l 1028 2858 l
 1071 2838 l 1113 2821 l 1152 2805 l 1189 2791 l 1223 2779 l
 1255 2769 l 1283 2760 l 1309 2753 l 1333 2746 l 1355 2741 l
 1375 2736 l 1395 2732 l 1413 2728 l 1431 2725 l 1450 2722 l
 1469 2719 l 1489 2715 l 1511 2712 l 1535 2708 l 1562 2704 l
 1592 2699 l 1625 2694 l 1662 2687 l 1704 2681 l 1749 2673 l
 1799 2665 l 1854 2657 l 1912 2649 l 1973 2640 l 2036 2632 l

 cp gs col0 s gr 
% Polyline
n 5625 3300 m 5696 3306 l 5767 3314 l 5836 3322 l 5902 3331 l 5965 3340 l
 6024 3349 l 6079 3357 l 6129 3365 l 6175 3372 l 6217 3378 l
 6255 3384 l 6290 3389 l 6321 3393 l 6349 3397 l 6374 3400 l
 6397 3403 l 6418 3405 l 6438 3408 l 6457 3410 l 6475 3413 l
 6493 3415 l 6512 3418 l 6531 3422 l 6551 3426 l 6572 3432 l
 6596 3438 l 6621 3446 l 6650 3455 l 6680 3467 l 6714 3480 l
 6751 3495 l 6792 3513 l 6835 3533 l 6882 3556 l 6931 3582 l
 6983 3610 l 7037 3641 l 7092 3675 l 7146 3712 l 7200 3750 l
 7260 3797 l 7315 3845 l 7365 3892 l 7409 3937 l 7447 3978 l
 7479 4017 l 7506 4051 l 7528 4082 l 7545 4109 l 7557 4133 l
 7566 4153 l 7572 4171 l 7575 4186 l 7575 4199 l 7574 4210 l
 7572 4221 l 7569 4231 l 7565 4242 l 7562 4253 l 7559 4266 l
 7557 4281 l 7557 4299 l 7558 4320 l 7561 4344 l 7566 4374 l
 7574 4408 l 7584 4447 l 7598 4492 l 7614 4543 l 7632 4600 l
 7653 4662 l 7676 4729 l 7701 4801 l 7725 4875 l 7746 4942 l
 7767 5009 l 7786 5074 l 7804 5135 l 7821 5194 l 7836 5248 l
 7850 5298 l 7862 5343 l 7874 5385 l 7884 5422 l 7893 5455 l
 7901 5484 l 7908 5511 l 7914 5534 l 7919 5555 l 7925 5574 l
 7929 5592 l 7933 5609 l 7938 5625 l 7941 5641 l 7945 5657 l
 7949 5675 l 7953 5693 l 7957 5713 l 7961 5736 l 7966 5760 l
 7970 5788 l 7975 5819 l 7981 5853 l 7986 5891 l 7992 5932 l
 7997 5977 l 8003 6026 l 8009 6077 l 8014 6131 l 8019 6187 l
 8022 6244 l 8025 6300 l 8026 6364 l 8026 6423 l 8026 6478 l
 8025 6526 l 8024 6568 l 8023 6604 l 8023 6635 l 8024 6659 l
 8026 6679 l 8028 6694 l 8031 6705 l 8034 6713 l 8038 6719 l
 8042 6722 l 8046 6724 l 8050 6725 l 8053 6726 l 8056 6727 l
 8057 6728 l 8058 6731 l 8056 6736 l 8052 6743 l 8045 6753 l
 8036 6765 l 8022 6781 l 8005 6800 l 7984 6823 l 7957 6849 l
 7926 6878 l 7889 6909 l 7847 6942 l 7800 6975 l 7755 7004 l
 7708 7031 l 7661 7057 l 7614 7081 l 7570 7104 l 7527 7125 l
 7488 7144 l 7452 7161 l 7419 7177 l 7389 7192 l 7363 7205 l
 7339 7217 l 7317 7229 l 7298 7239 l 7280 7249 l 7263 7258 l
 7247 7267 l 7231 7275 l 7215 7283 l 7198 7291 l 7180 7298 l
 7160 7306 l 7137 7313 l 7112 7320 l 7083 7327 l 7050 7334 l
 7012 7340 l 6970 7346 l 6922 7351 l 6869 7356 l 6811 7359 l
 6747 7362 l 6678 7362 l 6605 7361 l 6529 7357 l 6450 7350 l
 6379 7341 l 6309 7331 l 6241 7318 l 6175 7305 l 6114 7291 l
 6057 7277 l 6004 7263 l 5956 7250 l 5912 7237 l 5872 7224 l
 5837 7212 l 5805 7201 l 5777 7190 l 5752 7179 l 5730 7170 l
 5710 7160 l 5692 7151 l 5675 7143 l 5659 7134 l 5644 7125 l
 5629 7116 l 5613 7106 l 5597 7096 l 5580 7085 l 5561 7074 l
 5540 7061 l 5517 7046 l 5492 7030 l 5463 7013 l 5432 6993 l
 5396 6972 l 5358 6948 l 5316 6922 l 5270 6893 l 5222 6862 l
 5170 6829 l 5116 6793 l 5061 6755 l 5005 6716 l 4950 6675 l
 4888 6626 l 4829 6578 l 4776 6532 l 4728 6489 l 4685 6450 l
 4648 6415 l 4617 6385 l 4590 6359 l 4568 6337 l 4551 6320 l
 4537 6306 l 4527 6295 l 4519 6286 l 4514 6280 l 4510 6276 l
 4508 6272 l 4506 6269 l 4505 6265 l 4504 6261 l 4502 6255 l
 4499 6247 l 4495 6236 l 4489 6221 l 4481 6203 l 4471 6180 l
 4458 6151 l 4443 6117 l 4425 6076 l 4404 6029 l 4381 5975 l
 4356 5914 l 4329 5848 l 4302 5776 l 4275 5700 l 4253 5634 l
 4233 5567 l 4214 5502 l 4196 5438 l 4181 5377 l 4167 5318 l
 4155 5264 l 4145 5213 l 4136 5165 l 4128 5122 l 4122 5082 l
 4117 5045 l 4113 5011 l 4111 4980 l 4108 4952 l 4107 4925 l
 4106 4900 l 4106 4876 l 4106 4854 l 4106 4831 l 4107 4809 l
 4107 4787 l 4107 4763 l 4107 4739 l 4107 4714 l 4107 4686 l
 4106 4657 l 4105 4625 l 4103 4591 l 4101 4553 l 4098 4513 l
 4094 4470 l 4090 4424 l 4085 4375 l 4080 4324 l 4074 4270 l
 4068 4215 l 4062 4159 l 4056 4104 l 4050 4050 l 4041 3960 l
 4033 3883 l 4027 3820 l 4022 3771 l 4018 3735 l 4015 3710 l
 4013 3695 l 4010 3687 l 4009 3686 l 4007 3689 l 4006 3694 l
 4005 3700 l 4005 3706 l 4005 3710 l 4006 3711 l 4008 3708 l
 4010 3701 l 4014 3688 l 4020 3671 l 4028 3649 l 4038 3625 l
 4050 3600 l 4064 3578 l 4079 3560 l 4092 3545 l 4102 3536 l
 4108 3529 l 4112 3527 l 4109 3529 l 4105 3533 l 4099 3538 l
 4094 3544 l 4089 3550 l 4086 3555 l 4086 3560 l 4090 3563 l
 4100 3565 l 4118 3565 l 4144 3562 l 4179 3557 l 4226 3549 l
 4283 3538 l 4350 3525 l 4398 3516 l 4447 3507 l 4496 3497 l
 4543 3487 l 4588 3477 l 4629 3467 l 4667 3458 l 4702 3448 l
 4732 3439 l 4759 3430 l 4783 3420 l 4804 3411 l 4822 3403 l
 4838 3394 l 4853 3385 l 4867 3377 l 4881 3369 l 4895 3361 l
 4910 3353 l 4927 3345 l 4946 3337 l 4968 3330 l 4993 3323 l
 5023 3316 l 5057 3310 l 5097 3304 l 5142 3299 l 5194 3295 l
 5252 3292 l 5316 3290 l 5386 3290 l 5462 3291 l 5542 3295 l

 cp gs col0 s gr 
% Polyline
n 10050 3225 m 10108 3240 l 10163 3255 l 10214 3270 l 10261 3285 l 10304 3298 l
 10342 3309 l 10376 3319 l 10405 3326 l 10431 3332 l 10453 3336 l
 10472 3339 l 10488 3340 l 10503 3340 l 10515 3339 l 10527 3338 l
 10538 3338 l 10548 3337 l 10558 3337 l 10569 3339 l 10580 3342 l
 10592 3347 l 10606 3355 l 10621 3367 l 10637 3381 l 10655 3400 l
 10675 3424 l 10696 3453 l 10717 3487 l 10740 3526 l 10761 3571 l
 10782 3621 l 10800 3675 l 10813 3723 l 10823 3773 l 10831 3823 l
 10837 3872 l 10842 3920 l 10845 3966 l 10847 4010 l 10849 4051 l
 10850 4090 l 10851 4126 l 10851 4160 l 10851 4191 l 10850 4221 l
 10850 4248 l 10849 4274 l 10848 4299 l 10847 4323 l 10845 4346 l
 10844 4369 l 10842 4391 l 10839 4414 l 10836 4438 l 10832 4462 l
 10827 4488 l 10822 4515 l 10815 4544 l 10807 4574 l 10797 4607 l
 10786 4642 l 10772 4679 l 10757 4718 l 10739 4759 l 10718 4802 l
 10695 4847 l 10669 4892 l 10641 4938 l 10609 4982 l 10575 5025 l
 10534 5069 l 10492 5109 l 10449 5145 l 10408 5176 l 10369 5203 l
 10332 5226 l 10298 5244 l 10268 5260 l 10240 5272 l 10216 5282 l
 10194 5289 l 10174 5294 l 10157 5298 l 10142 5300 l 10127 5301 l
 10113 5301 l 10100 5300 l 10086 5299 l 10072 5297 l 10056 5296 l
 10038 5294 l 10018 5292 l 9995 5290 l 9968 5288 l 9938 5287 l
 9903 5285 l 9863 5284 l 9818 5282 l 9768 5280 l 9713 5277 l
 9652 5272 l 9588 5267 l 9520 5260 l 9450 5250 l 9383 5238 l
 9318 5225 l 9254 5211 l 9193 5196 l 9135 5180 l 9081 5166 l
 9032 5151 l 8986 5138 l 8944 5125 l 8905 5114 l 8870 5103 l
 8838 5093 l 8808 5083 l 8781 5075 l 8756 5067 l 8732 5059 l
 8709 5051 l 8687 5044 l 8666 5036 l 8644 5027 l 8622 5018 l
 8600 5008 l 8576 4997 l 8551 4984 l 8525 4970 l 8497 4953 l
 8468 4935 l 8437 4914 l 8404 4890 l 8371 4864 l 8336 4835 l
 8301 4803 l 8267 4768 l 8233 4731 l 8202 4691 l 8175 4650 l
 8150 4603 l 8131 4556 l 8118 4510 l 8110 4467 l 8107 4427 l
 8108 4391 l 8112 4357 l 8120 4327 l 8129 4301 l 8141 4277 l
 8155 4256 l 8169 4237 l 8185 4220 l 8202 4204 l 8220 4189 l
 8238 4175 l 8256 4161 l 8275 4146 l 8294 4131 l 8313 4115 l
 8333 4097 l 8352 4077 l 8372 4055 l 8392 4030 l 8412 4003 l
 8432 3972 l 8452 3939 l 8472 3904 l 8492 3867 l 8512 3828 l
 8531 3788 l 8550 3750 l 8582 3688 l 8610 3636 l 8633 3597 l
 8650 3569 l 8663 3551 l 8671 3542 l 8676 3539 l 8679 3540 l
 8681 3544 l 8683 3548 l 8685 3552 l 8689 3552 l 8696 3549 l
 8705 3540 l 8718 3526 l 8735 3505 l 8754 3479 l 8775 3450 l
 8790 3429 l 8803 3408 l 8814 3390 l 8820 3374 l 8824 3361 l
 8824 3349 l 8820 3340 l 8814 3332 l 8806 3326 l 8796 3321 l
 8786 3316 l 8775 3312 l 8765 3309 l 8755 3305 l 8748 3300 l
 8744 3296 l 8744 3290 l 8748 3283 l 8759 3275 l 8776 3266 l
 8801 3256 l 8834 3246 l 8876 3235 l 8925 3225 l 8966 3218 l
 9010 3213 l 9054 3207 l 9097 3203 l 9138 3199 l 9177 3195 l
 9214 3192 l 9247 3189 l 9278 3186 l 9306 3183 l 9332 3180 l
 9356 3178 l 9377 3175 l 9398 3173 l 9418 3171 l 9438 3169 l
 9457 3167 l 9478 3165 l 9499 3164 l 9522 3163 l 9548 3163 l
 9576 3163 l 9607 3164 l 9642 3165 l 9681 3168 l 9724 3172 l
 9770 3177 l 9821 3183 l 9875 3191 l 9932 3200 l 9991 3212 l

 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
2100 3000 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 3450 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 4350 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
1950 3825 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
1500 3600 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
2625 3450 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
1650 4425 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
2475 4425 m
gs 1 -1 sc (F) col0 sh gr
/Times-Roman ff 200.00 scf sf
5250 3825 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
4725 4125 m
gs 1 -1 sc (A) col0 sh gr
/Times-Roman ff 200.00 scf sf
5175 4275 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
5775 4050 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
5925 5175 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
6600 5100 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
6300 4725 m
gs 1 -1 sc (5) col0 sh gr
/Times-Roman ff 200.00 scf sf
6900 6000 m
gs 1 -1 sc (7) col0 sh gr
/Times-Roman ff 200.00 scf sf
6300 6150 m
gs 1 -1 sc (Q) col0 sh gr
/Times-Roman ff 200.00 scf sf
7350 6150 m
gs 1 -1 sc (R) col0 sh gr
/Times-Roman ff 200.00 scf sf
9225 3975 m
gs 1 -1 sc (X) col0 sh gr
/Times-Roman ff 200.00 scf sf
10125 3900 m
gs 1 -1 sc (Y) col0 sh gr
/Times-Italic ff 200.00 scf sf
900 3075 m
gs 1 -1 sc (dev=8,1) col0 sh gr
/Times-Italic ff 200.00 scf sf
6225 3975 m
gs 1 -1 sc (dev=8,17) col0 sh gr
/Times-Italic ff 200.00 scf sf
8475 4500 m
gs 1 -1 sc (dev=8,33) col0 sh gr
/Times-Italic ff 200.00 scf sf
4950 3225 m
gs 1 -1 sc (/dev/sdb1, not mounted) col0 sh gr
/Times-Italic ff 200.00 scf sf
9225 3000 m
gs 1 -1 sc (/dev/sdc1, not mounted) col0 sh gr
/Times-Italic ff 200.00 scf sf
1650 2550 m
gs 1 -1 sc (/dev/sda1, mounted as root fs) col0 sh gr
/Times-Roman ff 200.00 scf sf
2700 4950 m
gs 1 -1 sc (7) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF(No)33.336 361.019 Q 3.25(ww)-.325 G 3.25
(ee)-3.25 G -.195(xe)-3.445 G(cute the command:).195 E/F2 10/Courier@0
SF(mount /dev/sdb1 /C/F)33.336 373.019 Q F1 .933(The pathname)33.336
394.019 R/F3 13/Courier@0 SF(/dev/sdb1)4.183 E F1 .933
(is in a special part of the \214lesystem in which the nodes are)4.183 F
(de)33.336 409.019 Q 3.204
(vice special inodes. Disks are of type S_IFBLK.)-.325 F 3.203
(When the k)9.703 F 3.203(ernel translates this)-.13 F 3.773
(pathname, it produces a major)33.336 424.019 R 3.773(,minor de)-.52 F
3.774(vice number pair)-.325 F 7.024(,e)-.52 G 3.774(.g. 8,17.)-7.024 F
3.774(This uniquely)10.274 F
(identi\214es the \214rst partition of the second SCSI/SA)33.336 439.019
Q 2.418 -1.209(TA h)-1.443 H(ard disk on the system.)1.209 E -.195(Pa)
33.336 460.019 S 1.107(thname /C/F becomes the).195 F/F4 13/Times-Bold@0
SF 1.107(mount point)4.357 F F1 7.607(.I)C 4.357(tw)-7.607 G 1.107
(as inode #7 in the root \214lesystem.)-4.487 F(That)7.606 E .15
(inode no)33.336 475.019 R 3.4(wb)-.325 G .15
(ecomes obscured, and is replaced with the root inode of the)-3.4 F/F5
13/Times-Italic@0 SF(mounted)3.401 E F1 -.26(vo)3.401 G(lume,).26 E
(which is inode #2:)33.336 490.019 Q 0 Cg EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 23)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 468 636 -276.679 376 33.336 396.679 PBEGIN
%%BeginDocument: unixmount2.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unixmount2.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Feb  4 00:19:37 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 636 376
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 376 moveto 0 0 lineto 636 0 lineto 636 376 lineto closepath clip newpath
-41.2 518.9 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Ellipse
7.500 slw
n 2832 5082 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3815 5929 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 4400 7190 237 237 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
3668 5807 m 3705 5760 l 3585 5667 l 3662 5765 l 3548 5715 l cp
eoclip
n 3000 5250 m
 3675 5775 l gs col0 s gr gr

% arrowhead
n 3548 5715 m 3662 5765 l 3585 5667 l  col0 s
% Polyline
gs  clippath
2820 5790 m 2880 5790 l 2880 5638 l 2850 5758 l 2820 5638 l cp
eoclip
n 2850 5325 m
 2850 5775 l gs col0 s gr gr

% arrowhead
n 2820 5638 m 2850 5758 l 2880 5638 l  col0 s
% Polyline
gs  clippath
2144 5686 m 2183 5732 l 2298 5633 l 2188 5689 l 2259 5588 l cp
eoclip
n 2700 5250 m
 2175 5700 l gs col0 s gr gr

% arrowhead
n 2259 5588 m 2188 5689 l 2298 5633 l  col0 s
% Polyline
gs  clippath
3416 6902 m 3472 6925 l 3528 6784 l 3456 6885 l 3472 6762 l cp
eoclip
n 3750 6150 m
 3450 6900 l gs col0 s gr gr

% arrowhead
n 3472 6762 m 3456 6885 l 3528 6784 l  col0 s
% Polyline
gs  clippath
4253 7001 m 4308 6976 l 4245 6838 l 4268 6960 l 4191 6863 l cp
eoclip
n 3900 6150 m
 4275 6975 l gs col0 s gr gr

% arrowhead
n 4191 6863 m 4268 6960 l 4245 6838 l  col0 s
% Polyline
gs  clippath
3792 7792 m 3838 7830 l 3935 7714 l 3836 7787 l 3889 7675 l cp
eoclip
n 4200 7350 m
 3825 7800 l gs col0 s gr gr

% arrowhead
n 3889 7675 m 3836 7787 l 3935 7714 l  col0 s
% Polyline
gs  clippath
4933 7829 m 4983 7795 l 4899 7669 l 4941 7786 l 4849 7702 l cp
eoclip
n 4650 7350 m
 4950 7800 l gs col0 s gr gr

% arrowhead
n 4849 7702 m 4941 7786 l 4899 7669 l  col0 s
% Polyline
2 slj
n 3150 4575 m 3221 4581 l 3292 4589 l 3361 4597 l 3427 4606 l 3490 4615 l
 3549 4624 l 3604 4632 l 3654 4640 l 3700 4647 l 3742 4653 l
 3780 4659 l 3815 4664 l 3846 4668 l 3874 4672 l 3899 4675 l
 3922 4678 l 3943 4680 l 3963 4683 l 3982 4685 l 4000 4688 l
 4018 4690 l 4037 4693 l 4056 4697 l 4076 4701 l 4097 4707 l
 4121 4713 l 4146 4721 l 4175 4730 l 4205 4742 l 4239 4755 l
 4276 4770 l 4317 4788 l 4360 4808 l 4407 4831 l 4456 4857 l
 4508 4885 l 4562 4916 l 4617 4950 l 4671 4987 l 4725 5025 l
 4785 5072 l 4840 5120 l 4890 5167 l 4934 5212 l 4972 5253 l
 5004 5292 l 5031 5326 l 5053 5357 l 5070 5384 l 5082 5408 l
 5091 5428 l 5097 5446 l 5100 5461 l 5100 5474 l 5099 5485 l
 5097 5496 l 5094 5506 l 5090 5517 l 5087 5528 l 5084 5541 l
 5082 5556 l 5082 5574 l 5083 5595 l 5086 5619 l 5091 5649 l
 5099 5683 l 5109 5722 l 5123 5767 l 5139 5818 l 5157 5875 l
 5178 5937 l 5201 6004 l 5226 6076 l 5250 6150 l 5271 6217 l
 5292 6284 l 5311 6349 l 5329 6410 l 5346 6469 l 5361 6523 l
 5375 6573 l 5387 6618 l 5399 6660 l 5409 6697 l 5418 6730 l
 5426 6759 l 5433 6786 l 5439 6809 l 5444 6830 l 5450 6849 l
 5454 6867 l 5458 6884 l 5463 6900 l 5466 6916 l 5470 6932 l
 5474 6950 l 5478 6968 l 5482 6988 l 5486 7011 l 5491 7035 l
 5495 7063 l 5500 7094 l 5506 7128 l 5511 7166 l 5517 7207 l
 5522 7252 l 5528 7301 l 5534 7352 l 5539 7406 l 5544 7462 l
 5547 7519 l 5550 7575 l 5551 7639 l 5551 7698 l 5551 7753 l
 5550 7801 l 5549 7843 l 5548 7879 l 5548 7910 l 5549 7934 l
 5551 7954 l 5553 7969 l 5556 7980 l 5559 7988 l 5563 7994 l
 5567 7997 l 5571 7999 l 5575 8000 l 5578 8001 l 5581 8002 l
 5582 8003 l 5583 8006 l 5581 8011 l 5577 8018 l 5570 8028 l
 5561 8040 l 5547 8056 l 5530 8075 l 5509 8098 l 5482 8124 l
 5451 8153 l 5414 8184 l 5372 8217 l 5325 8250 l 5280 8279 l
 5233 8306 l 5186 8332 l 5139 8356 l 5095 8379 l 5052 8400 l
 5013 8419 l 4977 8436 l 4944 8452 l 4914 8467 l 4888 8480 l
 4864 8492 l 4842 8504 l 4823 8514 l 4805 8524 l 4788 8533 l
 4772 8542 l 4756 8550 l 4740 8558 l 4723 8566 l 4705 8573 l
 4685 8581 l 4662 8588 l 4637 8595 l 4608 8602 l 4575 8609 l
 4537 8615 l 4495 8621 l 4447 8626 l 4394 8631 l 4336 8634 l
 4272 8637 l 4203 8637 l 4130 8636 l 4054 8632 l 3975 8625 l
 3904 8616 l 3834 8606 l 3766 8593 l 3700 8580 l 3639 8566 l
 3582 8552 l 3529 8538 l 3481 8525 l 3437 8512 l 3397 8499 l
 3362 8487 l 3330 8476 l 3302 8465 l 3277 8454 l 3255 8445 l
 3235 8435 l 3217 8426 l 3200 8418 l 3184 8409 l 3169 8400 l
 3154 8391 l 3138 8381 l 3122 8371 l 3105 8360 l 3086 8349 l
 3065 8336 l 3042 8321 l 3017 8305 l 2988 8288 l 2957 8268 l
 2921 8247 l 2883 8223 l 2841 8197 l 2795 8168 l 2747 8137 l
 2695 8104 l 2641 8068 l 2586 8030 l 2530 7991 l 2475 7950 l
 2413 7901 l 2354 7853 l 2301 7807 l 2253 7764 l 2210 7725 l
 2173 7690 l 2142 7660 l 2115 7634 l 2093 7612 l 2076 7595 l
 2062 7581 l 2052 7570 l 2044 7561 l 2039 7555 l 2035 7551 l
 2033 7547 l 2031 7544 l 2030 7540 l 2029 7536 l 2027 7530 l
 2024 7522 l 2020 7511 l 2014 7496 l 2006 7478 l 1996 7455 l
 1983 7426 l 1968 7392 l 1950 7351 l 1929 7304 l 1906 7250 l
 1881 7189 l 1854 7123 l 1827 7051 l 1800 6975 l 1778 6909 l
 1758 6842 l 1739 6777 l 1721 6713 l 1706 6652 l 1692 6593 l
 1680 6539 l 1670 6488 l 1661 6440 l 1653 6397 l 1647 6357 l
 1642 6320 l 1638 6286 l 1636 6255 l 1633 6227 l 1632 6200 l
 1631 6175 l 1631 6151 l 1631 6129 l 1631 6106 l 1632 6084 l
 1632 6062 l 1632 6038 l 1632 6014 l 1632 5989 l 1632 5961 l
 1631 5932 l 1630 5900 l 1628 5866 l 1626 5828 l 1623 5788 l
 1619 5745 l 1615 5699 l 1610 5650 l 1605 5599 l 1599 5545 l
 1593 5490 l 1587 5434 l 1581 5379 l 1575 5325 l 1566 5235 l
 1558 5158 l 1552 5095 l 1547 5046 l 1543 5010 l 1540 4985 l
 1538 4970 l 1535 4962 l 1534 4961 l 1532 4964 l 1531 4969 l
 1530 4975 l 1530 4981 l 1530 4985 l 1531 4986 l 1533 4983 l
 1535 4976 l 1539 4963 l 1545 4946 l 1553 4924 l 1563 4900 l
 1575 4875 l 1589 4853 l 1604 4835 l 1617 4820 l 1627 4811 l
 1633 4804 l 1637 4802 l 1634 4804 l 1630 4808 l 1624 4813 l
 1619 4819 l 1614 4825 l 1611 4830 l 1611 4835 l 1615 4838 l
 1625 4840 l 1643 4840 l 1669 4837 l 1704 4832 l 1751 4824 l
 1808 4813 l 1875 4800 l 1923 4791 l 1972 4782 l 2021 4772 l
 2068 4762 l 2113 4752 l 2154 4742 l 2192 4733 l 2227 4723 l
 2257 4714 l 2284 4705 l 2308 4695 l 2329 4686 l 2347 4678 l
 2363 4669 l 2378 4660 l 2392 4652 l 2406 4644 l 2420 4636 l
 2435 4628 l 2452 4620 l 2471 4612 l 2493 4605 l 2518 4598 l
 2548 4591 l 2582 4585 l 2622 4579 l 2667 4574 l 2719 4570 l
 2777 4567 l 2841 4565 l 2911 4565 l 2987 4566 l 3067 4570 l

 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
2775 5100 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
2250 5400 m
gs 1 -1 sc (A) col0 sh gr
/Times-Roman ff 200.00 scf sf
2700 5550 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
3300 5325 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
3450 6450 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
4125 6375 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
3825 6000 m
gs 1 -1 sc (5) col0 sh gr
/Times-Roman ff 200.00 scf sf
4425 7275 m
gs 1 -1 sc (7) col0 sh gr
/Times-Roman ff 200.00 scf sf
3825 7425 m
gs 1 -1 sc (Q) col0 sh gr
/Times-Roman ff 200.00 scf sf
4875 7425 m
gs 1 -1 sc (R) col0 sh gr
/Times-Italic ff 200.00 scf sf
3750 5250 m
gs 1 -1 sc (dev=8,17) col0 sh gr
% Ellipse
n 2100 3375 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2100 4263 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 9675 3750 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
 [15 60] 60 sd
1 slc
n 2775 4863 237 237 0 360 DrawEllipse gs col0 s gr
 [] 0 sd
% Polyline
0 slj
0 slc
gs  clippath
1393 3889 m 1435 3931 l 1543 3824 l 1437 3888 l 1500 3781 l cp
eoclip
n 1875 3450 m
 1425 3900 l gs col0 s gr gr

% arrowhead
n 1500 3781 m 1437 3888 l 1543 3824 l  col0 s
% Polyline
gs  clippath
2692 3782 m 2730 3735 l 2612 3641 l 2687 3740 l 2574 3688 l cp
eoclip
n 2325 3450 m
 2700 3750 l gs col0 s gr gr

% arrowhead
n 2574 3688 m 2687 3740 l 2612 3641 l  col0 s
% Polyline
gs  clippath
2070 4065 m 2130 4065 l 2130 3913 l 2100 4033 l 2070 3913 l cp
eoclip
n 2100 3600 m
 2100 4050 l gs col0 s gr gr

% arrowhead
n 2070 3913 m 2100 4033 l 2130 3913 l  col0 s
% Polyline
gs  clippath
2617 4757 m 2655 4710 l 2537 4616 l 2612 4715 l 2499 4663 l cp
eoclip
n 2250 4425 m
 2625 4725 l gs col0 s gr gr

% arrowhead
n 2499 4663 m 2612 4715 l 2537 4616 l  col0 s
% Polyline
gs  clippath
1616 4719 m 1665 4755 l 1755 4633 l 1660 4712 l 1707 4597 l cp
eoclip
n 1875 4425 m
 1650 4725 l gs col0 s gr gr

% arrowhead
n 1707 4597 m 1660 4712 l 1755 4633 l  col0 s
% Polyline
gs  clippath
9116 4270 m 9166 4304 l 9250 4177 l 9159 4261 l 9200 4144 l cp
eoclip
n 9450 3825 m
 9150 4275 l gs col0 s gr gr

% arrowhead
n 9200 4144 m 9159 4261 l 9250 4177 l  col0 s
% Polyline
gs  clippath
10183 4304 m 10233 4270 l 10149 4144 l 10191 4261 l 10099 4177 l cp
eoclip
n 9900 3825 m
 10200 4275 l gs col0 s gr gr

% arrowhead
n 10099 4177 m 10191 4261 l 10149 4144 l  col0 s
% Polyline
2 slj
n 2100 2625 m 2172 2618 l 2240 2613 l 2304 2608 l 2362 2605 l 2414 2601 l
 2459 2598 l 2498 2595 l 2531 2592 l 2558 2589 l 2581 2585 l
 2600 2582 l 2616 2579 l 2629 2575 l 2640 2572 l 2650 2569 l
 2660 2566 l 2670 2564 l 2682 2562 l 2696 2562 l 2712 2563 l
 2731 2565 l 2754 2569 l 2781 2575 l 2812 2583 l 2848 2594 l
 2888 2608 l 2932 2626 l 2978 2647 l 3027 2672 l 3075 2700 l
 3118 2729 l 3159 2760 l 3196 2791 l 3229 2820 l 3258 2848 l
 3284 2874 l 3306 2897 l 3324 2917 l 3339 2934 l 3351 2949 l
 3361 2962 l 3369 2973 l 3375 2983 l 3380 2991 l 3384 2999 l
 3388 3006 l 3391 3014 l 3394 3023 l 3397 3033 l 3401 3046 l
 3405 3061 l 3411 3079 l 3418 3101 l 3426 3127 l 3435 3158 l
 3446 3194 l 3458 3236 l 3471 3283 l 3485 3337 l 3499 3395 l
 3512 3458 l 3525 3525 l 3535 3586 l 3543 3647 l 3549 3706 l
 3554 3764 l 3558 3817 l 3560 3868 l 3562 3914 l 3562 3956 l
 3562 3994 l 3561 4028 l 3559 4059 l 3557 4086 l 3555 4111 l
 3552 4133 l 3549 4153 l 3545 4172 l 3541 4189 l 3537 4206 l
 3534 4223 l 3529 4241 l 3525 4259 l 3521 4279 l 3517 4301 l
 3512 4326 l 3508 4353 l 3503 4383 l 3498 4417 l 3494 4454 l
 3489 4496 l 3484 4541 l 3479 4590 l 3473 4643 l 3468 4699 l
 3462 4757 l 3456 4816 l 3450 4875 l 3443 4936 l 3437 4993 l
 3432 5046 l 3429 5095 l 3427 5138 l 3428 5177 l 3431 5211 l
 3435 5240 l 3442 5265 l 3451 5286 l 3461 5304 l 3473 5319 l
 3486 5331 l 3500 5341 l 3515 5349 l 3529 5356 l 3544 5363 l
 3558 5369 l 3571 5375 l 3583 5381 l 3592 5388 l 3600 5397 l
 3605 5407 l 3606 5418 l 3603 5431 l 3595 5447 l 3582 5464 l
 3563 5484 l 3538 5505 l 3506 5528 l 3466 5553 l 3418 5577 l
 3363 5602 l 3300 5625 l 3247 5641 l 3191 5656 l 3134 5669 l
 3075 5682 l 3017 5692 l 2959 5702 l 2903 5711 l 2848 5719 l
 2795 5726 l 2744 5733 l 2695 5739 l 2648 5744 l 2603 5749 l
 2561 5754 l 2520 5758 l 2481 5762 l 2443 5766 l 2407 5770 l
 2371 5773 l 2337 5776 l 2303 5779 l 2269 5781 l 2235 5783 l
 2201 5785 l 2166 5787 l 2130 5788 l 2094 5789 l 2056 5789 l
 2016 5788 l 1974 5787 l 1931 5785 l 1885 5782 l 1837 5778 l
 1787 5773 l 1734 5766 l 1679 5758 l 1622 5749 l 1563 5737 l
 1503 5724 l 1441 5709 l 1380 5691 l 1318 5671 l 1258 5649 l
 1200 5625 l 1134 5592 l 1074 5557 l 1021 5521 l 974 5486 l
 934 5451 l 901 5417 l 874 5385 l 853 5355 l 837 5327 l
 825 5301 l 818 5277 l 815 5256 l 815 5235 l 817 5217 l
 822 5199 l 828 5182 l 835 5166 l 844 5150 l 853 5134 l
 862 5117 l 870 5099 l 878 5079 l 886 5058 l 892 5035 l
 896 5009 l 899 4980 l 900 4948 l 899 4912 l 896 4872 l
 891 4829 l 883 4782 l 874 4731 l 863 4677 l 851 4620 l
 838 4560 l 825 4500 l 812 4433 l 799 4367 l 789 4306 l
 779 4248 l 771 4197 l 765 4150 l 759 4110 l 755 4074 l
 751 4044 l 749 4018 l 747 3996 l 745 3978 l 744 3962 l
 744 3949 l 744 3936 l 744 3925 l 744 3914 l 744 3902 l
 745 3889 l 745 3875 l 745 3858 l 745 3839 l 745 3816 l
 746 3790 l 746 3760 l 746 3725 l 746 3687 l 746 3644 l
 746 3598 l 747 3550 l 748 3500 l 750 3450 l 753 3395 l
 757 3345 l 760 3300 l 762 3261 l 763 3227 l 762 3200 l
 760 3178 l 757 3161 l 752 3148 l 747 3139 l 740 3133 l
 733 3129 l 726 3126 l 719 3125 l 712 3124 l 706 3122 l
 702 3120 l 699 3116 l 699 3110 l 702 3102 l 708 3090 l
 719 3076 l 734 3058 l 755 3036 l 782 3011 l 815 2984 l
 855 2955 l 900 2925 l 941 2901 l 984 2879 l 1028 2858 l
 1071 2838 l 1113 2821 l 1152 2805 l 1189 2791 l 1223 2779 l
 1255 2769 l 1283 2760 l 1309 2753 l 1333 2746 l 1355 2741 l
 1375 2736 l 1395 2732 l 1413 2728 l 1431 2725 l 1450 2722 l
 1469 2719 l 1489 2715 l 1511 2712 l 1535 2708 l 1562 2704 l
 1592 2699 l 1625 2694 l 1662 2687 l 1704 2681 l 1749 2673 l
 1799 2665 l 1854 2657 l 1912 2649 l 1973 2640 l 2036 2632 l

 cp gs col0 s gr 
% Polyline
n 10050 3225 m 10108 3240 l 10163 3255 l 10214 3270 l 10261 3285 l 10304 3298 l
 10342 3309 l 10376 3319 l 10405 3326 l 10431 3332 l 10453 3336 l
 10472 3339 l 10488 3340 l 10503 3340 l 10515 3339 l 10527 3338 l
 10538 3338 l 10548 3337 l 10558 3337 l 10569 3339 l 10580 3342 l
 10592 3347 l 10606 3355 l 10621 3367 l 10637 3381 l 10655 3400 l
 10675 3424 l 10696 3453 l 10717 3487 l 10740 3526 l 10761 3571 l
 10782 3621 l 10800 3675 l 10813 3723 l 10823 3773 l 10831 3823 l
 10837 3872 l 10842 3920 l 10845 3966 l 10847 4010 l 10849 4051 l
 10850 4090 l 10851 4126 l 10851 4160 l 10851 4191 l 10850 4221 l
 10850 4248 l 10849 4274 l 10848 4299 l 10847 4323 l 10845 4346 l
 10844 4369 l 10842 4391 l 10839 4414 l 10836 4438 l 10832 4462 l
 10827 4488 l 10822 4515 l 10815 4544 l 10807 4574 l 10797 4607 l
 10786 4642 l 10772 4679 l 10757 4718 l 10739 4759 l 10718 4802 l
 10695 4847 l 10669 4892 l 10641 4938 l 10609 4982 l 10575 5025 l
 10534 5069 l 10492 5109 l 10449 5145 l 10408 5176 l 10369 5203 l
 10332 5226 l 10298 5244 l 10268 5260 l 10240 5272 l 10216 5282 l
 10194 5289 l 10174 5294 l 10157 5298 l 10142 5300 l 10127 5301 l
 10113 5301 l 10100 5300 l 10086 5299 l 10072 5297 l 10056 5296 l
 10038 5294 l 10018 5292 l 9995 5290 l 9968 5288 l 9938 5287 l
 9903 5285 l 9863 5284 l 9818 5282 l 9768 5280 l 9713 5277 l
 9652 5272 l 9588 5267 l 9520 5260 l 9450 5250 l 9383 5238 l
 9318 5225 l 9254 5211 l 9193 5196 l 9135 5180 l 9081 5166 l
 9032 5151 l 8986 5138 l 8944 5125 l 8905 5114 l 8870 5103 l
 8838 5093 l 8808 5083 l 8781 5075 l 8756 5067 l 8732 5059 l
 8709 5051 l 8687 5044 l 8666 5036 l 8644 5027 l 8622 5018 l
 8600 5008 l 8576 4997 l 8551 4984 l 8525 4970 l 8497 4953 l
 8468 4935 l 8437 4914 l 8404 4890 l 8371 4864 l 8336 4835 l
 8301 4803 l 8267 4768 l 8233 4731 l 8202 4691 l 8175 4650 l
 8150 4603 l 8131 4556 l 8118 4510 l 8110 4467 l 8107 4427 l
 8108 4391 l 8112 4357 l 8120 4327 l 8129 4301 l 8141 4277 l
 8155 4256 l 8169 4237 l 8185 4220 l 8202 4204 l 8220 4189 l
 8238 4175 l 8256 4161 l 8275 4146 l 8294 4131 l 8313 4115 l
 8333 4097 l 8352 4077 l 8372 4055 l 8392 4030 l 8412 4003 l
 8432 3972 l 8452 3939 l 8472 3904 l 8492 3867 l 8512 3828 l
 8531 3788 l 8550 3750 l 8582 3688 l 8610 3636 l 8633 3597 l
 8650 3569 l 8663 3551 l 8671 3542 l 8676 3539 l 8679 3540 l
 8681 3544 l 8683 3548 l 8685 3552 l 8689 3552 l 8696 3549 l
 8705 3540 l 8718 3526 l 8735 3505 l 8754 3479 l 8775 3450 l
 8790 3429 l 8803 3408 l 8814 3390 l 8820 3374 l 8824 3361 l
 8824 3349 l 8820 3340 l 8814 3332 l 8806 3326 l 8796 3321 l
 8786 3316 l 8775 3312 l 8765 3309 l 8755 3305 l 8748 3300 l
 8744 3296 l 8744 3290 l 8748 3283 l 8759 3275 l 8776 3266 l
 8801 3256 l 8834 3246 l 8876 3235 l 8925 3225 l 8966 3218 l
 9010 3213 l 9054 3207 l 9097 3203 l 9138 3199 l 9177 3195 l
 9214 3192 l 9247 3189 l 9278 3186 l 9306 3183 l 9332 3180 l
 9356 3178 l 9377 3175 l 9398 3173 l 9418 3171 l 9438 3169 l
 9457 3167 l 9478 3165 l 9499 3164 l 9522 3163 l 9548 3163 l
 9576 3163 l 9607 3164 l 9642 3165 l 9681 3168 l 9724 3172 l
 9770 3177 l 9821 3183 l 9875 3191 l 9932 3200 l 9991 3212 l

 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
2100 3000 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 3450 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 4350 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
1950 3825 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
1500 3600 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
2625 3450 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
1650 4425 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
2475 4425 m
gs 1 -1 sc (F) col0 sh gr
/Times-Roman ff 200.00 scf sf
9225 3975 m
gs 1 -1 sc (X) col0 sh gr
/Times-Roman ff 200.00 scf sf
10125 3900 m
gs 1 -1 sc (Y) col0 sh gr
/Times-Italic ff 200.00 scf sf
900 3075 m
gs 1 -1 sc (dev=8,1) col0 sh gr
/Times-Italic ff 200.00 scf sf
8475 4500 m
gs 1 -1 sc (dev=8,33) col0 sh gr
/Times-Italic ff 200.00 scf sf
9225 3000 m
gs 1 -1 sc (/dev/sdc1, not mounted) col0 sh gr
/Times-Italic ff 200.00 scf sf
1650 2550 m
gs 1 -1 sc (/dev/sda1, mounted as root fs) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF 3.532(Am)33.336 417.679 S .282
(ount point must be an e)-3.532 F .281
(xisting directory in an already-mounted part of the path name)-.195 F
3.544(space. Normally)33.336 432.679 R 3.544(,i)-.845 G 3.544(ti)-3.544
G 3.544(sa)-3.544 G 3.544(ne)-3.544 G .294(mpty directory)-3.544 F 6.794
(.B)-.845 G .295(ut if the directory had contents, the)-6.794 F 3.545
(yb)-.195 G(ecome)-3.545 E(obscured by the mount:)33.336 447.679 Q 0 Cg
EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 24)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 296 296 -396 396 119.336 516 PBEGIN
%%BeginDocument: unixmount3.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: unixmount3.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Feb  4 00:21:09 2011
%%For: hak@lex ()
%%BoundingBox: 0 0 296 396
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 396 moveto 0 0 lineto 296 0 lineto 296 396 lineto closepath clip newpath
-41.2 539.3 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Ellipse
7.500 slw
n 4425 7425 237 237 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
3866 7945 m 3916 7979 l 4000 7852 l 3909 7936 l 3950 7819 l cp
eoclip
n 4200 7500 m
 3900 7950 l gs col0 s gr gr

% arrowhead
n 3950 7819 m 3909 7936 l 4000 7852 l  col0 s
% Polyline
gs  clippath
4933 7979 m 4983 7945 l 4899 7819 l 4941 7936 l 4849 7852 l cp
eoclip
n 4650 7500 m
 4950 7950 l gs col0 s gr gr

% arrowhead
n 4849 7852 m 4941 7936 l 4899 7819 l  col0 s
/Times-Roman ff 200.00 scf sf
3975 7650 m
gs 1 -1 sc (X) col0 sh gr
/Times-Roman ff 200.00 scf sf
4875 7575 m
gs 1 -1 sc (Y) col0 sh gr
/Times-Italic ff 200.00 scf sf
3225 8175 m
gs 1 -1 sc (dev=8,33) col0 sh gr
% Polyline
2 slj
n 4800 6900 m 4858 6915 l 4913 6930 l 4964 6945 l 5011 6960 l 5054 6973 l
 5092 6984 l 5126 6994 l 5155 7001 l 5181 7007 l 5203 7011 l
 5222 7014 l 5238 7015 l 5253 7015 l 5265 7014 l 5277 7013 l
 5288 7013 l 5298 7012 l 5308 7012 l 5319 7014 l 5330 7017 l
 5342 7022 l 5356 7030 l 5371 7042 l 5387 7056 l 5405 7075 l
 5425 7099 l 5446 7128 l 5467 7162 l 5490 7201 l 5511 7246 l
 5532 7296 l 5550 7350 l 5563 7398 l 5573 7448 l 5581 7498 l
 5587 7547 l 5592 7595 l 5595 7641 l 5597 7685 l 5599 7726 l
 5600 7765 l 5601 7801 l 5601 7835 l 5601 7866 l 5600 7896 l
 5600 7923 l 5599 7949 l 5598 7974 l 5597 7998 l 5595 8021 l
 5594 8044 l 5592 8066 l 5589 8089 l 5586 8113 l 5582 8137 l
 5577 8163 l 5572 8190 l 5565 8219 l 5557 8249 l 5547 8282 l
 5536 8317 l 5522 8354 l 5507 8393 l 5489 8434 l 5468 8477 l
 5445 8522 l 5419 8567 l 5391 8613 l 5359 8657 l 5325 8700 l
 5284 8744 l 5242 8784 l 5199 8820 l 5158 8851 l 5119 8878 l
 5082 8901 l 5048 8919 l 5018 8935 l 4990 8947 l 4966 8957 l
 4944 8964 l 4924 8969 l 4907 8973 l 4892 8975 l 4877 8976 l
 4863 8976 l 4850 8975 l 4836 8974 l 4822 8972 l 4806 8971 l
 4788 8969 l 4768 8967 l 4745 8965 l 4718 8963 l 4688 8962 l
 4653 8960 l 4613 8959 l 4568 8957 l 4518 8955 l 4463 8952 l
 4402 8947 l 4338 8942 l 4270 8935 l 4200 8925 l 4133 8913 l
 4068 8900 l 4004 8886 l 3943 8871 l 3885 8855 l 3831 8841 l
 3782 8826 l 3736 8813 l 3694 8800 l 3655 8789 l 3620 8778 l
 3588 8768 l 3558 8758 l 3531 8750 l 3506 8742 l 3482 8734 l
 3459 8726 l 3437 8719 l 3416 8711 l 3394 8702 l 3372 8693 l
 3350 8683 l 3326 8672 l 3301 8659 l 3275 8645 l 3247 8628 l
 3218 8610 l 3187 8589 l 3154 8565 l 3121 8539 l 3086 8510 l
 3051 8478 l 3017 8443 l 2983 8406 l 2952 8366 l 2925 8325 l
 2900 8278 l 2881 8231 l 2868 8185 l 2860 8142 l 2857 8102 l
 2858 8066 l 2862 8032 l 2870 8002 l 2879 7976 l 2891 7952 l
 2905 7931 l 2919 7912 l 2935 7895 l 2952 7879 l 2970 7864 l
 2988 7850 l 3006 7836 l 3025 7821 l 3044 7806 l 3063 7790 l
 3083 7772 l 3102 7752 l 3122 7730 l 3142 7705 l 3162 7678 l
 3182 7647 l 3202 7614 l 3222 7579 l 3242 7542 l 3262 7503 l
 3281 7463 l 3300 7425 l 3332 7363 l 3360 7311 l 3383 7272 l
 3400 7244 l 3413 7226 l 3421 7217 l 3426 7214 l 3429 7215 l
 3431 7219 l 3433 7223 l 3435 7227 l 3439 7227 l 3446 7224 l
 3455 7215 l 3468 7201 l 3485 7180 l 3504 7154 l 3525 7125 l
 3540 7104 l 3553 7083 l 3564 7065 l 3570 7049 l 3574 7036 l
 3574 7024 l 3570 7015 l 3564 7007 l 3556 7001 l 3546 6996 l
 3536 6991 l 3525 6987 l 3515 6984 l 3505 6980 l 3498 6975 l
 3494 6971 l 3494 6965 l 3498 6958 l 3509 6950 l 3526 6941 l
 3551 6931 l 3584 6921 l 3626 6910 l 3675 6900 l 3716 6893 l
 3760 6888 l 3804 6882 l 3847 6878 l 3888 6874 l 3927 6870 l
 3964 6867 l 3997 6864 l 4028 6861 l 4056 6858 l 4082 6855 l
 4106 6853 l 4127 6850 l 4148 6848 l 4168 6846 l 4188 6844 l
 4207 6842 l 4228 6840 l 4249 6839 l 4272 6838 l 4298 6838 l
 4326 6838 l 4357 6839 l 4392 6840 l 4431 6843 l 4474 6847 l
 4520 6852 l 4571 6858 l 4625 6866 l 4682 6875 l 4741 6887 l

 cp gs col0 s gr 
% Ellipse
n 2100 3375 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2100 4263 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
 [15 60] 60 sd
1 slc
n 2775 4863 237 237 0 360 DrawEllipse gs col0 s gr
 [] 0 sd
% Ellipse
n 2832 5082 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3815 5929 237 237 0 360 DrawEllipse gs col0 s gr

% Ellipse
 [60] 0 sd
n 4400 7190 237 237 0 360 DrawEllipse gs col0 s gr
 [] 0 sd
% Polyline
0 slj
0 slc
gs  clippath
1393 3889 m 1435 3931 l 1543 3824 l 1437 3888 l 1500 3781 l cp
eoclip
n 1875 3450 m
 1425 3900 l gs col0 s gr gr

% arrowhead
n 1500 3781 m 1437 3888 l 1543 3824 l  col0 s
% Polyline
gs  clippath
2692 3782 m 2730 3735 l 2612 3641 l 2687 3740 l 2574 3688 l cp
eoclip
n 2325 3450 m
 2700 3750 l gs col0 s gr gr

% arrowhead
n 2574 3688 m 2687 3740 l 2612 3641 l  col0 s
% Polyline
gs  clippath
2070 4065 m 2130 4065 l 2130 3913 l 2100 4033 l 2070 3913 l cp
eoclip
n 2100 3600 m
 2100 4050 l gs col0 s gr gr

% arrowhead
n 2070 3913 m 2100 4033 l 2130 3913 l  col0 s
% Polyline
gs  clippath
2617 4757 m 2655 4710 l 2537 4616 l 2612 4715 l 2499 4663 l cp
eoclip
n 2250 4425 m
 2625 4725 l gs col0 s gr gr

% arrowhead
n 2499 4663 m 2612 4715 l 2537 4616 l  col0 s
% Polyline
gs  clippath
1616 4719 m 1665 4755 l 1755 4633 l 1660 4712 l 1707 4597 l cp
eoclip
n 1875 4425 m
 1650 4725 l gs col0 s gr gr

% arrowhead
n 1707 4597 m 1660 4712 l 1755 4633 l  col0 s
% Polyline
gs  clippath
3668 5807 m 3705 5760 l 3585 5667 l 3662 5765 l 3548 5715 l cp
eoclip
n 3000 5250 m
 3675 5775 l gs col0 s gr gr

% arrowhead
n 3548 5715 m 3662 5765 l 3585 5667 l  col0 s
% Polyline
gs  clippath
2820 5790 m 2880 5790 l 2880 5638 l 2850 5758 l 2820 5638 l cp
eoclip
n 2850 5325 m
 2850 5775 l gs col0 s gr gr

% arrowhead
n 2820 5638 m 2850 5758 l 2880 5638 l  col0 s
% Polyline
gs  clippath
2144 5686 m 2183 5732 l 2298 5633 l 2188 5689 l 2259 5588 l cp
eoclip
n 2700 5250 m
 2175 5700 l gs col0 s gr gr

% arrowhead
n 2259 5588 m 2188 5689 l 2298 5633 l  col0 s
% Polyline
gs  clippath
3416 6902 m 3472 6925 l 3528 6784 l 3456 6885 l 3472 6762 l cp
eoclip
n 3750 6150 m
 3450 6900 l gs col0 s gr gr

% arrowhead
n 3472 6762 m 3456 6885 l 3528 6784 l  col0 s
% Polyline
gs  clippath
4253 7001 m 4308 6976 l 4245 6838 l 4268 6960 l 4191 6863 l cp
eoclip
n 3900 6150 m
 4275 6975 l gs col0 s gr gr

% arrowhead
n 4191 6863 m 4268 6960 l 4245 6838 l  col0 s
% Polyline
2 slj
n 2100 2625 m 2172 2618 l 2240 2613 l 2304 2608 l 2362 2605 l 2414 2601 l
 2459 2598 l 2498 2595 l 2531 2592 l 2558 2589 l 2581 2585 l
 2600 2582 l 2616 2579 l 2629 2575 l 2640 2572 l 2650 2569 l
 2660 2566 l 2670 2564 l 2682 2562 l 2696 2562 l 2712 2563 l
 2731 2565 l 2754 2569 l 2781 2575 l 2812 2583 l 2848 2594 l
 2888 2608 l 2932 2626 l 2978 2647 l 3027 2672 l 3075 2700 l
 3118 2729 l 3159 2760 l 3196 2791 l 3229 2820 l 3258 2848 l
 3284 2874 l 3306 2897 l 3324 2917 l 3339 2934 l 3351 2949 l
 3361 2962 l 3369 2973 l 3375 2983 l 3380 2991 l 3384 2999 l
 3388 3006 l 3391 3014 l 3394 3023 l 3397 3033 l 3401 3046 l
 3405 3061 l 3411 3079 l 3418 3101 l 3426 3127 l 3435 3158 l
 3446 3194 l 3458 3236 l 3471 3283 l 3485 3337 l 3499 3395 l
 3512 3458 l 3525 3525 l 3535 3586 l 3543 3647 l 3549 3706 l
 3554 3764 l 3558 3817 l 3560 3868 l 3562 3914 l 3562 3956 l
 3562 3994 l 3561 4028 l 3559 4059 l 3557 4086 l 3555 4111 l
 3552 4133 l 3549 4153 l 3545 4172 l 3541 4189 l 3537 4206 l
 3534 4223 l 3529 4241 l 3525 4259 l 3521 4279 l 3517 4301 l
 3512 4326 l 3508 4353 l 3503 4383 l 3498 4417 l 3494 4454 l
 3489 4496 l 3484 4541 l 3479 4590 l 3473 4643 l 3468 4699 l
 3462 4757 l 3456 4816 l 3450 4875 l 3443 4936 l 3437 4993 l
 3432 5046 l 3429 5095 l 3427 5138 l 3428 5177 l 3431 5211 l
 3435 5240 l 3442 5265 l 3451 5286 l 3461 5304 l 3473 5319 l
 3486 5331 l 3500 5341 l 3515 5349 l 3529 5356 l 3544 5363 l
 3558 5369 l 3571 5375 l 3583 5381 l 3592 5388 l 3600 5397 l
 3605 5407 l 3606 5418 l 3603 5431 l 3595 5447 l 3582 5464 l
 3563 5484 l 3538 5505 l 3506 5528 l 3466 5553 l 3418 5577 l
 3363 5602 l 3300 5625 l 3247 5641 l 3191 5656 l 3134 5669 l
 3075 5682 l 3017 5692 l 2959 5702 l 2903 5711 l 2848 5719 l
 2795 5726 l 2744 5733 l 2695 5739 l 2648 5744 l 2603 5749 l
 2561 5754 l 2520 5758 l 2481 5762 l 2443 5766 l 2407 5770 l
 2371 5773 l 2337 5776 l 2303 5779 l 2269 5781 l 2235 5783 l
 2201 5785 l 2166 5787 l 2130 5788 l 2094 5789 l 2056 5789 l
 2016 5788 l 1974 5787 l 1931 5785 l 1885 5782 l 1837 5778 l
 1787 5773 l 1734 5766 l 1679 5758 l 1622 5749 l 1563 5737 l
 1503 5724 l 1441 5709 l 1380 5691 l 1318 5671 l 1258 5649 l
 1200 5625 l 1134 5592 l 1074 5557 l 1021 5521 l 974 5486 l
 934 5451 l 901 5417 l 874 5385 l 853 5355 l 837 5327 l
 825 5301 l 818 5277 l 815 5256 l 815 5235 l 817 5217 l
 822 5199 l 828 5182 l 835 5166 l 844 5150 l 853 5134 l
 862 5117 l 870 5099 l 878 5079 l 886 5058 l 892 5035 l
 896 5009 l 899 4980 l 900 4948 l 899 4912 l 896 4872 l
 891 4829 l 883 4782 l 874 4731 l 863 4677 l 851 4620 l
 838 4560 l 825 4500 l 812 4433 l 799 4367 l 789 4306 l
 779 4248 l 771 4197 l 765 4150 l 759 4110 l 755 4074 l
 751 4044 l 749 4018 l 747 3996 l 745 3978 l 744 3962 l
 744 3949 l 744 3936 l 744 3925 l 744 3914 l 744 3902 l
 745 3889 l 745 3875 l 745 3858 l 745 3839 l 745 3816 l
 746 3790 l 746 3760 l 746 3725 l 746 3687 l 746 3644 l
 746 3598 l 747 3550 l 748 3500 l 750 3450 l 753 3395 l
 757 3345 l 760 3300 l 762 3261 l 763 3227 l 762 3200 l
 760 3178 l 757 3161 l 752 3148 l 747 3139 l 740 3133 l
 733 3129 l 726 3126 l 719 3125 l 712 3124 l 706 3122 l
 702 3120 l 699 3116 l 699 3110 l 702 3102 l 708 3090 l
 719 3076 l 734 3058 l 755 3036 l 782 3011 l 815 2984 l
 855 2955 l 900 2925 l 941 2901 l 984 2879 l 1028 2858 l
 1071 2838 l 1113 2821 l 1152 2805 l 1189 2791 l 1223 2779 l
 1255 2769 l 1283 2760 l 1309 2753 l 1333 2746 l 1355 2741 l
 1375 2736 l 1395 2732 l 1413 2728 l 1431 2725 l 1450 2722 l
 1469 2719 l 1489 2715 l 1511 2712 l 1535 2708 l 1562 2704 l
 1592 2699 l 1625 2694 l 1662 2687 l 1704 2681 l 1749 2673 l
 1799 2665 l 1854 2657 l 1912 2649 l 1973 2640 l 2036 2632 l

 cp gs col0 s gr 
% Polyline
n 3150 4575 m 3221 4581 l 3292 4589 l 3361 4597 l 3427 4606 l 3490 4615 l
 3549 4624 l 3604 4632 l 3654 4640 l 3700 4647 l 3742 4653 l
 3780 4659 l 3815 4664 l 3846 4668 l 3874 4672 l 3899 4675 l
 3922 4678 l 3943 4680 l 3963 4683 l 3982 4685 l 4000 4688 l
 4018 4690 l 4037 4693 l 4056 4697 l 4076 4701 l 4097 4707 l
 4121 4713 l 4146 4721 l 4175 4730 l 4205 4742 l 4239 4755 l
 4276 4770 l 4317 4788 l 4360 4808 l 4407 4831 l 4456 4857 l
 4508 4885 l 4562 4916 l 4617 4950 l 4671 4987 l 4725 5025 l
 4785 5072 l 4840 5120 l 4890 5167 l 4934 5212 l 4972 5253 l
 5004 5292 l 5031 5326 l 5053 5357 l 5070 5384 l 5082 5408 l
 5091 5428 l 5097 5446 l 5100 5461 l 5100 5474 l 5099 5485 l
 5097 5496 l 5094 5506 l 5090 5517 l 5087 5528 l 5084 5541 l
 5082 5556 l 5082 5574 l 5083 5595 l 5086 5619 l 5091 5649 l
 5099 5683 l 5109 5722 l 5123 5767 l 5139 5818 l 5157 5875 l
 5178 5937 l 5201 6004 l 5226 6076 l 5250 6150 l 5271 6217 l
 5292 6284 l 5311 6349 l 5329 6410 l 5346 6469 l 5361 6523 l
 5375 6573 l 5387 6618 l 5399 6660 l 5409 6697 l 5418 6730 l
 5426 6759 l 5433 6786 l 5439 6809 l 5444 6830 l 5450 6849 l
 5454 6867 l 5458 6884 l 5463 6900 l 5466 6916 l 5470 6932 l
 5474 6950 l 5478 6968 l 5482 6988 l 5486 7011 l 5491 7035 l
 5495 7063 l 5500 7094 l 5506 7128 l 5511 7166 l 5517 7207 l
 5522 7252 l 5528 7301 l 5534 7352 l 5539 7406 l 5544 7462 l
 5547 7519 l 5550 7575 l 5551 7639 l 5551 7698 l 5551 7753 l
 5550 7801 l 5549 7843 l 5548 7879 l 5548 7910 l 5549 7934 l
 5551 7954 l 5553 7969 l 5556 7980 l 5559 7988 l 5563 7994 l
 5567 7997 l 5571 7999 l 5575 8000 l 5578 8001 l 5581 8002 l
 5582 8003 l 5583 8006 l 5581 8011 l 5577 8018 l 5570 8028 l
 5561 8040 l 5547 8056 l 5530 8075 l 5509 8098 l 5482 8124 l
 5451 8153 l 5414 8184 l 5372 8217 l 5325 8250 l 5280 8279 l
 5233 8306 l 5186 8332 l 5139 8356 l 5095 8379 l 5052 8400 l
 5013 8419 l 4977 8436 l 4944 8452 l 4914 8467 l 4888 8480 l
 4864 8492 l 4842 8504 l 4823 8514 l 4805 8524 l 4788 8533 l
 4772 8542 l 4756 8550 l 4740 8558 l 4723 8566 l 4705 8573 l
 4685 8581 l 4662 8588 l 4637 8595 l 4608 8602 l 4575 8609 l
 4537 8615 l 4495 8621 l 4447 8626 l 4394 8631 l 4336 8634 l
 4272 8637 l 4203 8637 l 4130 8636 l 4054 8632 l 3975 8625 l
 3904 8616 l 3834 8606 l 3766 8593 l 3700 8580 l 3639 8566 l
 3582 8552 l 3529 8538 l 3481 8525 l 3437 8512 l 3397 8499 l
 3362 8487 l 3330 8476 l 3302 8465 l 3277 8454 l 3255 8445 l
 3235 8435 l 3217 8426 l 3200 8418 l 3184 8409 l 3169 8400 l
 3154 8391 l 3138 8381 l 3122 8371 l 3105 8360 l 3086 8349 l
 3065 8336 l 3042 8321 l 3017 8305 l 2988 8288 l 2957 8268 l
 2921 8247 l 2883 8223 l 2841 8197 l 2795 8168 l 2747 8137 l
 2695 8104 l 2641 8068 l 2586 8030 l 2530 7991 l 2475 7950 l
 2413 7901 l 2354 7853 l 2301 7807 l 2253 7764 l 2210 7725 l
 2173 7690 l 2142 7660 l 2115 7634 l 2093 7612 l 2076 7595 l
 2062 7581 l 2052 7570 l 2044 7561 l 2039 7555 l 2035 7551 l
 2033 7547 l 2031 7544 l 2030 7540 l 2029 7536 l 2027 7530 l
 2024 7522 l 2020 7511 l 2014 7496 l 2006 7478 l 1996 7455 l
 1983 7426 l 1968 7392 l 1950 7351 l 1929 7304 l 1906 7250 l
 1881 7189 l 1854 7123 l 1827 7051 l 1800 6975 l 1778 6909 l
 1758 6842 l 1739 6777 l 1721 6713 l 1706 6652 l 1692 6593 l
 1680 6539 l 1670 6488 l 1661 6440 l 1653 6397 l 1647 6357 l
 1642 6320 l 1638 6286 l 1636 6255 l 1633 6227 l 1632 6200 l
 1631 6175 l 1631 6151 l 1631 6129 l 1631 6106 l 1632 6084 l
 1632 6062 l 1632 6038 l 1632 6014 l 1632 5989 l 1632 5961 l
 1631 5932 l 1630 5900 l 1628 5866 l 1626 5828 l 1623 5788 l
 1619 5745 l 1615 5699 l 1610 5650 l 1605 5599 l 1599 5545 l
 1593 5490 l 1587 5434 l 1581 5379 l 1575 5325 l 1566 5235 l
 1558 5158 l 1552 5095 l 1547 5046 l 1543 5010 l 1540 4985 l
 1538 4970 l 1535 4962 l 1534 4961 l 1532 4964 l 1531 4969 l
 1530 4975 l 1530 4981 l 1530 4985 l 1531 4986 l 1533 4983 l
 1535 4976 l 1539 4963 l 1545 4946 l 1553 4924 l 1563 4900 l
 1575 4875 l 1589 4853 l 1604 4835 l 1617 4820 l 1627 4811 l
 1633 4804 l 1637 4802 l 1634 4804 l 1630 4808 l 1624 4813 l
 1619 4819 l 1614 4825 l 1611 4830 l 1611 4835 l 1615 4838 l
 1625 4840 l 1643 4840 l 1669 4837 l 1704 4832 l 1751 4824 l
 1808 4813 l 1875 4800 l 1923 4791 l 1972 4782 l 2021 4772 l
 2068 4762 l 2113 4752 l 2154 4742 l 2192 4733 l 2227 4723 l
 2257 4714 l 2284 4705 l 2308 4695 l 2329 4686 l 2347 4678 l
 2363 4669 l 2378 4660 l 2392 4652 l 2406 4644 l 2420 4636 l
 2435 4628 l 2452 4620 l 2471 4612 l 2493 4605 l 2518 4598 l
 2548 4591 l 2582 4585 l 2622 4579 l 2667 4574 l 2719 4570 l
 2777 4567 l 2841 4565 l 2911 4565 l 2987 4566 l 3067 4570 l

 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
2100 3000 m
gs 1 -1 sc (/) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 3450 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
2100 4350 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
1950 3825 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
1500 3600 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
2625 3450 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
1650 4425 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
2475 4425 m
gs 1 -1 sc (F) col0 sh gr
/Times-Italic ff 200.00 scf sf
900 3075 m
gs 1 -1 sc (dev=8,1) col0 sh gr
/Times-Italic ff 200.00 scf sf
1650 2550 m
gs 1 -1 sc (/dev/sda1, mounted as root fs) col0 sh gr
/Times-Roman ff 200.00 scf sf
2775 5100 m
gs 1 -1 sc (2) col0 sh gr
/Times-Roman ff 200.00 scf sf
2250 5400 m
gs 1 -1 sc (A) col0 sh gr
/Times-Roman ff 200.00 scf sf
2700 5550 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 200.00 scf sf
3300 5325 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 200.00 scf sf
3450 6450 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 200.00 scf sf
4125 6375 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 200.00 scf sf
3825 6000 m
gs 1 -1 sc (5) col0 sh gr
/Times-Italic ff 200.00 scf sf
3750 5250 m
gs 1 -1 sc (dev=8,17) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Roman@0 SF 4.04(Here we ha)33.336 537 R 4.43 -.195
(ve p)-.26 H(erformed).195 E/F2 13/Courier@0 SF 4.04
(mount /dev/sdc1 /C/F/C/E)7.29 F F1 10.539(.T)C 4.039
(he \214les Q and R,)-10.539 F .863
(formerly visible through /C/F/C/E \(inode #7 in de)33.336 552 R .863
(vice 8,17\) are no longer accessible.)-.325 F(If)7.363 E(we later)
33.336 567 Q F2(umount /dev/sdc1)3.25 E F1 3.25(,t)C
(hese \214les will once ag)-3.25 E(ain be visible.)-.065 E 1.688
(Note that man)33.336 588 R 4.938(yU)-.195 G 1.687(NIX k)-4.938 F 1.687
(ernels support the concept of a "union" or "o)-.13 F -.195(ve)-.195 G
1.687(rlay" mount in).195 F .163(which both the ne)33.336 603 R .163
(wly mounted and the mounted-o)-.325 F -.195(ve)-.195 G 3.413(rv).195 G
.163(olumes are visible.)-3.673 F .163(This feature is)6.663 F 2.466
(useful, e.g., when w)33.336 618 R 2.466(orking of)-.13 F 5.716(fal)
-.325 G(ar)-5.716 E 2.466(ge read-only v)-.234 F 2.466
(olume such as a D)-.26 F(VD-R)-.52 E 2.466(OM while)-.52 F 2.665
(needing to mak)33.336 633 R 5.915(ec)-.13 G 2.665(hanges on the \215y)
-5.915 F 9.165(.W)-.845 G 5.915(ew)-10.205 G 2.665
(ill not be considering this further in this)-5.915 F(course.)33.336 648
Q .156(The k)33.336 669 R .156(ernel k)-.13 F .155
(eeps track of which inodes are being used as mount points, and whene)
-.13 F -.195(ve)-.325 G 3.405(rt).195 G(he)-3.405 E 2.609
(path name resolution algorithm within the k)33.336 684 R 2.61
(ernel tra)-.13 F -.195(ve)-.26 G 2.61(rses a mount point inode, that)
.195 F .105(inode is not considered further)33.336 699 R 3.355(,b)-.52 G
.105(ut instead is replaced in the tra)-3.615 F -.195(ve)-.26 G .104
(rsal by the root inode of).195 F 1.6(the mounted v)33.336 714 R 4.85
(olume. This)-.26 F 1.6(applies in both do)4.85 F(wnw)-.325 E 1.6
(ard and upw)-.13 F 1.601(ard tra)-.13 F -.195(ve)-.26 G 4.851
(rsals. Consider).195 F(what happens if we had entered the directory /C\
/F/C and then accessed the path "../../E".)33.336 729 Q 0 Cg EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 25)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF 2.964(This mounting of a v)33.336 120 R
2.964(olume onto the e)-.26 F 2.964(xisting \214lesystem hierarch)-.195
F 6.214(yi)-.065 G 6.214(sn)-6.214 G 2.964(ot permanent.)-6.214 F 1.697
(There is a corresponding)33.336 135 R/F2 13/Courier@0 SF(umount)4.948 E
F1 1.698(operation, and a corresponding)4.948 F F2(umount)4.948 E F1
(command,)4.948 E 2.764(which remo)33.336 150 R -.195(ve)-.195 G 6.014
(st).195 G 2.764(he v)-6.014 F 2.764(olume from the \214lesystem and un)
-.26 F -.195(ve)-.52 G 2.763(ils the original mount point).195 F(ag)
33.336 165 Q 3.354(ain. In)-.065 F .105(order to unmount a v)3.354 F
.105(olume, there must not be an)-.26 F 3.355(yo)-.195 G .105
(pen dependencies on it \(e.g.)-3.355 F 4.918(ap)33.336 180 S 1.668
(rocess with an open \214le, e)-4.918 F -.195(xe)-.195 G 1.668
(cutable or current w).195 F 1.667(orking directory that is within that)
-.13 F -.26(vo)33.336 195 S(lume, or another v).26 E
(olume mounted within the v)-.26 E(olume being unmounted\).)-.26 E/F3 13
/Times-Bold@0 SF(Alien Filesystems / V)145.058 225 Q
(irtual Filesystem Lay)-.481 E(er)-.13 E F1 4.069(Ag)33.336 261 S -2.795
-.325(iv e)-4.069 H 4.069(nv).325 G .82(olume need not al)-4.329 F -.13
(wa)-.13 G .82(ys be mounted at the same place in the \214lesystem.).13
F(When)7.32 E .93(the media containing the v)33.336 276 R .93
(olume is mo)-.26 F -.195(ve)-.195 G 4.18(dt).195 G 4.179(oad)-4.18 G
(if)-4.179 E .929(ferent machine, the v)-.325 F .929(olume may e)-.26 F
-.195(ve)-.325 G(n).195 E 3.155(be mounted by a dif)33.336 291 R 3.155
(ferent operating system.)-.325 F 3.155
(Issues can arise, e.g. with byte order)9.655 F(,)-.52 E 1.415
(mapping of user identi\214ers, dif)33.336 306 R 1.415
(ferences in path name con)-.325 F -.195(ve)-.52 G 1.414
(ntions, and other semantics.).195 F 1.133(The UNIX k)33.336 321 R 1.133
(ernel creates an "inode" interf)-.13 F 1.133
(ace to these alien \214lesystems.)-.13 F 1.134(Some features)7.634 F
.912(which may be present in other operating systems, such as "resource\
 forks" in traditional)33.336 336 R 2.28
(Macintosh OS, may not map cleanly to UNIX semantics, and ne)33.336 351
R 5.53(ws)-.325 G 2.28(ystem calls were)-5.53 F
(added to the traditional UNIX calls to pro)33.336 366 Q
(vide access to these "alien" semantics.)-.195 E .714
(The \214lesystem in UNIX is heterogeneous, i.e.)33.336 387 R .714
(the dif)7.214 F .714(ferent v)-.325 F .714(olumes need not follo)-.26 F
3.964(wt)-.325 G(he)-3.964 E .356(same data structure.)33.336 402 R .356
(This allo)6.856 F .356(ws a running system to mount v)-.325 F .356
(olumes which were created)-.26 F 2.188(under older v)33.336 417 R 2.188
(ersions of the operating systems, or entirely dif)-.195 F 2.187
(ferent operating systems.)-.325 F -.195(Fo)33.336 432 S 3.691(re).195 G
.441(xample, while the current def)-3.886 F .441
(ault \214lesystem for Linux is of the EXT3 type, it is just)-.13 F
1.124(as easy to use the older EXT2 \214lesystem type, or the v)33.336
447 R 1.123(ery latest EXT4 type.)-.195 F 1.123(There are)7.623 F 2.333
(other \214lesystem types which attempt to optimize for certain situati\
ons, e.g. ReiserFS.)33.336 462 R 1.535
(Linux can also deal with the nati)33.336 477 R 1.925 -.195(ve \214)
-.325 H 1.535(lesystem layouts of other UNIX v).195 F 1.535
(ariants, such as)-.325 F 3.153(UFS \(BSD and Solaris\), HPFS \(HP-UX\)\
, and non-UNIX systems such as MSDOS,)33.336 492 R 1.368
(NTFS, HFS \(older Macs\), etc.)33.336 507 R 1.368
(There is support for adding ne)7.868 F 4.618<778c>-.325 G 1.367
(lesystem types to the)-4.618 F -.13(ke)33.336 522 S 1.643
(rnel dynamically \(after the system is already booted\), and e).13 F
-.195(ve)-.325 G 4.893(nt).195 G 4.893(oa)-4.893 G(llo)-4.893 E 4.893
(wau)-.325 G(ser)-4.893 E(-le)-.26 E -.195(ve)-.325 G(l).195 E
(process to implement a \214lesystem \("FUSE"\).)33.336 537 Q 1.521
(This inte)33.336 558 R 1.521(gration of dif)-.195 F 1.521
(ferent \214lesystem types into the o)-.325 F -.195(ve)-.195 G 1.521
(rall hierarch).195 F 4.771(yi)-.065 G 4.771(sk)-4.771 G(no)-4.771 E
1.521(wn as the)-.325 F F3 -.481(Vi)33.336 573 S 1.963(rtual Filesystem)
.481 F F1 1.963(layer of the k)5.213 F 5.213(ernel. Because)-.13 F 1.963
(all \214le system interf)5.213 F 1.963(ace access \215o)-.13 F(ws)-.325
E 2.96(through the k)33.336 588 R 2.96(ernel, it can k)-.13 F 2.959
(eep track of e)-.13 F 2.959(xactly what parts of the naming hierarch)
-.195 F(y)-.065 E 2.008
(correspond to what type of \214lesystem, and dele)33.336 603 R -.065
(ga)-.195 G 2.009(te to the v).065 F 2.009(arious \214lesystem modules)
-.325 F .883(which are loaded as part of the k)33.336 618 R 4.133
(ernel. T)-.13 F(ra)-.455 E -.195(ve)-.26 G .883
(rsal of a mount point is thus transparent to).195 F 3.166(the user)
33.336 633 R 9.666(.T)-.715 G 3.166(he UNIX pathname space is a \215e)
-9.666 F 3.167(xible one which is independent of the)-.195 F
(constraints of ph)33.336 648 Q(ysical disks.)-.065 E 0 Cg EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 26)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 288 591 -252.914 519 123.336 372.914 PBEGIN
%%BeginDocument: vfs.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: vfs.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Wed Sep 21 22:44:38 2016
%%For: hak@lex ()
%%BoundingBox: 0 0 591 519
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 519 moveto 0 0 lineto 591 0 lineto 591 519 lineto closepath clip newpath
-98.3 572.2 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/Times-Italic /Times-Italic-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 2700 4800 m 4425 4800 l 4425 8325 l 2700 8325 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
2775 4725 m
gs 1 -1 sc (ext4 module) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 5325 m
gs 1 -1 sc (ext4_open\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 5580 m
gs 1 -1 sc (ext4_unlink\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 5835 m
gs 1 -1 sc (ext4_link\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 6090 m
gs 1 -1 sc (ext4_stat\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 6600 m
gs 1 -1 sc (etc.) col0 sh gr
% Polyline
n 5775 4800 m 7500 4800 l 7500 8325 l 5775 8325 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
5850 4725 m
gs 1 -1 sc (msdos module) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
5925 5325 m
gs 1 -1 sc (msdos_open\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
5925 5580 m
gs 1 -1 sc (msdos_unlink\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
5925 5835 m
gs 1 -1 sc (msdos_link\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
5925 6090 m
gs 1 -1 sc (msdos_stat\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
5925 6600 m
gs 1 -1 sc (etc.) col0 sh gr
% Polyline
n 8625 4800 m 10350 4800 l 10350 8325 l 8625 8325 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
8700 4725 m
gs 1 -1 sc (ntfs module) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8775 5325 m
gs 1 -1 sc (ntfs_open\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8775 5580 m
gs 1 -1 sc (ntfs_unlink\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8775 5835 m
gs 1 -1 sc (ntfs_link\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8775 6090 m
gs 1 -1 sc (ntfs_stat\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8775 6600 m
gs 1 -1 sc (etc.) col0 sh gr
% Polyline
n 1650 900 m 11475 900 l 11475 9525 l 1650 9525 l
 cp gs col0 s gr 
% Polyline
n 1650 900 m 11475 900 l 11475 2250 l 1650 2250 l
 cp gs col0 s gr 
% Polyline
n 2700 3000 m 3900 3000 l 3900 3525 l 2700 3525 l
 cp gs col0 s gr 
% Polyline
n 4500 3000 m 5700 3000 l 5700 3525 l 4500 3525 l
 cp gs col0 s gr 
% Polyline
n 6450 3000 m 7650 3000 l 7650 3525 l 6450 3525 l
 cp gs col0 s gr 
% Polyline
n 8400 3000 m 9600 3000 l 9600 3525 l 8400 3525 l
 cp gs col0 s gr 
/Times-Roman-iso ff 200.00 scf sf
4950 1950 m
gs 1 -1 sc (user-level) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2100 2625 m
gs 1 -1 sc (Kernel) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
2850 3300 m
gs 1 -1 sc (sys_open\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
4650 3300 m
gs 1 -1 sc (sys_unlink\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
6600 3300 m
gs 1 -1 sc (sys_link\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
8550 3300 m
gs 1 -1 sc (sys_stat\(\)) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
9975 3300 m
gs 1 -1 sc (etc.) col0 sh gr
/Times-Roman-iso ff 200.00 scf sf
4950 2850 m
gs 1 -1 sc (Generic filesystem system calls) col0 sh gr
/Times-Italic-iso ff 200.00 scf sf
5625 8775 m
gs 1 -1 sc (Note: kernel function names are illustrative, not literal) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F1 13/Times-Bold@0 SF(Pseudo- and Netw)174.061 408.914 Q
(ork- \214lesystems)-.13 E/F2 13/Times-Roman@0 SF 4.881(Am)33.336
444.914 S 1.631(ounted \214lesystem is not necessarily located on a ph)
-4.881 F 1.63(ysical disk de)-.065 F 1.63(vice on the local)-.325 F 6.48
(machine. This)33.336 459.914 R 3.23(is kno)6.48 F 3.23(wn as a)-.325 F
F1(Pseudo-\214lesystem)6.481 E F2(.)A F1(Netw)9.731 E 3.231
(ork \214lesystems)-.13 F F2 3.231(are pseudo-)6.481 F 1.967
(\214lesystems which mak)33.336 474.914 R 5.217(ep)-.13 G 1.967
(arts of a \214lesystem on a remote machine appear local.)-5.217 F -1.3
-1.04(Tw o)8.467 H .734(major e)33.336 489.914 R .734
(xamples of this are the NFS \(the most popular netw)-.195 F .734
(ork \214lesystem for UNIX-lik)-.13 F(e)-.13 E 3.25(systems\) and)33.336
504.914 R(the SMBFS \(the netw)3.25 E(ork \214lesystem used by W)-.13 E
(indo)-.52 E(ws\).)-.325 E .241(Other pseudo-\214lesystems pro)33.336
525.914 R .241(vide a \214lesystem-lik)-.195 F 3.491(ei)-.13 G(nterf)
-3.491 E .24(ace to things which ha)-.13 F .63 -.195(ve n)-.26 H(othing)
.195 E 2.163(to do with \214les, hard disks and the lik)33.336 540.914 R
5.414(e. F)-.13 F 2.164(or e)-.195 F 2.164(xample, the)-.195 F/F3 13
/Courier@0 SF(procfs)5.414 E F2 2.164(\214lesystem found)5.414 F(under)
33.336 555.914 Q F3(/proc)3.998 E F2 .748(in Linux allo)3.998 F .747
(ws one to enter a directory whose name is equal to a process)-.325 F
.067(id, and once in there see the processes')33.336 570.914 R 3.317(sm)
-.715 G .067(emory map, command line in)-3.317 F -.26(vo)-.52 G .067
(cation, resource).26 F(usage, and man)33.336 585.914 Q 3.25(yo)-.195 G
(ther interesting things.)-3.25 E -.455(Tr)33.336 606.914 S(aditionally)
.455 E 5.859(,m)-.845 G 2.609
(ounting of \214lesystems is a global operation which is performed by a)
-5.859 F 1.294(process running as the super)33.336 621.914 R 1.294
(-user \(uid==0\), and all processes see identical namespaces.)-.26 F
4.608(In some modern v)33.336 636.914 R 4.607
(ariants of UNIX, there are capabilities to associate a dif)-.325 F
(ferent)-.325 E 2.308(namespace with dif)33.336 651.914 R 2.308
(ferent processes or users.)-.325 F 2.308(This can be used to some adv)
8.808 F 2.308(antage in)-.325 F(securing an application and restricting\
 its access to the \214lesystem.)33.336 666.914 Q F1
(Loopback and RAM \214lesystems)179.04 696.914 Q F2 .48(Most UNIX k)
33.336 732.914 R .48(ernels support a "loopback" mount where a re)-.13 F
.48(gular \214le that currently e)-.195 F(xists)-.195 E 0 Cg EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 27)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF 3.125
(someplace in the \214lesystem tree can be treated as a ra)33.336 120 R
6.375(wd)-.195 G 3.125(isk image.)-6.375 F 3.126(E.g. one can)9.626 F
(do)33.336 135 Q .394(wnload a)-.325 F/F2 13/Courier@0 SF(.iso)3.643 E
F1 .393(\214le which is an image of a CD or D)3.643 F(VD-R)-.52 E .393
(OM and then mount that \214le)-.52 F(directly)33.336 150 Q 3.25(,i)
-.845 G(nstead of "b)-3.25 E(urning" the CD/D)-.26 E(VD.)-.52 E .685
(Most UNIX k)33.336 171 R .686(ernels support a "ramdisk" where an area\
 of RAM is treated as if it were a)-.13 F -.26(vo)33.336 186 S 4.466
(lume. This).26 F 1.216(is especially pre)4.466 F -.325(va)-.325 G 1.216
(lent in "li).325 F -.195(ve)-.325 G 4.466("m).195 G 1.215
(edia, e.g. a CD/D)-4.466 F 1.215(VD or USB stick that)-.52 F 3.281
(contains a "li)33.336 201 R -.195(ve)-.325 G 3.281
(", bootable Linux system.).195 F 5.361 -1.04(We n)9.781 H 3.281
(eed a place for the root \214lesystem,)1.04 F 1.429
(including places to write things, b)33.336 216 R 1.429(ut we don')-.26
F 4.679(tn)-.234 G 1.429(ecessarily w)-4.679 F 1.429(ant to rely on e)
-.13 F 1.429(xisting hard)-.195 F 6.446(disks. The)33.336 231 R 3.196
(union or o)6.446 F -.195(ve)-.195 G 3.196
(rlay mount technique can be used here to mer).195 F 3.197
(ge an initial)-.234 F 1.706
(\214lesystem read-only image from the boot medium with the ramdisk.)
33.336 246 R(An)8.206 E 4.956(yc)-.195 G 1.706(hanges are)-4.956 F
(simply discarded when the system reboots.)33.336 261 Q/F3 13
/Times-Bold@0 SF(The Mount T)219.177 291 Q(able)-1.196 E F1
(Conceptually)33.336 327 Q 3.25(,t)-.845 G(he k)-3.25 E(ernel k)-.13 E
(eeps a table in k)-.13 E(ernel memory to track each mounted v)-.13 E
(olume:)-.26 E .52 LW 342.892 338.25 33.336 338.25 DL(De)39.836 350 Q
29.991(vice Mounted)-.325 F 16.25(on FST)3.25 F 16.25
(ype Flags/Properties)-1.04 F 342.892 355.25 33.336 355.25 DL(/de)39.836
367 Q 16.978(v/sda1 /)-.325 F -.195(ex)79.079 G 34.19(t4 rw).195 F(/de)
39.836 382 Q 16.25(v/sdb1 /C/F)-.325 F -.195(ex)59.566 G 34.19(t2 rw)
.195 F 3.25(,n)-.845 G(oatime)-3.25 E(/de)39.836 397 Q 16.978
(v/sdc1 /C/F/C/E)-.325 F(vf)35.724 E 36.296(at ro)-.13 F 342.892 402.25
33.336 402.25 DL 242.142 338.25 242.142 402.25 DL 182.511 338.25 182.511
402.25 DL 99.818 338.25 99.818 402.25 DL 342.892 338.25 342.892 402.25
DL 33.336 338.25 33.336 402.25 DL 2.08(An e)33.336 418 R 2.08
(xample abo)-.195 F 2.47 -.195(ve i)-.195 H 2.08
(llustrates the 4 \214elds of this table.).195 F 2.08(The de)8.58 F 2.08
(vice \214eld identi\214es the)-.325 F .379(underlying ph)33.336 433 R
.379(ysical de)-.065 F 3.629(vice. The)-.325 F(ne)3.629 E .379
(xt column is the mount point. The third column is the)-.195 F .512
(\214lesystem type.)33.336 448 R .513
(The last column is a list of \215ags or properties.)7.012 F .513
(E.g. the "rw" \215ag means)7.013 F 2.154(that read/write is allo)33.336
463 R 2.154(wed to the \214lesystem, whereas "ro" means the k)-.325 F
2.154(ernel will ne)-.13 F -.195(ve)-.325 G(r).195 E .422
(attempt to write to the v)33.336 478 R 3.672(olume. The)-.26 F .422
("noatime" property says that when \214les are read, the)3.672 F 2.951
(usual update of the inode)33.336 493 R F2(atime)6.2 E F1 2.95
(will not tak)6.2 F 6.2(ep)-.13 G 6.2(lace. This)-6.2 F 2.95
(is often set to impro)6.2 F -.195(ve)-.195 G(performance where k)33.336
508 Q(eeping track of atime has no bene\214t.)-.13 E .846
(One can query the mount table either by using the)33.336 529 R F2
(mount)4.096 E F1 .846(command with no ar)4.096 F(guments)-.234 E .972
(or \(on Linux systems\))33.336 544 R F2 .972(cat /proc/mounts)4.222 F
F1 7.472(.Y)C .971(ou will \214nd a lot of other lines in this)-8.902 F
.966(table that correspond to pseudo\214lesystems, such as the)33.336
559 R F2(/proc)4.216 E F1 .967(\214lesystem itself, that are)4.217 F
(necessary for system function.)33.336 574 Q F3(De)169.946 604 Q
(vice Numbers & Inode Numbers)-.195 E F1 3.028(As we ha)33.336 640 R
3.418 -.195(ve s)-.26 H 3.028(een, the UNIX k).195 F 3.028
(ernel associates an inte)-.13 F(ger)-.195 E F3(de)6.278 E 3.028
(vice number)-.195 F F1 3.028(with each)6.278 F -.26(vo)33.336 655 S
.762(lume on the system.).26 F .762(The de)7.262 F .762
(vice number is not something which w)-.325 F .763(ould e)-.13 F -.195
(ve)-.325 G 4.013(rb).195 G 4.013(ef)-4.013 G(ound)-4.013 E 1.619
(on the v)33.336 670 R 1.619
(olume itself, rather it is a tracking number maintained by the k)-.26 F
4.869(ernel. The)-.13 F(stat)4.868 E(\214eld)33.336 685 Q F2(st_dev)
4.696 E F1 1.446(is \214lled in with the de)4.696 F 1.446
(vice number of the v)-.325 F 1.447(olume on which the inode in)-.26 F
.392(question resides.)33.336 700 R(Lik)6.891 E 3.641(ei)-.13 G .391
(node numbers, de)-3.641 F .391
(vice numbers should be treated as cookies: the)-.325 F(y)-.195 E 2.812
(can be compared for equality)33.336 715 R 6.062(,b)-.845 G 2.812
(ut no other assumptions should be made about their)-6.322 F 8.339
(properties. By)33.336 730 R(con)8.339 E -.195(ve)-.52 G 5.089
(ntion, UNIX de).195 F 5.089
(vice numbers are split bit-wise into a most)-.325 F 3.039
(signi\214cant w)33.336 745 R 3.04(ord, which is the)-.13 F F3 3.04
(major de)6.29 F 3.04(vice number)-.195 F F1 6.29(,a)C 3.04
(nd a least signi\214cant)-6.29 F F3(minor)6.29 E 0 Cg EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 28)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Bold@0 SF(de)33.336 120 Q .328(vice number)-.195 F
/F2 13/Times-Roman@0 SF 6.828(.T)C .328(ypically these are represented \
as a pair of decimal numbers, e.g. in the)-7.868 F(de)33.336 135 Q .37
(vice number 8,16 8 is the major part and 16 is the minor part.)-.325 F
.37(If the k)6.87 F .37(ernel in question)-.13 F 2.482
(is using 16-bit de)33.336 150 R 2.482(vice numbers, this w)-.325 F
2.482(ould be 0x0810.)-.13 F 2.482(The signi\214cance of major vs)8.982
F(minor numbers is be)33.336 165 Q(yond the scope of this unit.)-.195 E
.757(By e)33.336 186 R .757(xamining the)-.195 F/F3 13/Courier@0 SF
(st_dev)4.007 E F2 .757(\214eld, the user can determine if tw)4.007 F
4.008(op)-.13 G .758(aths reside on the same)-4.008 F -.26(vo)33.336 201
S 3.299(lume. In).26 F .049(the e)3.299 F .049(xample abo)-.195 F -.195
(ve)-.195 G 3.299(,s).195 G(tat'ing)-3.299 E F3(/C/F)3.299 E F2 -.13(wo)
3.299 G .049(uld yield the).13 F F3(st_dev)3.299 E F2(de)3.299 E .049
(vice number of)-.325 F 2.051(the second v)33.336 216 R 2.051
(olume, not the root v)-.26 F 2.051
(olume, because the original mount point in the root)-.26 F -.26(vo)
33.336 231 S(lume is inaccessible.).26 E 1.347(Because each v)33.336 252
R 1.346(olume is a self-contained independent data structure, the inode\
 numbers)-.26 F(\()33.336 267 Q F3(st_ino)A F2 4.315(\)a)C 1.065
(re unique only within the same v)-4.315 F 4.315(olume. A)-.26 F 1.065
(consequence of this is that hard)4.315 F 2.286
(links can not be made across v)33.336 282 R 2.285
(olumes, because the inode number in the \214rst v)-.26 F(olume)-.26 E
-.13(wo)33.336 297 S 3.903(uld ha).13 F 4.293 -.195(ve n)-.26 H 7.153
(ov).195 G 3.903(alidity in the second v)-7.478 F 7.153(olume. The)-.26
F 3.904(combination of)7.153 F F3(st_ino)7.154 E F2(with)7.154 E F3
(st_dev)33.336 312 Q F2 4.064(uniquely identi\214es an)7.314 F 7.314(yn)
-.195 G 4.063(ode within the pathname space at the time that)-7.314 F
2.803(comparison is made.)33.336 327 R 2.803(Of course, if v)9.303 F
2.803(olumes are later mounted or unmounted by the)-.26 F
(system administrator)33.336 342 Q 3.25(,t)-.52 G(hat might in)-3.25 E
-.325(va)-.52 G(lidate such a test.).325 E F1(Mo)227.393 372 Q -.13(ve)
-.13 G(/Rename).13 E F2(The)33.336 408 Q F3(rename)3.25 E F2
(system call:)3.25 E/F4 10/Courier@0 SF
(int rename \(char *oldpath, char *newpath\))33.336 420 Q F2 1.495
(is used either to rename or mo)33.336 435 R 1.885 -.195(ve a \214)-.195
H 1.495(le within the same v).195 F 4.745(olume\(\214lesystem\). The)
-.26 F(same)4.745 E 10.151
(result could be accomplished by using link\(oldpath,ne)33.336 450 R
10.152(wpath\) follo)-.325 F 10.152(wing by)-.325 F .476
(unlink\(oldpath\), and indeed v)33.336 465 R .476(ery early v)-.195 F
.476(ersions of UNIX did not ha)-.195 F .866 -.195(ve a)-.26 H 3.726(ne)
.195 G .476(xplicit rename)-3.921 F 5.705(syscall. Ho)33.336 480 R(we)
-.325 E -.195(ve)-.325 G 3.495 -.52(r, c).195 H 2.455(onsider what w).52
F 2.455(ould happen if the process dies \(e.g. the user hits)-.13 F
2.846(Control-C -- we')33.336 495 R 2.846
(ll talk about signals and process termination in a fe)-.13 F 6.096(wm)
-.325 G 2.846(ore weeks\))-6.096 F 1.588(between the link and unlink.)
33.336 510 R 1.588(The rename system call is atomic.)8.088 F 1.588
(The mv\(1\) command)8.088 F .505(uses rename\(2\).)33.336 525 R .505
(Note: it is not possible to mo)7.005 F .894 -.195(ve a \214)-.195 H
.504(le using rename\(2\) from one v).195 F(olume)-.26 E 1.639
(to another)33.336 540 R 4.889(,b)-.52 G 1.639
(ecause it is not possible to mak)-4.889 F 4.89(eah)-.13 G 1.64
(ard link from one v)-4.89 F 1.64(olume to another)-.26 F(.)-.715 E .71
(The mv\(1\) command hides this anno)33.336 555 R .709
(yance from the user)-.13 F 7.209(.I)-.715 G 3.959(fo)-7.209 G .709
(ldpath and ne)-3.959 F .709(wpath are on)-.325 F(dif)33.336 570 Q 6.123
(ferent v)-.325 F 6.123(olumes, the command instead does the equi)-.26 F
-.325(va)-.325 G 6.123(lent of).325 F F3 6.123(cp oldpath)9.373 F .207
(newpath ; rm oldpath)33.336 585 R F2 6.707(.T)C .207
(his is not atomic, instead the mv command also uses the)-6.707 F 1.639
(utime, cho)33.336 600 R 1.64(wn, and chmod system calls to mak)-.325 F
4.89(en)-.13 G -.325(ew)-4.89 G 1.64(path as much as possible ha).325 F
2.03 -.195(ve t)-.26 H(he).195 E .584(same metadata as oldpath.)33.336
615 R .583
(Note that since the ctime can not be changed via system call,)7.084 F
(that will be at least one imperfection.)33.336 630 Q F1
(Is that \214lesystem, or \214le system, or \214lesystem?)139.702 675 Q
F2 5.093(Unfortunately the terminology pertaining to the \214le system \
is often inconsistent,)33.336 711 R(ambiguous and confusing.)33.336 726
Q(In operating system literature, "\214lesystem" can mean:)6.5 E 6.901
<8354>33.336 741 S 3.651(he o)-6.901 F -.195(ve)-.195 G 3.651
(rall \214le system, its semantics and interf).195 F 6.901(aces. e.g.)
-.13 F 3.65("The UNIX \214lesystem)6.901 F 0 Cg EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 29)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF(pro)33.336 120 Q
(vides a simple, clean interf)-.195 E(ace.")-.13 E 4.513(\203Ap)33.336
135 S 1.263(articular schema for or)-4.513 F -.065(ga)-.234 G 1.263
(nizing data within a v).065 F 1.263(olume, e.g.)-.26 F 1.263
("The Reiser \214lesystem)7.763 F
(performs better than the EXT2 \214lesystem when there are man)33.336
150 Q 1.69 -.845(y, s)-.195 H(mall \214les.").845 E 6.781(\203Ac)33.336
165 S 3.531(ode module within the k)-6.781 F 3.53
(ernel for implementing a \214lesystem, in the sense of)-.13 F
("\214lesystem" gi)33.336 180 Q -.195(ve)-.325 G 3.25(ni).195 G 3.25(nt)
-3.25 G(he last item.)-3.25 E 3.819(\203Ap)33.336 195 S .569
(articular instantiation of such an or)-3.819 F -.065(ga)-.234 G .569
(nization of data.).065 F 2.65 -1.04(We c)7.07 H .57(alled this a "v)
1.04 F .57(olume" in)-.26 F
(these notes, which term is also used in the literature.)33.336 210 Q/F2
13/Times-Bold@0 SF(Locality and fragmentation)191.143 240 Q F1 -.52(Wi)
33.336 276 S 1.062(th traditional hard disks that ha).52 F 1.452 -.195
(ve m)-.26 H -.195(ov).195 G 1.062(ing heads, it tak).195 F 1.061
(es a longer time to access tw)-.13 F(o)-.13 E 2.249(sectors in a ro)
33.336 291 R 5.499(wt)-.325 G 2.249(hat are f)-5.499 F 2.25
(ar apart from each other on the disk than if the)-.13 F 5.5(ya)-.195 G
2.25(re close)-5.5 F(together)33.336 306 Q 5.267(,a)-.52 G 2.017
(nd the time gro)-5.267 F 2.017(ws with distance.)-.325 F 2.017
(Consider the reference model of a UNIX)8.517 F .576
(\214lesystem presented earlier with Header)33.336 321 R 3.826(,I)-.52 G
.576(nodes, Free Map and Data Blocks.)-3.826 F .576(In order to)7.076 F
.07(perform an operation on a \214le, one needs to access the inode, po\
ssibly the free map \(if the)33.336 336 R .177
(\214le is being written to\) and the data blocks.)33.336 351 R .178
(It w)6.678 F .178(ould be nice to k)-.13 F .178
(eep these things close to)-.13 F(each other)33.336 366 Q(.)-.715 E .042
(All modern UNIX \214lesystems use)33.336 387 R F2 .041(cylinder gr)
3.291 F(oups)-.234 E F1(or)3.291 E F2 .041(block gr)3.291 F(oups)-.234 E
F1 .041(\(these are essentially)3.291 F(equi)33.336 402 Q -.325(va)-.325
G(lent terms\):).325 E 0 Cg EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 30)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E 0 0 360 632 -635.696 1116 87.336 755.696 PBEGIN
%%BeginDocument: ext2.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: ext2.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Wed Sep 21 20:35:59 2016
%%For: hak@lex ()
%%BoundingBox: 0 0 632 1116
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 1116 moveto 0 0 lineto 632 0 lineto 632 1116 lineto closepath clip newpath
-52.8 1116.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
n 1200 1200 m
 4500 1200 l gs col0 s gr 
% Polyline
n 1200 900 m
 4500 900 l gs col0 s gr 
% Polyline
n 1200 1500 m
 4500 1500 l gs col0 s gr 
% Polyline
n 1200 1800 m
 4500 1800 l gs col0 s gr 
% Polyline
n 1200 2100 m
 4500 2100 l gs col0 s gr 
% Polyline
n 1200 2700 m
 4500 2700 l gs col0 s gr 
% Polyline
n 1200 3825 m
 4500 3825 l gs col0 s gr 
/Times-Roman-iso ff 233.33 scf sf
2700 1125 m
gs 1 -1 sc (Superblock) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 1425 m
gs 1 -1 sc (Group Descriptors) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 1725 m
gs 1 -1 sc (Group 0 block free bitmap) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 2025 m
gs 1 -1 sc (Group 0 Inode free bitmap) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 3300 m
gs 1 -1 sc (Group 0 Data Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 2475 m
gs 1 -1 sc (Group 0 Inodes) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 1200 4125 m
 4500 4125 l gs col0 s gr 
% Polyline
n 1200 3825 m
 4500 3825 l gs col0 s gr 
% Polyline
n 1200 4425 m
 4500 4425 l gs col0 s gr 
% Polyline
n 1200 4725 m
 4500 4725 l gs col0 s gr 
% Polyline
n 1200 5025 m
 4500 5025 l gs col0 s gr 
% Polyline
n 1200 5625 m
 4500 5625 l gs col0 s gr 
% Polyline
n 1200 6750 m
 4500 6750 l gs col0 s gr 
/Times-Roman-iso ff 233.33 scf sf
2700 4050 m
gs 1 -1 sc (Superblock) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 4350 m
gs 1 -1 sc (Group Descriptors) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 4650 m
gs 1 -1 sc (Group 1 block free bitmap) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 4950 m
gs 1 -1 sc (Group 1 Inode free bitmap) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 6225 m
gs 1 -1 sc (Group 1 Data Blocks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 233.33 scf sf
2700 5400 m
gs 1 -1 sc (Group 1 Inodes) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 6300 m 11400 6300 l 11400 6900 l 8700 6900 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 6675 m
gs 1 -1 sc (Direct Block 0) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 6900 m 11400 6900 l 11400 7500 l 8700 7500 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 7275 m
gs 1 -1 sc (Direct Block 1) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 7500 m 11400 7500 l 11400 8100 l 8700 8100 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 7875 m
gs 1 -1 sc (Direct Block 2) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 8100 m 11400 8100 l 11400 8700 l 8700 8700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 8475 m
gs 1 -1 sc (Direct Block 3) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 8700 m 11400 8700 l 11400 9300 l 8700 9300 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 9075 m
gs 1 -1 sc (Direct Block 4) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 9900 m 11400 9900 l 11400 10500 l 8700 10500 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 10275 m
gs 1 -1 sc (Direct Block 6) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 10500 m 11400 10500 l 11400 11100 l 8700 11100 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 10875 m
gs 1 -1 sc (Direct Block 7) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 11100 m 11400 11100 l 11400 11700 l 8700 11700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 11475 m
gs 1 -1 sc (Direct Block 8) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 11700 m 11400 11700 l 11400 12300 l 8700 12300 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 12075 m
gs 1 -1 sc (Direct Block 9) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 12300 m 11400 12300 l 11400 12900 l 8700 12900 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 12675 m
gs 1 -1 sc (Direct Block 10) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 9300 m 11400 9300 l 11400 9900 l 8700 9900 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 9675 m
gs 1 -1 sc (Direct Block 5) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 13500 m 11400 13500 l 11400 14100 l 8700 14100 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 13875 m
gs 1 -1 sc (Indirect Block) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 14100 m 11400 14100 l 11400 14700 l 8700 14700 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 14475 m
gs 1 -1 sc (Double Indirect) dup sw pop 2 div neg 0 rm  col0 sh gr
% Polyline
n 8700 14700 m 11400 14700 l 11400 15300 l 8700 15300 l
 cp gs col0 s gr 
/Times-Roman-iso ff 266.67 scf sf
9900 15075 m
gs 1 -1 sc (Triple Indirect) dup sw pop 2 div neg 0 rm  col0 sh gr
% Arc
gs  clippath
4280 6416 m 4245 6465 l 4366 6555 l 4288 6460 l 4402 6507 l cp
eoclip
n 2275.0 9231.2 3425.7 46.1 -54.3 arcn
gs col0 s gr
 gr

% arrowhead
n 4402 6507 m 4288 6460 l 4366 6555 l  col0 s
% Arc
gs  clippath
4354 6266 m 4320 6316 l 4446 6401 l 4364 6309 l 4479 6352 l cp
eoclip
n -1626.0 15118.6 10652.8 -7.9 -55.9 arcn
gs col0 s gr
 gr

% arrowhead
n 4479 6352 m 4364 6309 l 4446 6401 l  col0 s
% Ellipse
n 2700 7200 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Ellipse
n 2700 7650 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Ellipse
n 2700 8100 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Ellipse
n 3900 12900 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Ellipse
n 3900 13275 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Ellipse
n 3900 13650 48 48 0 360 DrawEllipse gs 0.00 setgray ef gr gs col0 s gr

% Polyline
n 1200 600 m 4500 600 l 4500 9600 l 1200 9600 l
 cp gs col0 s gr 
% Polyline
n 3750 2325 m
 8100 1125 l gs col0 s gr 
% Polyline
n 8700 600 m 11400 600 l 11400 900 l 8700 900 l
 cp gs col0 s gr 
% Polyline
n 8700 900 m 11400 900 l 11400 1200 l 8700 1200 l
 cp gs col0 s gr 
% Polyline
n 8700 1200 m 11400 1200 l 11400 1800 l 8700 1800 l
 cp gs col0 s gr 
% Polyline
n 8700 1800 m 11400 1800 l 11400 2400 l 8700 2400 l
 cp gs col0 s gr 
% Polyline
n 8700 2400 m 11400 2400 l 11400 3000 l 8700 3000 l
 cp gs col0 s gr 
% Polyline
n 8700 3000 m 11400 3000 l 11400 3600 l 8700 3600 l
 cp gs col0 s gr 
% Polyline
n 8700 3600 m 11400 3600 l 11400 4200 l 8700 4200 l
 cp gs col0 s gr 
% Polyline
n 8700 4200 m 11400 4200 l 11400 4500 l 8700 4500 l
 cp gs col0 s gr 
% Polyline
n 8700 4500 m 11400 4500 l 11400 4800 l 8700 4800 l
 cp gs col0 s gr 
% Polyline
n 8700 4800 m 11400 4800 l 11400 5100 l 8700 5100 l
 cp gs col0 s gr 
% Polyline
n 8700 5100 m 11400 5100 l 11400 5700 l 8700 5700 l
 cp gs col0 s gr 
% Polyline
n 8700 5700 m 11400 5700 l 11400 6300 l 8700 6300 l
 cp gs col0 s gr 
% Polyline
gs  clippath
3980 2891 m 3945 2940 l 4067 3029 l 3988 2935 l 4102 2981 l cp
eoclip
n 8925 6525 m
 3975 2925 l gs col0 s gr gr

% arrowhead
n 4102 2981 m 3988 2935 l 4067 3029 l  col0 s
% Polyline
gs  clippath
4057 3267 m 4019 3314 l 4137 3408 l 4063 3310 l 4175 3361 l cp
eoclip
n 8925 7200 m
 4050 3300 l gs col0 s gr gr

% arrowhead
n 4175 3361 m 4063 3310 l 4137 3408 l  col0 s
% Polyline
gs  clippath
4137 3493 m 4092 3533 l 4192 3647 l 4136 3537 l 4237 3607 l cp
eoclip
n 8925 9000 m
 4125 3525 l gs col0 s gr gr

% arrowhead
n 4237 3607 m 4136 3537 l 4192 3647 l  col0 s
% Polyline
gs  clippath
4357 5892 m 4319 5938 l 4437 6033 l 4363 5935 l 4475 5986 l cp
eoclip
n 8925 9600 m
 4350 5925 l gs col0 s gr gr

% arrowhead
n 4475 5986 m 4363 5935 l 4437 6033 l  col0 s
% Polyline
n 3000 11400 m 4950 11400 l 4950 16125 l 3000 16125 l
 cp gs col0 s gr 
% Polyline
n 3000 11400 m 4950 11400 l 4950 12000 l 3000 12000 l
 cp gs col0 s gr 
% Polyline
n 3000 12000 m 4950 12000 l 4950 12600 l 3000 12600 l
 cp gs col0 s gr 
% Polyline
n 3000 15600 m 4950 15600 l 4950 16125 l 3000 16125 l
 cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
5172 12191 m 5149 12246 l 5289 12305 l 5190 12231 l 5312 12249 l cp
eoclip
n 8925 13800 m
 5175 12225 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 5312 12249 m 5190 12231 l 5289 12305 l  col0 s
% Polyline
n 8700 12900 m 11400 12900 l 11400 13500 l 8700 13500 l
 cp gs col0 s gr 
% Polyline
n 8700 15300 m 11400 15300 l 11400 15900 l 8700 15900 l
 cp gs col0 s gr 
% Polyline
n 8700 15900 m 11400 15900 l 11400 16500 l 8700 16500 l
 cp gs col0 s gr 
% Polyline
n 8700 16500 m 11400 16500 l 11400 17100 l 8700 17100 l
 cp gs col0 s gr 
% Polyline
n 8700 17100 m 11400 17100 l 11400 17700 l 8700 17700 l
 cp gs col0 s gr 
% Polyline
n 8700 17700 m 11400 17700 l 11400 18600 l 8700 18600 l
 cp gs col0 s gr 
% Polyline
2 slj
gs  clippath
3084 6567 m 3043 6611 l 3155 6714 l 3087 6611 l 3195 6669 l cp
eoclip
n 3375 12525 m 3374 12525 l 3373 12524 l 3370 12522 l 3366 12520 l 3360 12516 l
 3353 12511 l 3343 12504 l 3331 12496 l 3316 12486 l 3300 12475 l
 3281 12461 l 3261 12446 l 3239 12429 l 3215 12411 l 3190 12390 l
 3163 12368 l 3136 12344 l 3108 12319 l 3080 12291 l 3052 12262 l
 3023 12232 l 2995 12200 l 2967 12166 l 2940 12130 l 2914 12092 l
 2888 12051 l 2863 12009 l 2840 11963 l 2818 11915 l 2797 11864 l
 2777 11810 l 2759 11751 l 2743 11689 l 2729 11622 l 2716 11551 l
 2706 11475 l 2699 11394 l 2694 11309 l 2693 11218 l 2695 11123 l
 2700 11025 l 2707 10944 l 2716 10861 l 2727 10780 l 2740 10699 l
 2755 10621 l 2770 10544 l 2787 10471 l 2805 10402 l 2824 10336 l
 2843 10273 l 2863 10215 l 2883 10160 l 2904 10110 l 2925 10062 l
 2946 10019 l 2967 9978 l 2989 9941 l 3010 9906 l 3031 9874 l
 3053 9844 l 3074 9816 l 3096 9790 l 3117 9765 l 3138 9740 l
 3160 9717 l 3181 9694 l 3203 9671 l 3224 9647 l 3245 9623 l
 3267 9597 l 3288 9571 l 3310 9542 l 3331 9512 l 3353 9480 l
 3375 9444 l 3396 9406 l 3418 9365 l 3439 9321 l 3460 9272 l
 3481 9220 l 3502 9165 l 3522 9105 l 3542 9041 l 3562 8973 l
 3580 8901 l 3598 8826 l 3615 8747 l 3630 8666 l 3644 8582 l
 3656 8497 l 3667 8411 l 3675 8325 l 3682 8226 l 3686 8129 l
 3687 8036 l 3685 7948 l 3680 7863 l 3674 7783 l 3665 7707 l
 3654 7635 l 3642 7567 l 3627 7503 l 3612 7442 l 3595 7385 l
 3577 7330 l 3557 7279 l 3537 7229 l 3515 7182 l 3493 7137 l
 3470 7094 l 3446 7053 l 3422 7014 l 3397 6976 l 3373 6940 l
 3348 6905 l 3323 6873 l 3299 6842 l 3275 6812 l 3251 6784 l
 3229 6759 l 3208 6735 l 3188 6713 l 3169 6693 l 3152 6675 l
 3136 6660 l 3123 6646 l 3111 6634 l 3101 6625 l 3093 6617 l
 3087 6611 l
 3075 6600 l gs col0 s gr gr

% arrowhead
0 slj
n 3195 6669 m 3087 6611 l 3155 6714 l  col0 s
/Times-Roman-iso ff 200.00 scf sf
2700 825 m
gs 1 -1 sc (Boot Loader Reserved Block) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
2550 375 m
gs 1 -1 sc (EXT2/EXT3 Volume on Disk) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 3375 m
gs 1 -1 sc (mtime) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 3975 m
gs 1 -1 sc (dtime) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 2775 m
gs 1 -1 sc (ctime) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 825 m
gs 1 -1 sc (mode) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 1125 m
gs 1 -1 sc (uid) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 1575 m
gs 1 -1 sc (size) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 2175 m
gs 1 -1 sc (atime) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 4425 m
gs 1 -1 sc (gid) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 4725 m
gs 1 -1 sc (nlinks) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 5475 m
gs 1 -1 sc (misc flags) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 5925 m
gs 1 -1 sc (os-dependent) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 6210 m
gs 1 -1 sc (reserved area 1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9675 225 m
gs 1 -1 sc (An Inode \(128 bytes\)) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
3975 11100 m
gs 1 -1 sc (Indirect Block) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
3900 11775 m
gs 1 -1 sc (0) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
3900 12375 m
gs 1 -1 sc (1) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
3900 15900 m
gs 1 -1 sc (1023) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 13275 m
gs 1 -1 sc (Direct Block 11) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 15675 m
gs 1 -1 sc (generation) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 16275 m
gs 1 -1 sc (xattr) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9975 16800 m
gs 1 -1 sc (upper word of size) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9975 17025 m
gs 1 -1 sc (for large files) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 17400 m
gs 1 -1 sc (frag addr \(not used\)) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9900 18300 m
gs 1 -1 sc (area #2 ) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
10050 18000 m
gs 1 -1 sc (os-dependent reserved) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 266.67 scf sf
9825 5025 m
gs 1 -1 sc (blocks \(512-byte\)) dup sw pop 2 div neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND 0 Cg EP
%%Page: 31 31
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 31)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF .39(Each block or c)33.336 120 R .39
(ylinder group is lik)-.195 F 3.64(eam)-.13 G .39
(ini-\214lesystem, containing a portion of the o)-3.64 F -.195(ve)-.195
G(rall).195 E .593
(inode table and data blocks, and a free block bitmap co)33.336 135 R
-.195(ve)-.195 G .593(ring just the data blocks in that).195 F -.195(cy)
33.336 150 S 2.77(linder group.).195 F 2.771(The k)9.27 F 2.771
(ernel will attempt to k)-.13 F 2.771
(eep a \214le allocated all within the same)-.13 F -.195(cy)33.336 165 S
.933(linder group.).195 F .932(This impro)7.432 F -.195(ve)-.195 G 4.182
(sl).195 G .932(ocality and \214lesystem performance.)-4.182 F .932
(Inode numbers and)7.432 F 2.751(block numbers continue to ha)33.336 180
R 3.141 -.195(ve g)-.26 H 2.751(lobal meaning, b).195 F 2.751
(ut the inodes and blocks are no)-.26 F(w)-.325 E
(spread out among the groups instead of being concentrated together)
33.336 195 Q(.)-.715 E -1.43(Yo)33.336 216 S 5.519(uw)1.43 G 2.269
(ill also notice that Linux uses a second bitmap to k)-5.519 F 2.268
(eep track of free vs in-use)-.13 F 6.275(inodes. This)33.336 231 R
(impro)6.275 E -.195(ve)-.195 G 6.275(sp).195 G 3.026
(erformance..the inode bitmap often \214ts within a single disk)-6.275 F
.796(block, which remains cached in k)33.336 246 R .796(ernel memory an)
-.13 F(yw)-.195 E(ay)-.13 E 7.296(.F)-.845 G .796
(inding a free inode is a quick)-7.296 F .77
(in-memory bitmap search, rather than a series of disk accesses to e)
33.336 261 R .77(xamine each inode to)-.195 F(see if it is free.)33.336
276 Q -1.43(Yo)33.336 297 S 3.514(um)1.43 G .264
(ay also notice that a space for the v)-3.514 F .263
(olume Superblock appears in each block group.)-.26 F 1.101
(In practice, se)33.336 312 R -.195(ve)-.325 G 1.101(ral replicas of th\
e superblock are stashed in block groups in addition to).195 F 1.6
(group #0.)33.336 327 R(Whene)8.1 E -.195(ve)-.325 G 4.85(rt).195 G 1.6
(he superblock is \215ushed to disk, these additional disk writes are)
-4.85 F .04(also needed, so we don')33.336 342 R 3.29(tw)-.234 G .04
(ant to actually replicate the superblock in)-3.42 F/F2 13
/Times-Italic@0 SF -.195(ev)3.29 G(ery).195 E F1 3.29(group. Ha)3.29 F
(ving)-.26 E 2.835(replicas means it is still possible to reco)33.336
357 R -.195(ve)-.195 G 6.085(rt).195 G 2.835(he v)-6.085 F 2.835
(olume if the main superblock gets)-.26 F
(corrupted or if that sector of the disk goes bad.)33.336 372 Q/F3 13
/Times-Bold@0 SF(Fragmentation)33.336 393 Q F1 .418
(is de\214ned as the case where a \214le')3.667 F 3.668(sc)-.715 G .418
(ontents are not stored in contiguous)-3.668 F 1.132(data blocks.)33.336
408 R 1.132(Fragmentation is impossible to a)7.632 F -.26(vo)-.26 G
1.132(id unless one w).26 F 1.132(ants to sacri\214ce a lot of)-.13 F
.521(disk space by emplo)33.336 423 R .521(ying what is kno)-.13 F .521
(wn kno)-.325 F .521(wn as a)-.325 F F3 .521(contiguous \214lesystem)
3.771 F F1 7.021(.T)C .521(his is only)-7.021 F(used in v)33.336 438 Q
(ery limited circumstances, such as e)-.195 E
(xtremely limited embedded en)-.195 E(vironments.)-.52 E(Excessi)33.336
459 Q 2.979 -.195(ve f)-.325 H 2.589
(ragmentation will cause a lot of disk seek acti).195 F 2.588
(vity to access a \214le and is)-.325 F 3.525(undesirable. T)33.336 474
R 3.525(oc)-1.04 G .275(ombat fragmentation, the k)-3.525 F .275
(ernel can a)-.13 F -.26(vo)-.26 G .275(id allocating space for a ne).26
F 3.525(wo)-.325 G(r)-3.525 E(gro)33.336 489 Q 1.653
(wing \214le which is right up ag)-.325 F 1.653
(ainst the space of another \214le.)-.065 F 1.652
(But as the total space)8.152 F .568(used on the v)33.336 504 R .568
(olume approaches the total a)-.26 F -.325(va)-.26 G .568
(ilable space, it becomes harder to a).325 F -.26(vo)-.26 G .569
(id that.).26 F(Man)33.336 519 Q 5.962(ys)-.195 G 2.712
(ystem administrators tune \214lesystems with a)-5.962 F F3 -.234(re)
5.962 G(ser).234 E 2.971 -.13(ve f)-.13 H(actor).13 E F1 2.711
(of 5-10%.)5.961 F 2.711(On a)9.211 F -.26(vo)33.336 534 S .332
(lume with 1GB of data block space and a 10% reserv).26 F 3.582(ef)-.195
G(actor)-3.712 E 3.583(,i)-.52 G 3.583(tw)-3.583 G .333
(ould appear from the)-3.713 F/F4 13/Courier@0 SF(df)33.336 549 Q F1
1.072(command that there is only 900MB free.)4.323 F 1.072
(Ordinary users will start to get "disk full")7.572 F 2.345
(errors when the space in use e)33.336 564 R 2.345(xceeds 900MB, b)-.195
F 2.345(ut in reality 100MB is being held in)-.26 F(reserv)33.336 579 Q
6.707(ef)-.195 G 3.457
(or system processes \(which usually run as "superuser"\).)-6.707 F -.52
(Wi)9.957 G 3.457(th 10% of the).52 F -.26(vo)33.336 594 S 1.574
(lume still free, the k).26 F 1.574(ernel is usually able to a)-.13 F
-.26(vo)-.26 G 1.574(id e).26 F(xcessi)-.195 E 1.964 -.195(ve f)-.325 H
4.825(ragmentation. V).195 F(olumes)-1.677 E 2.152
(that are running belo)33.336 609 R 5.402(w5)-.325 G 5.402(%f)-5.402 G
2.152(ree space typically start to ha)-5.402 F 2.542 -.195(ve p)-.26 H
2.152(erformance issues from).195 F(fragmentation.)33.336 624 Q 3.708
<418c>33.336 645 S .459(lesystem with a lot of fragmentation can be "de\
-fragmented" if there is suf)-3.708 F .459(\214cient free)-.325 F 4.816
(space. This)33.336 660 R(in)4.816 E -.26(vo)-.52 G(lv).26 E 1.566
(es \214rst mo)-.195 F 1.565(ving smaller \214les around on the v)-.195
F 1.565(olume so as to open up)-.26 F(lar)33.336 675 Q .212
(ger contiguous re)-.234 F .212(gions of free space, to which lar)-.195
F .213(ger \214les are mo)-.234 F -.195(ve)-.195 G 3.463(d. This).195 F
.213(process can)3.463 F(tak)33.336 690 Q 5.418(em)-.13 G(an)-5.418 E
5.418(yh)-.195 G 2.168(ours and could potentially cause \214lesystem co\
rruption if it crashes in the)-5.418 F 3.25(middle. It)33.336 705 R
(is best done of v)3.25 E(olumes that are not currently mounted.)-.26 E
0 Cg EP
%%Page: 32 32
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 32)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Bold@0 SF -.325(Ke)154.275 120 S
(eping track of disk blocks in the inode).325 E/F2 13/Times-Roman@0 SF
.604(Inodes which are Directory)33.336 156 R 3.854(,R)-.845 G -.195(eg)
-3.854 G .604
(ular File or Symlink store data in the data blocks part of).195 F .262
(the \214lesystem.)33.336 171 R 2.342 -1.04(We w)6.762 H .262(ill no)
1.04 F 3.512(wt)-.325 G(ak)-3.512 E 3.512(eap)-.13 G .262(eek at ho)
-3.512 F 3.512(wU)-.325 G .262(NIX operating systems translate of)-3.512
F(fsets)-.325 E 1.582(within a \214le \(or directory or symlink\) into \
disk data block numbers so that the \214le \(or)33.336 186 R 2.67
(directory or symlink\) can be read or written.)33.336 201 R -.455(Tr)
9.17 G(aditionally).455 E 5.919(,m)-.845 G(an)-5.919 E 5.919(yU)-.195 G
2.669(NIX \214lesystems,)-5.919 F 1.325(including the original \(V)
33.336 216 R 1.325(ersion 7 UNIX\), System V)-1.443 F 4.575(,U)-1.677 G
1.325(FS \(BSD\) and EXT2/EXT3 ha)-4.575 F -.195(ve)-.26 G
(used the follo)33.336 231 Q(wing model \(which is illustrated se)-.325
E -.195(ve)-.325 G(ral pages back\):).195 E .705(There are 12)33.336 252
R F1(dir)3.955 E .705(ect block)-.234 F F2 .705(slots which gi)3.955 F
1.095 -.195(ve t)-.325 H .704
(he block numbers of the \214rst 12 block-sized).195 F .137
(chunks of the \214le.)33.336 267 R .138
(E.g. when the \214lesystem block size is set to 4K \(the def)6.637 F
.138(ault on Linux\),)-.13 F 1.263(then slot[0] gi)33.336 282 R -.195
(ve)-.325 G 4.513(st).195 G 1.263
(he block number which holds bytes 0..4095 of the \214le.)-4.513 F 1.262
(slot[1] gi)7.762 F -.195(ve)-.325 G(s).195 E(bytes 4096..8191, etc.)
33.336 297 Q(No)33.336 327 Q 3.271 -.845(w, i)-.325 H 4.831(ft).845 G
1.581(he \214le size e)-4.831 F 1.581(xceeds 12*block_size, the)-.195 F
F1 1.581(single indir)4.831 F(ect)-.234 E F2 1.581
(block comes into play)4.831 F(,)-.845 E 2.022
(which is found at slot[12].)33.336 342 R 2.022(This gi)8.522 F -.195
(ve)-.325 G 5.272(st).195 G 2.021
(he block number of a block in the data block)-5.272 F .858
(section, which is mark)33.336 357 R .858
(ed as allocated in the allocation bitmap, b)-.13 F .858(ut doesn')-.26
F 4.108(ta)-.234 G .858(ctually store)-4.108 F(an)33.336 372 Q 5.146
<798c>-.195 G 1.896(le data.)-5.146 F 1.895
(Instead, this block contains an array of block numbers.)8.396 F 1.895
(Let us say that)8.395 F .588
(block numbers are represented as 32-bit unsigned inte)33.336 387 R .588
(gers and the block size is 4K.)-.195 F(The)7.088 E 2.742
(\214rst indirect block then maps 1K * 4K = 4M w)33.336 402 R 2.741
(orth of the \214le, from of)-.13 F 2.741(fset 48K to)-.325 F(48K+4M.)
33.336 417 Q
(OK, what happens if the \214le is bigger than 4,243,456 bytes?)33.336
447 Q(No)6.5 E 3.25(ww)-.325 G 3.25(eg)-3.25 G 3.25(oo)-3.25 G 3.25(nt)
-3.25 G 3.25(ot)-3.25 G(he)-3.25 E F1(double)3.25 E(indir)33.336 462 Q
(ect)-.234 E F2 1.827(block at slot[13].)5.077 F 1.826
(It contains the block number of a block which contains an)8.327 F .082
(array of block numbers, each of which is a single indirect block.)
33.336 477 R(Ag)6.583 E .083(ain, if block numbers)-.065 F
(are 32 bit and blocks are 4K, the double indirect block co)33.336 492 Q
-.195(ve)-.195 G(rs 1K*4M or 4GB of the \214le.).195 E -1.04(Tw)33.336
522 S .085(enty years ago, the idea of a \214le lar)1.04 F .085
(ger than 4GB+4M+48K w)-.234 F .085(as ludicrous when a 9GB)-.13 F .608
(hard dri)33.336 537 R .998 -.195(ve c)-.325 H .608
(ost a thousand dollars.).195 F .608(But of course today such lar)7.108
F .609(ge \214les are common.)-.234 F(So)7.109 E .448
(we get to slot[14] which is the)33.336 552 R F1 .448(triple indir)3.698
F(ect)-.234 E F2 .447(block, which is an array of double indirect)3.698
F 2.199(block numbers, each of them being an array of single indirect b\
lock #s, ad nauseam.)33.336 567 R -.325(Ke)33.336 582 S .493
(eping in line with our e).325 F .493
(xample numbers, the triple indirect block co)-.195 F -.195(ve)-.195 G
.492(rs 1K*4G=4TB.).195 F .736(4TB+4GB+4M+48K w)33.336 597 R .736
(ould then seem to be the lar)-.13 F .737(gest \214le that could be k)
-.234 F .737(ept under this)-.13 F(representation with 4K blocks.)33.336
612 Q/F3 13/Times-Italic@0 SF 5.107(Aside: If one sear)33.336 642 R
-.195(ch)-.481 G 5.107
(es for "maximum \214le size" for the older EXT2/EXT3 Linux).195 F .851
(\214lesystems, the r)33.336 657 R .851(esult is 2TB.)-.481 F .851
(This is because ther)7.351 F 4.102(ei)-.481 G 4.102(sa\214)-4.102 G
.852(eld in the on-disk inode called)-4.102 F(i_bloc)33.336 672 Q .125
(ks whic)-.26 F 3.375(hi)-.195 G 3.375(s3)-3.375 G 3.375(2b)-3.375 G
.125(its long and whic)-3.375 F 3.375(hi)-.195 G 3.375(si)-3.375 G 3.375
(nu)-3.375 G .125(nits of sector)-3.375 F 3.374(s\()-.13 G .124
(512 bytes\), not disk bloc)-3.374 F(ks.)-.26 E .816
(This \214eld describes the number of 512 byte sector)33.336 687 R 4.067
(st)-.13 G .817(hat the \214le consumes.)-4.067 F .817(2^32 * 2^9 =)
7.317 F 1.569(2^41 or 2TB.)33.336 702 R 1.569
(Because this \214eld would o)8.069 F 1.568(ver\215ow be)-.13 F 1.568
(yond 2TB, the k)-.39 F 1.568(ernel pr)-.13 F -.195(ev)-.481 G 1.568
(ents a \214le).195 F(fr)33.336 717 Q 1.762(om e)-.585 F 1.762
(xceeding that point.)-.26 F 1.762(EXT2/EXT3 use 32-bit bloc)8.262 F
5.012(kn)-.26 G(umber)-5.012 E 1.762(s, thus with a 4K disk)-.13 F(bloc)
33.336 732 Q 3.476(ks)-.26 G(ize)-3.476 E 3.476(,t)-.13 G .226(he lar)
-3.476 F -.13(ge)-.481 G .226(st volume \(\214lesystem\) whic).13 F
3.476(hc)-.195 G .226(an be cr)-3.476 F .226(eated is 16TB.)-.481 F .226
(EXT4 addr)6.726 F(esses)-.481 E 0 Cg EP
%%Page: 33 33
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 33)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Italic@0 SF(some of these limitations.)33.336 120 Q
/F2 13/Times-Bold@0 SF(Inline \214le storage)219.307 150 Q/F3 13
/Times-Roman@0 SF .948(In the Linux EXT2/EXT3 implementations, block nu\
mbers are 32 bits \(4 bytes\) and the)33.336 180 R .196
(block map portion of the inode is therefore 60 bytes long.)33.336 195 R
.196(As a further optimization, \214les)6.696 F 1.36(which are 60 bytes\
 or less could be stored directly in that 60-byte area and not require)
33.336 210 R(an)33.336 225 Q 4.435(ya)-.195 G 1.185
(dditional disk accesses, be)-4.435 F 1.185(yond the one to retrie)-.195
F 1.575 -.195(ve t)-.325 H 1.185(he inode.).195 F 1.185
(This optimization is)7.685 F
(particularly helpful for symlinks which are often v)33.336 240 Q
(ery short.)-.195 E F2(Sparse Allocation)218.404 285 Q F3
(Consider the follo)33.336 321 Q(wing code:)-.325 E/F4 10/Courier@0 SF
(fd=open\("file",O_CREAT|O_TRUNC|O_WRONLY,0666\);)90.936 333 Q
(write\(fd,"X",1\);)90.936 345 Q(lseek\(fd,16384,SEEK_SET\);)90.936 357
Q(write\(fd,"Y",1\);)90.936 369 Q F3 .502
(The \214le contains an X at of)33.336 384 R .502(fset 0 and a Y at of)
-.325 F .502(fset 16384.)-.325 F .502(What is in between?)7.002 F
(Nothing)7.002 E .131(has e)33.336 399 R -.195(ve)-.325 G 3.381(rb).195
G .131(een written there.)-3.381 F .131(The philosoph)6.631 F 3.381(yt)
-.065 G .131(hat UNIX tak)-3.381 F .131
(es is that this is a "sparse" \214le,)-.13 F .758
(i.e. a \214le with a "hole" in it.)33.336 414 R .758
(The data from 1..16383 are not de\214ned, b)7.258 F .758
(ut for the sak)-.26 F 4.009(eo)-.13 G(f)-4.009 E(consistenc)33.336 429
Q 3.3(ya)-.195 G .05(nd security)-3.3 F 3.3(,t)-.845 G(he)-3.3 E 3.299
(yr)-.195 G .049(ead back as all-0 bytes.)-3.299 F(No)6.549 E 1.739
-.845(w, s)-.325 H .049(ince nothing is really there,).845 F .96
(do we need to allocate disk data blocks?)33.336 444 R .96
(UNIX does not.)7.46 F .961(In the inode, the [0] slot and)7.461 F .362
(the [4] slot w)33.336 459 R .362(ould ha)-.13 F .752 -.195(ve v)-.26 H
.362(alid block numbers, b)-.13 F .362(ut the [1] [2] and [3] slots w)
-.26 F .361(ould ha)-.13 F .751 -.195(ve 0 a)-.26 H(s).195 E
(the block number)33.336 474 Q 3.25(,i)-.52 G
(ndicating that the corresponding 4K re)-3.25 E
(gion of the \214le is not allocated.)-.195 E .979(The \214eld)33.336
495 R/F5 13/Courier@0 SF(st_blocks)4.229 E F3 .979(in the stat structur\
e will report 16 \(remember that this \214eld is in)4.229 F 1.041(units\
 of 512-byte blocks\), i.e. only 8K is being allocated to the \214le.)
33.336 510 R 1.04(On the other hand,)7.541 F F2(st_size)33.336 525 Q F3
.571(will be 16385, which at \214rst glance w)3.821 F .571
(ould seem to require \214v)-.13 F 3.821(e4)-.195 G 3.822(Kb)-3.821 G
3.822(locks. T)-3.822 F .572(ry it)-.455 F(at home, folks.)33.336 540 Q
F2(Extent-based allocation)202.154 570 Q F3 2.577
(The block map \(direct/indirect/double/triple\) method has w)33.336 606
R(ork)-.13 E 2.576(ed v)-.13 F 2.576(ery well for man)-.195 F -.845(y,)
-.195 G(man)33.336 621 Q 5.369(yy)-.195 G 5.37(ears. It)-5.369 F 2.12
(is particularly ef)5.37 F 2.12
(\214cient for small \214les \(e.g. under 48K in our e)-.325 F(xample)
-.195 E(abo)33.336 636 Q -.195(ve)-.195 G 3.503(\). Ho).195 F(we)-.325 E
-.195(ve)-.325 G 1.293 -.52(r, f).195 H .253(or lar).52 F .252(ger \214\
les, it requires additional disk accesses to get at the indirect)-.234 F
7.23(blocks. Indirect)33.336 651 R 3.98(blocks are cached \(see belo)
7.23 F 7.23(wu)-.325 G 3.981(nder "b)-7.23 F(uf)-.26 E 3.981
(fer/block cache"\) b)-.325 F 3.981(ut for)-.26 F .79
(random-access to a lar)33.336 666 R .79(ge \214le in the w)-.234 F .789
(orst case, it could require se)-.13 F -.195(ve)-.325 G .789
(ral disk accesses per).195 F(data block access.)33.336 681 Q 1.839
(In the Linux w)33.336 702 R 1.839(orld, the EXT4 \214lesystem has mo)
-.13 F -.195(ve)-.195 G 5.09(dt).195 G 5.09(oe)-5.09 G 1.84
(xtent-based allocation.)-5.285 F(Other)8.34 E 2.195
(\214lesystems also use this.)33.336 717 R(An)8.694 E F2(extent)5.444 E
F3 2.194(is de\214ned as a)5.444 F F1(contiguous)5.444 E F3 2.194
(group of disk blocks.)5.444 F(Therefore it can be described by an)
33.336 732 Q F2(extent descriptor)3.25 E F3(:)A 0 Cg EP
%%Page: 34 34
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 34)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 10/Courier@0 SF(Linux EXT4 Extent Descriptor)206.136 117 Q
(*************************************************)156.936 129 Q 16.8
(start_file_block_offset 32bits)45.336 141 R
(The offset of this extent within the file's)21.6 E
(address space, measured in units of)321.336 153 Q(FS block size)321.336
165 Q 34.8(start_disk_block_num 48)45.336 177 R 9.6(bits Disk)6 F
(block number of start of extent,)6 E(units of fs blocks)321.336 189 Q
88.8(block_count 15)45.336 201 R 9.6(bits Number)6 F
(of contiguous blocks)6 E 130.8(flag 1)45.336 213 R 21.6(bit Flag)6 F
(to indicate empty extent)6 E/F2 13/Times-Roman@0 SF 3.209
(Note that the starting disk block number is a 48-bit quantity)33.336
249 R 6.459(,w)-.845 G 3.209(hich o)-6.459 F -.195(ve)-.195 G 3.209
(rcomes the).195 F .079(limitations of EXT2/3 of 16TB v)33.336 264 R
.079(olume size.)-.26 F -.52(Wi)6.579 G .079
(th these numbers, and a block size of 4K,).52 F .127(the v)33.336 279 R
.128(olume can be 2^12 * 2^48 = 2^60 =1 Exabyte!)-.26 F 3.378(As)6.628 G
.128(ingle e)-3.378 F .128(xtent descriptor can co)-.195 F -.195(ve)
-.195 G 3.378(ra).195 G(maximum of 2^15 * 2^12 = 2^27 = 128MB of \214le\
 address space \(with 4K block sizes.\))33.336 294 Q .095
(In this implementation, each e)33.336 315 R .095
(xtent descriptor is 12 bytes long.)-.195 F .094
(EXT4 also uses a 12-byte)6.595 F 1.878(header for the entire e)33.336
330 R 1.878(xtent data structure.)-.195 F 1.879(Therefore, within the e)
8.379 F 1.879(xisting 60-byte area)-.195 F 2.507
(used for the block map, EXT4 can store 4 e)33.336 345 R 2.507
(xtent descriptors \(4*12=48 + 12 for the)-.195 F .762(header = 60\).)
33.336 360 R(No)7.262 E 2.452 -.845(w, w)-.325 H .762
(hereas the block map approach al).845 F -.13(wa)-.13 G .763
(ys required a \214x).13 F .763(ed number of)-.195 F 3.085
(4-byte block numbers to hold the map for a \214le of a gi)33.336 375 R
-.195(ve)-.325 G 6.335(ns).195 G 3.085(ize, with e)-6.335 F(xtent-based)
-.195 E 4.518(allocation, the number of 12-byte e)33.336 390 R 4.518
(xtent descriptors is v)-.195 F 4.518(ariable depending on the)-.325 F
1.14(fragmentation of the \214le.)33.336 405 R 1.14
(If the \214le is allocated contiguously)7.64 F 4.39(,t)-.845 G 1.14
(hese 4 e)-4.39 F 1.14(xtent descriptors)-.195 F .228
(could map the \214rst 512MB of the \214le.)33.336 420 R .229
(Extent descriptors are al)6.728 F -.13(wa)-.13 G .229
(ys maintained in sorted).13 F 1.868(order by start_\214le_block_of)
33.336 435 R 1.868
(fset, so a simple binary search will \214nd the descriptor that)-.325 F
(maps the area of the \214le that we are interested in.)33.336 450 Q
7.206 -1.04(To m)33.336 471 T 5.126(ap lar)1.04 F 5.126
(ger \214les and/or if fragmentation requires a greater number of e)
-.234 F(xtent)-.195 E .151(descriptors, the e)33.336 486 R .15(xtent da\
ta structure becomes a special form of tree with the property that)-.195
F .144(it is of uniform depth \(i.e. at an)33.336 501 R 3.395(yg)-.195 G
-2.795 -.325(iv e)-3.395 H 3.395(nm).325 G .145
(oment, the number of internal nodes tra)-3.395 F -.195(ve)-.26 G .145
(rsed to).195 F .42(reach a leaf node is constant for all leaf nodes\).)
33.336 516 R .419(The leaf nodes of this tree are the e)6.92 F(xtent)
-.195 E 3.81(descriptors. A)33.336 531 R .561
(tree of depth 0 is the case where 4 e)3.81 F .561
(xtent descriptors are stored inside the)-.195 F 13.299(inode. At)33.336
546 R 10.049(depth 1, the inode contains 4 internal nodes which contain)
13.299 F(\(start_\214le_block_of)33.336 561 Q(fset,ne)-.325 E 7.831
(xt_disk_block\). Ag)-.195 F 4.582
(ain, these internal nodes are sorted by)-.065 F(start_\214le_block_of)
33.336 576 Q .584(fset, b)-.325 F .584(ut no)-.26 F 3.834(wt)-.325 G(he)
-3.834 E 3.834(yc)-.195 G .584
(ontain "pointers" to disk blocks which contain one)-3.834 F 1.245
(12-byte header follo)33.336 591 R 1.245
(wed by an array of leaf nodes \(e)-.325 F 1.245
(xtent descriptors\) which are sorted)-.195 F .758
(by start_\214le_block_of)33.336 606 R 4.008(fset. A)-.325 F .758
(4K disk block holds 340 leaf nodes with 4 bytes w)4.008 F .757
(asted at)-.13 F 3.296
(the end \(these 4 bytes can be used for a checksum to impro)33.336 621
R 3.687 -.195(ve \214)-.195 H 3.297(lesystem inte).195 F(grity)-.195 E
(checking\).)33.336 636 Q .914(If the \214le requires more than 1360 e)
33.336 657 R .913(xtent descriptors, no)-.195 F 4.163(ww)-.325 G 4.163
(eh)-4.163 G -2.925 -.26(av e)-4.163 H .913(to mo)4.423 F 1.303 -.195
(ve t)-.195 H 4.163(oa2).195 G(-le)-4.163 E -.195(ve)-.325 G(l).195 E
3.635(tree. The)33.336 672 R 3.635(4e)3.635 G .385
(ntries in the inode no)-3.635 F 3.635(we)-.325 G .385
(ach point to disk blocks which contain 340 internal)-3.635 F .823(node\
s which point to additional disk blocks which \214nally contain 340 lea\
f nodes \(e)33.336 687 R(xtent)-.195 E 3.25(descriptors\). Where)33.336
702 R(does it end?)3.25 E 1.293(The theoretical w)33.336 732 R 1.294
(orst case is a \214le that is completely fragmented, such that each e)
-.13 F(xtent)-.195 E 0 Cg EP
%%Page: 35 35
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 35)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF .914
(descriptor has a block_count of just 1.)33.336 120 R .913
(Since start_\214le_block_of)7.413 F .913(fset is a 32-bit quantity)
-.325 F(,)-.845 E 1.586(we w)33.336 135 R 1.587
(ould then need 2^32 leaf nodes \(of course the \214lesystem w)-.13 F
1.587(ould be useless at this)-.13 F(le)33.336 150 Q -.195(ve)-.325 G
7.335(lo).195 G 7.335(ff)-7.335 G 7.335(ragmentation\). A)-7.335 F(4-le)
7.335 E -.195(ve)-.325 G 7.334(lt).195 G 4.084(ree w)-7.334 F 4.084
(ould hold 4*340^3 or 157,216,000 block)-.13 F .453
(numbers which is too small, so a 5-le)33.336 165 R -.195(ve)-.325 G
3.703(lt).195 G .453(ree is needed which could hold 53,453,440,000)
-3.703 F 1.138(block numbers.)33.336 180 R 1.137
(This is the maximum tree depth that w)7.637 F 1.137(ould be needed, b)
-.13 F 1.137(ut of course if)-.26 F(the \214le can be mapped in fe)
33.336 195 Q(wer le)-.325 E -.195(ve)-.325 G(ls, it is.).195 E .234
(This data structure w)33.336 216 R .234
(ould be a poor choice in the general case b)-.13 F .234
(ut for \214le allocation, once)-.26 F 2.943(an area of the \214le has \
been allocated, the block numbers assigned to that area will)33.336 231
R .989(generally not change.)33.336 246 R .989(If the \214le gro)7.489 F
.989(ws, ne)-.325 F 4.239(we)-.325 G .989
(xtent descriptors can simply be appended,)-4.434 F 1.134(since the pre)
33.336 261 R 1.134(viously allocated ones are already in \214le of)-.325
F 1.133(fset order)-.325 F 7.633(.W)-.715 G 1.133(hen we run out of)
-7.633 F .115(room to represent the e)33.336 276 R .115
(xtent tree with the current number of le)-.195 F -.195(ve)-.325 G .116
(ls, the entire e).195 F .116(xisting tree)-.195 F(can remain and a ne)
33.336 291 Q 3.25(wh)-.325 G(igher le)-3.25 E -.195(ve)-.325 G 3.25(li)
.195 G 3.25(sc)-3.25 G(reated with a pointer to the e)-3.25 E
(xisting tree.)-.195 E .197
(Extent-based allocation is also able to support sparse allocation.)
33.336 312 R .196(In this case, a \215ag in the)6.697 F -.195(ex)33.336
327 S 1.688(tent descriptor indicates that the corresponding number of \
blocks represent a "hole",).195 F
(and the start_disk_block_num \214eld is not v)33.336 342 Q(alid.)-.325
E 0 0 432 889 -274.07 564 51.336 637.07 PBEGIN
%%BeginDocument: extent.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: extent.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Wed Sep 21 21:15:29 2016
%%For: hak@lex ()
%%BoundingBox: 0 0 889 564
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 564 moveto 0 0 lineto 889 0 lineto 889 564 lineto closepath clip newpath
-31.5 594.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
% Polyline
7.500 slw
 [60] 0 sd
n 1200 1500 m
 3600 1500 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 2400 m
 3600 2400 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 3300 m
 3600 3300 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 4200 m
 3600 4200 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 5400 m
 3525 5400 l gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 1200 5700 m
 3600 5700 l gs col0 s gr  [] 0 sd
% Polyline
n 7875 900 m 9300 900 l 9300 1200 l 7875 1200 l
 cp gs col0 s gr 
% Polyline
n 7875 1200 m 9300 1200 l 9300 1500 l 7875 1500 l
 cp gs col0 s gr 
% Polyline
n 7875 1500 m 9300 1500 l 9300 1800 l 7875 1800 l
 cp gs col0 s gr 
% Polyline
n 7875 1800 m 9300 1800 l 9300 2100 l 7875 2100 l
 cp gs col0 s gr 
% Polyline
n 7875 2100 m 9300 2100 l 9300 2400 l 7875 2400 l
 cp gs col0 s gr 
% Polyline
n 8325 1200 m
 8325 2400 l gs col0 s gr 
% Polyline
 [60] 0 sd
n 7725 825 m 9600 825 l 9600 2850 l 7725 2850 l
 cp gs col0 s gr  [] 0 sd
% Polyline
gs  clippath
8891 4348 m 8944 4377 l 9016 4243 l 8933 4335 l 8963 4215 l cp
eoclip
n 9150 1350 m 9450 1425 l 9450 3375 l
 8925 4350 l gs col0 s gr gr

% arrowhead
n 8963 4215 m 8933 4335 l 9016 4243 l  col0 s
% Polyline
 [60] 0 sd
n 7725 4500 m 9675 4500 l 9675 9375 l 7725 9375 l
 cp gs col0 s gr  [] 0 sd
% Polyline
n 7725 4800 m
 9675 4800 l gs col0 s gr 
% Polyline
n 7725 5100 m
 9675 5100 l gs col0 s gr 
% Polyline
n 7725 6300 m
 9675 6300 l gs col0 s gr 
% Polyline
n 7725 6000 m
 9675 6000 l gs col0 s gr 
% Polyline
n 7725 5700 m
 9675 5700 l gs col0 s gr 
% Polyline
n 7725 5400 m
 9675 5400 l gs col0 s gr 
% Polyline
n 7725 6600 m
 9675 6600 l gs col0 s gr 
% Polyline
n 7725 6900 m
 9675 6900 l gs col0 s gr 
% Polyline
n 7725 9000 m
 9675 9000 l gs col0 s gr 
% Polyline
n 8325 4800 m
 8325 7200 l gs col0 s gr 
% Polyline
n 8850 4800 m
 8850 7200 l gs col0 s gr 
% Polyline
n 7725 7200 m
 9675 7200 l gs col0 s gr 
% Polyline
 [60] 0 sd
n 12600 600 m 14100 600 l 14100 9900 l 12600 9900 l
 cp gs col0 s gr  [] 0 sd
% Polyline
gs  clippath
12631 1887 m 12590 1842 l 12479 1944 l 12588 1886 l 12519 1988 l cp
eoclip
n 9225 4950 m
 12600 1875 l gs col0 s gr gr

% arrowhead
n 12519 1988 m 12588 1886 l 12479 1944 l  col0 s
% Polyline
gs  clippath
12603 6408 m 12624 6351 l 12481 6299 l 12584 6369 l 12460 6355 l cp
eoclip
n 9525 5250 m
 12600 6375 l gs col0 s gr gr

% arrowhead
n 12460 6355 m 12584 6369 l 12481 6299 l  col0 s
% Polyline
gs  clippath
12626 4070 m 12600 4016 l 12463 4082 l 12585 4057 l 12490 4136 l cp
eoclip
n 9525 5550 m
 12600 4050 l gs col0 s gr gr

% arrowhead
n 12490 4136 m 12585 4057 l 12463 4082 l  col0 s
% Polyline
gs  clippath
12595 7983 m 12629 7933 l 12503 7848 l 12586 7941 l 12469 7898 l cp
eoclip
n 9525 5850 m
 12600 7950 l gs col0 s gr gr

% arrowhead
n 12469 7898 m 12586 7941 l 12503 7848 l  col0 s
% Polyline
gs  clippath
12633 752 m 12581 721 l 12504 851 l 12592 764 l 12556 882 l cp
eoclip
n 9375 6150 m
 12600 750 l gs col0 s gr gr

% arrowhead
n 12556 882 m 12592 764 l 12504 851 l  col0 s
% Polyline
gs  clippath
12632 2857 m 12586 2819 l 12490 2936 l 12590 2863 l 12537 2974 l cp
eoclip
n 9600 6525 m
 12600 2850 l gs col0 s gr gr

% arrowhead
n 12537 2974 m 12590 2863 l 12490 2936 l  col0 s
% Polyline
gs  clippath
12553 4967 m 12521 4916 l 12393 4998 l 12511 4959 l 12426 5049 l cp
eoclip
n 9600 6825 m
 12525 4950 l gs col0 s gr gr

% arrowhead
n 12426 5049 m 12511 4959 l 12393 4998 l  col0 s
% Polyline
n 1200 1200 m 3525 1200 l 3525 7200 l 1200 7200 l
 cp gs col0 s gr 
% Polyline
n 12600 600 m 14100 600 l 14100 1800 l 12600 1800 l
 cp gs col0 s gr 
% Polyline
n 12600 1800 m 14100 1800 l 14100 2100 l 12600 2100 l
 cp gs col0 s gr 
% Polyline
n 12600 2700 m 14100 2700 l 14100 3000 l 12600 3000 l
 cp gs col0 s gr 
% Polyline
n 12600 3900 m 14100 3900 l 14100 4800 l 12600 4800 l
 cp gs col0 s gr 
% Polyline
n 12600 4800 m 14100 4800 l 14100 6300 l 12600 6300 l
 cp gs col0 s gr 
% Polyline
n 12600 6300 m 14100 6300 l 14100 7200 l 12600 7200 l
 cp gs col0 s gr 
% Polyline
n 12600 7800 m 14100 7800 l 14100 8700 l 12600 8700 l
 cp gs col0 s gr 
/Times-Roman ff 200.00 scf sf
2400 975 m
gs 1 -1 sc (File) col0 sh gr
/Times-Roman ff 200.00 scf sf
525 750 m
gs 1 -1 sc (Block) col0 sh gr
/Times-Roman ff 200.00 scf sf
525 1005 m
gs 1 -1 sc (Offset) col0 sh gr
/Times-Roman ff 200.00 scf sf
1050 1350 m
gs 1 -1 sc (0) col0 sh gr
/Times-Roman ff 200.00 scf sf
1050 2550 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
975 5925 m
gs 1 -1 sc (15) col0 sh gr
/Times-Roman ff 200.00 scf sf
975 5625 m
gs 1 -1 sc (14) col0 sh gr
/Times-Roman ff 200.00 scf sf
975 4350 m
gs 1 -1 sc (10) col0 sh gr
/Times-Roman ff 200.00 scf sf
1050 3525 m
gs 1 -1 sc (7) col0 sh gr
/Times-Roman ff 200.00 scf sf
1050 1725 m
gs 1 -1 sc (1) col0 sh gr
/Times-Roman ff 200.00 scf sf
8400 1125 m
gs 1 -1 sc (HDR) col0 sh gr
/Times-Roman ff 200.00 scf sf
7575 750 m
gs 1 -1 sc (start_off) col0 sh gr
/Times-Roman ff 200.00 scf sf
8700 675 m
gs 1 -1 sc (next block) col0 sh gr
/Times-Roman ff 200.00 scf sf
9675 2325 m
gs 1 -1 sc (Block map area) col0 sh gr
/Times-Roman ff 200.00 scf sf
9675 2580 m
gs 1 -1 sc (within inode,) col0 sh gr
/Times-Roman ff 200.00 scf sf
9675 2835 m
gs 1 -1 sc (4 internal nodes) col0 sh gr
/Times-Roman ff 200.00 scf sf
8625 1725 m
gs 1 -1 sc (NULL) col0 sh gr
/Times-Roman ff 200.00 scf sf
8625 2025 m
gs 1 -1 sc (NULL) col0 sh gr
/Times-Roman ff 200.00 scf sf
8625 2325 m
gs 1 -1 sc (NULL) col0 sh gr
/Times-Roman ff 200.00 scf sf
9750 8775 m
gs 1 -1 sc (Data block holding) col0 sh gr
/Times-Roman ff 200.00 scf sf
9750 9030 m
gs 1 -1 sc (340 extent leaf nodes) col0 sh gr
/Times-Roman ff 200.00 scf sf
8475 4725 m
gs 1 -1 sc (HDR) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 7500 m
gs 1 -1 sc (.) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 8010 m
gs 1 -1 sc (.) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 8520 m
gs 1 -1 sc (.) col0 sh gr
/Times-Roman ff 200.00 scf sf
7200 4350 m
gs 1 -1 sc (start_off) col0 sh gr
/Times-Roman ff 200.00 scf sf
8400 4350 m
gs 1 -1 sc (count) col0 sh gr
/Times-Roman ff 200.00 scf sf
9225 4275 m
gs 1 -1 sc (data block) col0 sh gr
/Times-Roman ff 200.00 scf sf
8100 1425 m
gs 1 -1 sc (0) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 5025 m
gs 1 -1 sc (0) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 5325 m
gs 1 -1 sc (1) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 5625 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 5925 m
gs 1 -1 sc (7) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 6225 m
gs 1 -1 sc (10) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 6525 m
gs 1 -1 sc (14) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 6825 m
gs 1 -1 sc (15) col0 sh gr
/Times-Roman ff 200.00 scf sf
7950 7125 m
gs 1 -1 sc (20) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 5025 m
gs 1 -1 sc (1) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 5325 m
gs 1 -1 sc (3) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 5625 m
gs 1 -1 sc (3) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 5925 m
gs 1 -1 sc (3) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 6225 m
gs 1 -1 sc (4) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 6525 m
gs 1 -1 sc (1) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 6825 m
gs 1 -1 sc (5) col0 sh gr
/Times-Roman ff 200.00 scf sf
8550 7125 m
gs 1 -1 sc (8) col0 sh gr
/Times-Roman ff 200.00 scf sf
14250 1125 m
gs 1 -1 sc (Data Blocks) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage
%%EndDocument
end PEND/F2 13/Times-Bold@0 SF(Caching)244.222 673.07 Q F1 .792
(In general, the CPU is f)33.336 709.07 R .791
(aster than RAM and RAM is f)-.13 F .791(aster than mass storage.)-.13 F
F2(Caching)7.291 E F1 .068
(is a concept which will arise repeatedly in this course.)33.336 724.07
R .068(The basic premise is that if you do)6.568 F .212
(something once, you are lik)33.336 739.07 R .212(ely to do it ag)-.13 F
.212(ain, or something v)-.065 F .211(ery much lik)-.195 F 3.461(ei)-.13
G 3.461(to)-3.461 G 3.461(rn)-3.461 G .211(ear it, in)-3.461 F 0 Cg EP
%%Page: 36 36
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 36)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF .864(the near future.)33.336 120 R .864
(Therefore, it usually pays to k)7.364 F .865(eep a cop)-.13 F 4.115(yo)
-.13 G 4.115(fs)-4.115 G .865(omething which is k)-4.115 F .865(ept in)
-.13 F(slo)33.336 135 Q(wer)-.325 E 3.25(,p)-.52 G
(lentiful, cheaper storage temporarily in f)-3.25 E(aster)-.13 E 3.25
(,s)-.52 G(carcer)-3.25 E 3.25(,p)-.52 G(ricier storage.)-3.25 E
(When talking about \214lesystems, caching is going on at multiple le)
33.336 165 Q -.195(ve)-.325 G(ls.).195 E 3.25<8349>33.336 180 S(ndi)
-3.25 E(vidual sectors \(or disk blocks\) are cached in the)-.325 E/F2
13/Times-Bold@0 SF -.26(bu)3.25 G(ffer cache).26 E F1 3.497<8354>33.336
195 S .246(he superblock \(v)-3.497 F .246
(olume header\) is cached by k)-.26 F .246(eeping the "li)-.13 F -.195
(ve)-.325 G 3.496("c).195 G(op)-3.496 E 3.496(yi)-.13 G 3.496(nk)-3.496
G .246(ernel memory)-3.626 F(whene)33.336 210 Q -.195(ve)-.325 G 3.25
(rav).195 G(olume is mounted.)-3.51 E 4.914<8349>33.336 225 S(ndi)-4.914
E 1.665(vidual inodes are cached by k)-.325 F 1.665(eeping a li)-.13 F
2.055 -.195(ve c)-.325 H(op).195 E 4.915(yi)-.13 G 4.915(nk)-4.915 G
1.665(ernel memory whene)-5.045 F -.195(ve)-.325 G 4.915(rt).195 G(he)
-4.915 E 2.065
(inode is needed, e.g. when the \214le is open, during directory tra)
33.336 240 R -.195(ve)-.26 G 2.065(rsal, during a).195 F/F3 13/Courier@0
SF(stat)5.315 E F1(system call, and man)33.336 255 Q 3.25(yo)-.195 G
(ther cases.)-3.25 E 3.694<8344>33.336 270 S .444
(irectory entry lookups are cached in the)-3.694 F F2 .444(dentry cache)
3.694 F F1 .444(\(Linux terminology)3.694 F 3.694(,o)-.845 G .444
(ther non-)-3.694 F(Linux UNIX k)33.336 285 Q(ernels ha)-.13 E .39 -.195
(ve c)-.26 H(alled this the namei cache\)).195 E 4.753<8352>33.336 300 S
1.503(eads and writes of re)-4.753 F 1.502
(gular \214les are cached by k)-.195 F 1.502
(eeping copies of the \214le contents in)-.13 F -.13(ke)33.336 315 S
(rnel memory).13 E 6.5(.W)-.845 G(e')-7.54 E
(ll also learn in Unit 5 about \214le/memory equi)-.13 E -.325(va)-.325
G(lencies.).325 E 1.723(Each of these caches \(with the e)33.336 345 R
1.724(xception of the superblock which is only caching one)-.195 F 1.001
(thing\) is, lik)33.336 360 R 4.25(ea)-.13 G 1.39 -.195(ny c)-4.25 H 1
(ache, an associati).195 F 1.39 -.195(ve a)-.325 H(rray).195 E 7.5(.T)
-.845 G 1(he cache is addressed by a "k)-7.5 F -.195(ey)-.13 G 4.25("w)
.195 G(hich)-4.25 E .937
(results in either a hit, in which case the requested item is in memory)
33.336 375 R 4.187(,o)-.845 G 4.187(ra")-4.187 G .937(miss" which)-4.187
F .332(requires loading it from disk.)33.336 390 R .332
(In some cases, the k)6.832 F .721 -.195(ey i)-.13 H 3.581(ss).195 G
.331(imply the direct "address" of the)-3.581 F 1.675
(object \(such as a sector number\) b)33.336 405 R 1.675
(ut in other cases the k)-.26 F 2.066 -.195(ey i)-.13 H 4.926(sp).195 G
1.676(art of the object')-4.926 F 4.926(sd)-.715 G(ata)-4.926 E
(itself \(such as directory entry names\).)33.336 420 Q 1.341
(All caches ha)33.336 450 R 1.731 -.195(ve ove)-.26 H(r\215o).195 E
4.591(wi)-.325 G 1.341(ssues: if there is no room to cache a ne)-4.591 F
4.59(wo)-.325 G 1.34(bject, some older)-4.59 F .568(object must be rele\
ased from the cache, possibly writing it back to the disk.)33.336 465 R
.568(All of these)7.068 F .972(\214lesystem caches will release all of \
their in-memory resources and synchronize the data)33.336 480 R
(back to disk when the v)33.336 495 Q(olume is unmounted.)-.26 E -1.04
(We)6.5 G -.13('l)1.04 G 3.25(ln).13 G .65 -.325(ow l)-3.25 H
(ook at each cache brie\215y).325 E(.)-.845 E F2(Buffer Cache)230.331
525 Q F1 1.553(One vie)33.336 555 R 4.803(wo)-.325 G 4.803(ft)-4.803 G
1.553(he v)-4.803 F 1.553(olume is as just a collection of sectors.)-.26
F 1.554(The b)8.054 F(uf)-.26 E 1.554(fer cache \(or "block)-.325 F
2.294(cache"\) is k)33.336 570 R -.195(ey)-.13 G 2.294(ed by \().195 F
F3(device_num,sector_num)A F1 5.544(\)a)C 2.294
(nd objects in the cache are the)-5.544 F .765
(sectors \(or "disk blocks" which may be multiple sectors\).)33.336 585
R .766(Since most of the sectors of a)7.265 F .009
(\214lesystem represent more high-le)33.336 600 R -.195(ve)-.325 G 3.259
(lo).195 G .009(bjects, such as inodes, directories or \214les, the b)
-3.259 F(uf)-.26 E(fer)-.325 E 1.322
(cache is often superceded by the other caches belo)33.336 615 R 6.262
-.845(w. T)-.325 H 1.322(he b).845 F(uf)-.26 E 1.323
(fer cache does come into)-.325 F(play with caching indirect blocks and\
 inode/data block allocation bitmaps.)33.336 630 Q F2(Inode Cache)
232.489 660 Q F1(Whene)33.336 690 Q -.195(ve)-.325 G 3.506(ra).195 G
.646 -.195(ny s)-3.506 H .256
(ystem call is performed on a node in the \214lesystem, the k).195 F
.255(ernel needs read)-.13 F .06
(\(and potentially write\) access to the corresponding inode \214elds.)
33.336 705 R .06(The inode cache is k)6.56 F -.195(ey)-.13 G(ed).195 E
2.609(on \()33.336 720 R F3(device_num,inode_num)A F1 5.858(\)a)C 2.608
(nd contains "in-core inodes".)-5.858 F 2.608(This data structure,)9.108
F -.13(ke)33.336 735 S 1.978(pt in k).13 F 1.978(ernel memory)-.13 F
5.228(,h)-.845 G 1.979
(as all of the \214elds of an on-disk inode, plus numerous other)-5.228
F 0 Cg EP
%%Page: 37 37
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 37)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF .659(\214elds that the k)33.336 120 R
.658(ernel needs, such as pointers to the correct virtual \214lesystem \
modules for)-.13 F .046(the \214lesystem which contains that inode.)
33.336 135 R .047(Once an inode is brought into k)6.546 F .047
(ernel memory)-.13 F 3.297(,i)-.845 G(t)-3.297 E .918(generally is lock)
33.336 150 R .918(ed there until no longer needed.)-.13 F .917
(In particular)7.417 F 4.167(,t)-.52 G .917(his means that an)-4.167 F
4.167(yo)-.195 G(pen)-4.167 E(\214le has an in-core inode.)33.336 165 Q
/F2 13/Times-Bold@0 SF(Dentry Cache)228.888 195 Q F1 1.034
(In the Linux k)33.336 225 R 1.034(ernel, the dentry cache is k)-.13 F
-.195(ey)-.13 G 1.034(ed on \().195 F/F3 13/Courier@0 SF
(inode,component_name)A F1 4.285(\)w)C(here)-4.285 E F3(inode)33.336 240
Q F1 1.761(is a pointer to the in-core inode which is the directory con\
taining the entry in)5.012 F 21.096(question. Another)33.336 255 R -.13
(wa)21.096 G 21.096(yo).13 G 21.096(fv)-21.096 G(ie)-21.096 E 17.847
(wing this is that the k)-.325 F 18.237 -.195(ey i)-.13 H(s).195 E(\()
33.336 270 Q F3(device_num,inode_num,component_name)A F1 7.338
(\). Whene)B -.195(ve)-.325 G 7.337(rad).195 G 4.087(irectory must be)
-7.337 F 3.103(searched, such as during path name e)33.336 285 R -.325
(va)-.325 G 3.103(luation, the \(de).325 F 3.103
(vice_num,inode_num\) of that)-.325 F 4.439(directory is presented to t\
he dentry cache along with the component_name being)33.336 300 R 5.564
(searched. Unlik)33.336 315 R 5.564(et)-.13 G 2.314
(he other caches we ha)-5.564 F 2.704 -.195(ve s)-.26 H 2.314
(een, the dentry cache is also a).195 F F2(negati)5.564 E -.13(ve)-.13 G
(cache)33.336 330 Q F1 7.116(.I)C 3.866(ft)-7.116 G .616(here is no den\
try object corresponding to the component_name, this results in)-3.866 F
1.973(the \214lesystem module')33.336 345 R 5.223(sd)-.715 G 1.974
(irectory lookup function being called on the directory inode.)-5.223 F
(Ho)33.336 360 Q 5.368(wt)-.325 G 2.118(his is implemented is ob)-5.368
F 2.118(viously \214lesystem-dependent \(a directory lookup on an)-.195
F(MSDOS/F)33.336 375 Q 4.232 -1.443(AT \214)-.962 H 1.346
(lesystem will be v)1.443 F 1.346(ery dif)-.195 F 1.347(ferent from e)
-.325 F 4.597(xt4fs\). The)-.195 F 1.347(result of this function)4.597 F
.584(call is either the inode number \(if the component w)33.336 390 R
.584(as found\) OR it is nil \(not found\).)-.13 F(In)7.084 E
(either case, the result must be cached \(ne)33.336 405 Q -.065(ga)-.195
G(ti).065 E .39 -.195(ve c)-.325 H(aching\).).195 E .434
(The dentry cache must be noti\214ed whene)33.336 426 R -.195(ve)-.325 G
3.684(ra\214).195 G .434(lesystem operation happens that af)-3.684 F
.434(fects a)-.325 F 3.268(directory entry)33.336 441 R 9.768(.I)-.845 G
3.267(.e. an unlink or rename system call must cause the corresponding)
-9.768 F .754(cached dentry to be either changed to a nil, or renamed.)
33.336 456 R .754(Therefore the dentry cache is a)7.254 F(comple)33.336
471 Q 3.25(xa)-.195 G(nd confusing part of the k)-3.25 E
(ernel source code!)-.13 E F2(File Data Cache)222.928 501 Q F1 -1.04(We)
33.336 531 S -.13('l)1.04 G 3.816(ls).13 G .566
(ee in Unit #5 that areas of memory and areas of re)-3.816 F .565
(gular \214les ha)-.195 F .955 -.195(ve a)-.26 H 3.815(ne).195 G(qui)
-3.815 E -.325(va)-.325 G(lenc).325 E -.845(y.)-.195 G 1.391
(Prior to that re)33.336 546 R -.195(ve)-.325 G 1.391(lation, let us ju\
st say that when read and write system calls are made,).195 F .91(that \
causes the corresponding areas of the \214le to be cached as areas of m\
emory \(it turns)33.336 561 R .113(out these areas are al)33.336 576 R
-.13(wa)-.13 G .113
(ys in 4K chunks, for reasons that will become apparent in Unit 5\).).13
F 1.196(Generally speaking, this impro)33.336 591 R -.195(ve)-.195 G
4.446(st).195 G 1.196(he ef)-4.446 F(\214cienc)-.325 E 4.446(yo)-.195 G
4.446(fs)-4.446 G 1.196(mall reads and writes.)-4.446 F 1.196
(Rather than)7.696 F(ha)33.336 606 Q 1.273(ving to mak)-.26 F 4.523(es)
-.13 G 1.273(ay four disk requests to read 4K of data with 1024 b)-4.523
F(uf)-.26 E 1.274(fers in the read)-.325 F .308
(system call, just one disk request of 4K is needed.)33.336 621 R .308
(The \214rst read system call tak)6.808 F .308(es a little)-.13 F 1.762
(while, b)33.336 636 R 1.762(ut the ne)-.26 F 1.763
(xt three are satis\214ed from the cached cop)-.195 F 5.013(yi)-.13 G
5.013(nm)-5.013 G(emory)-5.013 E 5.013(,a)-.845 G 1.763(nd are much)
-5.013 F -.13(fa)33.336 651 S(ster).13 E(.)-.715 E .1(When writing, it \
is important to realize that the write system call does not generally r\
esult)33.336 672 R .341(in an immediate write to the disk.)33.336 687 R
.341(Instead, the bytes that are supplied to the write system)6.841 F
1.089
(call are copied into the in-memory image of that area of the \214le.)
33.336 702 R 1.089(The write back to the)7.589 F
(disk happens at a later time.)33.336 717 Q(This is no)6.5 E 3.25(wd)
-.325 G(iscussed further)-3.25 E(.)-.715 E 0 Cg EP
%%Page: 38 38
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 38)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Bold@0 SF(Cache modes & sync)209.746 120 Q/F2 13
/Times-Roman@0 SF 1.817(In general, there are three modes to caching:)
33.336 156 R F1(uncached)5.067 E F2 1.817(\(or "ra)5.067 F 1.818
(w"\) in which all object)-.195 F 2.2
(accesses result in direct and immediate disk accesses,)33.336 171 R F1
(write-thr)5.449 E(ough)-.234 E F2 2.199(where reads are)5.449 F 1.606
(satis\214ed from cache b)33.336 186 R 1.606
(ut writes cause immediate write-through to disk, and)-.26 F F1
(write-back)4.857 E F2 1.173(where the write to disk tak)33.336 201 R
1.173(es place at some indeterminate later time.)-.13 F(Ra)7.672 E 4.422
(wm)-.195 G 1.172(ode w)-4.422 F(ould)-.13 E 1.646
(generally not be used e)33.336 216 R 1.647
(xcept for system utility programs.)-.195 F 1.647
(Write-through mode has the)8.147 F(adv)33.336 231 Q .664(antage of k)
-.325 F .664(eeping the disk in a consistent state and minimizes the ri\
sk of data loss or)-.13 F 5.462(\214lesystem corruption.)33.336 246 R
(Ho)11.962 E(we)-.325 E -.195(ve)-.325 G 8.712(ri).195 G 8.712(tc)-8.712
G 5.462(auses a lar)-8.712 F 5.463(ge amount of disk write acti)-.234 F
(vity)-.325 E(.)-.845 E
(Therefore, most systems are run in write-back mode.)33.336 261 Q 2.509
(In write-back mode, a system call such as)33.336 282 R/F3 13/Courier@0
SF(write)5.759 E F2 2.509(will complete before the data are)5.759 F .975
(written to the disk.)33.336 297 R .975(In f)7.475 F .975(act, the)-.13
F F3(close)4.225 E F2 .975(will complete too.)4.225 F .975
(The precious data are sitting)7.475 F 2.734(someplace in k)33.336 312 R
2.734(ernel memory)-.13 F 5.983(,a)-.845 G -.13(wa)-6.178 G 2.733
(iting write-back to the disk.).13 F 2.733(If the system crashes)9.233 F
1.497(\(sudden po)33.336 327 R 1.497(wer loss, k)-.325 F 1.497(ernel b)
-.13 F 1.497(ug, hardw)-.26 F 1.498
(are issue\) at this point, the data will be lost, b)-.13 F(ut)-.26 E
.692(more importantly)33.336 342 R 3.942(,t)-.845 G .692
(he program \(and the end-user\) will be under the f)-3.942 F .692
(alse impression that)-.13 F(the data were sa)33.336 357 Q -.195(ve)-.26
G(d, because no system call errors were raised.).195 E 1.602
(If this is not acceptable, there are a fe)33.336 378 R 4.853(ws)-.325 G
1.603(olutions \(better than turning to write-through)-4.853 F 5.248
(caching\). The)33.336 393 R F3(fsync)5.248 E F2 1.998(system call tak)
5.248 F 1.998(es a \214le descriptor and commands the k)-.13 F 1.998
(ernel to)-.13 F 1.551(\215ush all data and metadata associated with th\
at \214le descriptor to the disk.)33.336 408 R 1.551(The system)8.051 F
.877(call blocks until the disk writes ha)33.336 423 R 1.266 -.195(ve c)
-.26 H 4.126(ompleted. The).195 F .876
(\214le could also be opened with the)4.126 F F3(O_SYNC)33.336 438 Q F2
.296(\215ag, in which case all write system calls will block until the \
corresponding disk)3.546 F 1.448(writes ha)33.336 453 R 1.838 -.195
(ve c)-.26 H 4.698(ompleted. Finally).195 F 4.698(,t)-.845 G 1.448
(here is a)-4.698 F F3(sync)4.698 E F2 1.448
(system call and a corresponding user)4.698 F(-)-.26 E(le)33.336 468 Q
-.195(ve)-.325 G 3.25(lc).195 G
(ommand which causes ALL cached data to be written back to disk.)-3.25 E
.725(Outside of these e)33.336 489 R .726
(xplicit \215ushes, the Linux k)-.195 F .726
(ernel periodically scans memory for cached)-.13 F .567
(objects and \215ushes them to disk.)33.336 504 R .566
(The rate at which this is done depends on system load,)7.066 F -.26(bu)
33.336 519 S 4.6(tg).26 G 1.35(enerally on an idle system, \215ushes wi\
ll be done at least once a minute.)-4.6 F 4.601(As)7.851 G(ystem)-4.601
E 1.763(that is quiet and crashes, therefore, is not lik)33.336 534 R
1.762(ely to lose an)-.13 F 5.012(yd)-.195 G 5.012(ata. In)-5.012 F
1.762(addition, when a)5.012 F -.26(vo)33.336 549 S .285
(lume is unmounted, all cached objects are \215ushed, and the).26 F F3
(umount)3.535 E F2 .285(system call blocks)3.535 F .47
(until these disk writes are complete.)33.336 564 R .47
(This is particularly important for remo)6.97 F -.325(va)-.195 G .47
(ble storage).325 F(de)33.336 579 Q .383
(vices -- it ensures that once you gi)-.325 F .773 -.195(ve t)-.325 H
(he).195 E F3(umount)3.633 E F2 .383(command and get your shell prompt)
3.633 F(back, it is safe to remo)33.336 594 Q .39 -.195(ve t)-.195 H
(he de).195 E(vice!)-.325 E F1(Filesystem corruption, r)141.489 654 Q
(eco)-.234 E -.13(ve)-.13 G(ry & jour).13 E(naling)-.195 E F2 1.948
(The \214lesystem is a data structure b)33.336 690 R 1.947
(uilt out of disk blocks.)-.26 F 1.947(As with an)8.447 F 5.197(yc)-.195
G(omple)-5.197 E 5.197(xd)-.195 G(ata)-5.197 E 1.172(structure, there a\
re transient moments when it can be in an inconsistent state.)33.336 705
R(Consider)7.672 E(ho)33.336 720 Q 3.25(wt)-.325 G(he k)-3.25 E
(ernel conceptually handles the creation of a ne)-.13 E 3.25<778c>-.325
G(le:)-3.25 E 0 Cg EP
%%Page: 39 39
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 39)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF(Step 1\) Search the inode allocation bit\
map for a free inode, say we pick #9999)33.336 120 Q .996(Step 2\) Mark\
 the inode as non-free by changing its type \214eld to S_IFREG \(and al\
so set)33.336 135 R
(the uid, gid and ctime \214elds, and set nlink to 1\))33.336 150 Q
(Step 3\) Mark the inode non-free in the inode bitmap)33.336 165 Q
(Step 4\) Search the directory containing the ne)33.336 180 Q 3.25<778c>
-.325 G(le for a free slot)-3.25 E(Step 5\) Write the path component na\
me and inode number 9999 to the directory slot)33.336 195 Q .964
(Let us say that some)33.336 216 R .965
(where between steps 2 and 5, the system loses po)-.325 F .965
(wer and therefore)-.325 F .142(the directory is not updated.)33.336 231
R .141(When the system comes back up and the v)6.641 F .141
(olume is mounted)-.26 F(ag)33.336 246 Q .627(ain, we no)-.065 F 3.877
(wh)-.325 G -2.925 -.26(av e)-3.877 H 3.877(a")4.137 G .627
(phantom" inode which is not free b)-3.877 F .628(ut is also not link)
-.26 F .628(ed an)-.13 F(ywhere)-.195 E .92(in the \214lesystem.)33.336
261 R .92(This is just one e)7.42 F .92(xample of man)-.195 F 4.169(yk)
-.195 G .919(inds of corruption which can arise)-4.169 F .667
(from the underlying problem that \214lesystem operations reduce to a)
33.336 276 R/F2 13/Times-Bold@0 SF(non-atomic)3.918 E F1 .668(series of)
3.918 F 1.323(writes to dif)33.336 291 R 1.323(ferent disk blocks.)-.325
F 1.323(The \214lesystem corruption problem is dif)7.823 F 1.322
(ferent from the)-.325 F 2.595(cache consistenc)33.336 306 R 5.845(yp)
-.195 G 2.596(roblem : \214lesystem corruption could occur e)-5.845 F
-.195(ve)-.325 G 5.846(ni).195 G 5.846(ft)-5.846 G 2.596(here were no)
-5.846 F
(caching and all \214lesystem blocks were written through immediately)
33.336 321 Q(.)-.845 E 1.204
(When the system comes back up after a crash, there must be a w)33.336
342 R 1.203(ay of determining if a)-.13 F 2.464(\214lesystem \(v)33.336
357 R 2.465(olume\) is corrupt, and if so, to correct before mounting.)
-.26 F 2.465(Otherwise, the)8.965 F .847
(corruption could lead to further corruption and data loss.)33.336 372 R
.846(The \214rst step is that all UNIX)7.347 F 1.796
(\214lesystems maintain a \215ag in their superblock kno)33.336 387 R
1.796(wn as the "clean" status.)-.325 F 1.796(When the)8.296 F -.26(vo)
33.336 402 S 7.724(lume is dismounted properly).26 F 10.974(,u)-.845 G
7.723(sing the)-10.974 F/F3 13/Courier@0 SF(umount)10.973 E F1 7.723
(system call/command, or)10.973 F .917
(automatically as part of a controlled system shutdo)33.336 417 R .917
(wn, the superblock on disk is written)-.325 F
(to and the CLEAN status is set.)33.336 432 Q(While the v)6.5 E
(olume is mounted, the status is set to DIR)-.26 E(TY)-.78 E(.)-1.677 E
.442(If the system crashes, the v)33.336 453 R .442
(olumes will not be e)-.26 F .442
(xplicitly unmounted, and the status of the)-.195 F .01
(on-disk superblock will be DIR)33.336 468 R(TY)-.78 E 6.51(.T)-1.677 G
.01(he traditional w)-6.51 F .01(ay of correcting the corruption is via)
-.13 F 3.872(au)33.336 483 S(ser)-3.872 E(-le)-.26 E -.195(ve)-.325 G
3.872(lp).195 G .622(rogram kno)-3.872 F .622(wn as)-.325 F F3(fsck)
3.872 E F1 .622(which e)3.872 F .622
(xamines the on-disk \214lesystem on a block-)-.195 F 1.56
(by-block basis.)33.336 498 R 1.56(It can do this since the ra)8.06 F
4.81(wc)-.195 G 1.56(ontents of the v)-4.81 F 1.56(olume are a)-.26 F
-.325(va)-.26 G 1.56(ilable via a).325 F 1.536
(special \214le name, e.g.)33.336 513 R F3(/dev/sda1)4.786 E F1 8.036
(.f)C 1.536(sck is a comple)-8.036 F 1.536(x, multi-pass program.)-.195
F 1.536(It does a)8.036 F(recursi)33.336 528 Q 4.567 -.195(ve d)-.325 H
4.177(escent e).195 F 4.178
(xploration of the pathname tree, visiting each node, and cross-)-.195 F
.409(checking that vie)33.336 543 R 3.659(ww)-.325 G .409(ith the vie)
-3.659 F 3.659(wr)-.325 G .409
(epresented by the inode table and free block map.)-3.659 F .408(If a)
6.908 F(consistenc)33.336 558 Q 3.51(ye)-.195 G .261
(rror is detected, fsck prompts before taking action to correct it.)
-3.51 F .261(I.e. fsck is a)6.761 F 2.099
(read-only operation unless the user in)33.336 573 R -.26(vo)-.52 G
2.098(king it gi).26 F -.195(ve)-.325 G 5.348(sp).195 G 2.098
(ermission for writing.)-5.348 F 2.098(In batch)8.598 F .406(mode, e.g.\
 when the system is being booted, fsck is normally run in a mode where \
it will)33.336 588 R(al)33.336 603 Q -.13(wa)-.13 G 3.037(ys attempt to\
 \214x problems, unless certain serious problems are detected, or the)
.13 F 2.168(number of problems is abnormally high, at which point the b\
ooting process will stop)33.336 618 R
(pending system administrator interaction.)33.336 633 Q .562
(Often fsck will \214nd inodes that might represent v)33.336 654 R .561
(alid \214les, or might be in)-.325 F -.325(va)-.52 G .561
(lid or deleted).325 F 4.601(\214les. Because)33.336 669 R 1.351
(the \214lesystem is inconsistent, it has no w)4.601 F 1.351(ay of kno)
-.13 F 1.351(wing for sure.)-.325 F(These)7.852 E .065
(inodes are landed in a pre-e)33.336 684 R .065
(xisting subdirectory of the root directory of the v)-.195 F .065
(olume, called)-.26 F F3(lost+found)33.336 699 Q F1(.)A F2(Filesystem J)
214.991 729 Q(our)-.195 E(nal)-.195 E 0 Cg EP
%%Page: 40 40
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 40)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF 2.701(fsck can be a v)33.336 120 R 2.701
(ery time-consuming process, since it needs to visit e)-.195 F -.195(ve)
-.325 G 2.702(ry part of the).195 F 3.979(\214lesystem data structure, \
including parts that correspond to unallocated space, e.g.)33.336 135 R
1.044(unused inodes.)33.336 150 R 1.044(As hard disk capacities ha)7.544
F 1.435 -.195(ve i)-.26 H 1.045
(ncreased, this has caused fsck times to be).195 F(unacceptably long.)
33.336 165 Q(Most modern UNIX systems ha)6.5 E .39 -.195(ve g)-.26 H
(one to journaling to address this.).195 E(A)33.336 186 Q/F2 13
/Times-Bold@0 SF(jour)4.122 E(nal)-.195 E F1 .872
(is a circular array of blocks some)4.122 F .872
(where in the \214lesystem, generally at a \214x)-.325 F(ed)-.195 E
3.637(location and generally contiguous.)33.336 201 R 3.637
(The journal contains)10.137 F F2(jour)6.888 E 3.638(nal entries)-.195 F
F1 3.638(which are)6.888 F .219(ordered from oldest to ne)33.336 216 R
3.468(west. Since)-.325 F .218(the journal is of \214nite size, e)3.468
F -.195(ve)-.325 G .218(ntually ne).195 F .218(wer entries)-.325 F -.195
(ove)33.336 231 S 1.178(rwrite older ones.).195 F 1.178(\(Linux by def)
7.678 F 1.179(ault uses a journal size of 128MB\) That may cause)-.13 F
.028(operations to hang until disk write \215ushes complete.)33.336 246
R .028(While there are man)6.528 F 3.278(yd)-.195 G(if)-3.278 E .028
(ferent w)-.325 F(ays)-.13 E 1.509(of implementing a journal, the)33.336
261 R 4.759(ya)-.195 G 1.509(ll accomplish a similar goal: the)-4.759 F
4.759(ym)-.195 G(ak)-4.759 E 4.759(ei)-.13 G 4.759(tp)-4.759 G 1.509
(ossible to)-4.759 F .793(quickly reco)33.336 276 R -.195(ve)-.195 G
4.043(rac).195 G .793(orrupted \214lesystem without ha)-4.043 F .793
(ving to use the v)-.26 F .793(ery slo)-.195 F(w)-.325 E/F3 13/Courier@0
SF(fsck)4.043 E F1 7.293(.T)C(he)-7.293 E(y)-.195 E 1.073
(do this at the e)33.336 291 R 1.074
(xpense of additional disk write traf)-.195 F 4.324(\214c. Blocks)-.325
F 1.074(that are critical enough to)4.324 F(deserv)33.336 306 Q 4.479
(ej)-.195 G 1.228
(ournaling are written twice: once to the journal, and once ag)-4.479 F
1.228(ain at a later time)-.065 F
(when the applicable cache is \215ushed.)33.336 321 Q 2.744
(Here is an e)33.336 342 R 2.745(xample of h)-.195 F 2.745
(ypothetical entries in a journal for our pre)-.065 F 2.745(vious e)
-.325 F 2.745(xample of)-.195 F(creating a ne)33.336 357 Q 3.25<778c>
-.325 G(le:)-3.25 E/F4 10/Courier@0 SF(--BEGIN TRANSACTION ID#1234--)
33.336 414 Q(Copy of disk block containing inode #9999)33.336 426 Q
(Copy of disk block containing entry 9999 in free inode bitmap)33.336
438 Q
(Copy of disk block containing new directory entry referring to ino9999)
33.336 450 Q(***** potentially other, unrelated transactions ******)
33.336 462 Q(--COMMIT TRANSACTION ID #1234--)33.336 474 Q F1 1.433
(The k)33.336 504 R 1.433(ernel, when journaling is in use, \214rst ass\
embles all of the elements of the atomic)-.13 F 7.555
(transaction and writes them to the journal.)33.336 519 R 7.556
(Then, only after the COMMIT)14.055 F(TRANSA)33.336 534 Q .6
(CTION record has been written to the journal, the k)-.52 F .6
(ernel schedules the v)-.13 F(arious)-.325 E .36
(disk blocks to be \215ushed \(sync')33.336 549 R .36(d\) to disk.)-.65
F .361(This might happen a "long time" later \(se)6.861 F -.195(ve)-.325
G(ral).195 E 4.582(seconds\) during which time additional journal entri\
es might be written for other)33.336 564 R(,)-.52 E .949
(unrelated transactions.)33.336 579 R .949(Depending on k)7.449 F .949
(ernel settings, the k)-.13 F .949(ernel might cause the system)-.13 F
.44(call \(e.g.)33.336 594 R F3(creat)3.69 E F1 3.69(\)t)C 3.69(ob)-3.69
G .44(lock until the COMMIT TRANSA)-3.69 F .44
(CTION record has been written.)-.52 F .249(This ensures that when the \
system call returns, the operation will actually happen, e)33.336 609 R
-.195(ve)-.325 G 3.499(ni).195 G(f)-3.499 E(the system crashes.)33.336
624 Q .604(When the v)33.336 645 R .604
(olume is mounted after a system crash and is found to be DIR)-.26 F(TY)
-.78 E 3.853(,r)-1.677 G .603(ather than)-3.853 F(in)33.336 660 Q -.26
(vo)-.52 G(king).26 E F3(fsck)4.468 E F1 4.468(,t)C 1.218
(he journal is e)-4.468 F 1.218(xamined in order from oldest to ne)-.195
F 1.219(west entry)-.325 F 7.719(.F)-.845 G 1.219(or each)-7.914 F
(transaction ID number mentioned, there are tw)33.336 675 Q 3.25(op)-.13
G(ossible outcomes:)-3.25 E .158(1\) The BEGIN entry is there b)33.336
705 R .158(ut no COMMIT)-.26 F 6.658(.T)-.962 G .157
(his means that the system crashed while)-6.658 F .152
(the transaction record w)33.336 720 R .152
(as being written to the journal.)-.13 F .153
(Since there is no COMMIT entry)6.652 F(,)-.845 E .008(we don')33.336
735 R 3.258(tk)-.234 G(no)-3.258 E 3.258(wi)-.325 G 3.258(fw)-3.258 G
3.258(eh)-3.258 G -2.925 -.26(av e)-3.258 H .007
(the entire transaction.)3.517 F .007(No v)6.507 F .007
(alid action can be tak)-.325 F 3.257(en. Since)-.13 F(disk)3.257 E 0 Cg
EP
%%Page: 41 41
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 41)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 13/Times-Roman@0 SF 3.012(\215ushes don')33.336 120 R 6.262
(th)-.234 G 3.013
(appen until the COMMIT entry is written, no partial transaction w)
-6.262 F(as)-.13 E(written to the disk.)33.336 135 Q(In other w)6.5 E
(ords, this transaction ne)-.13 E -.195(ve)-.325 G 3.25(rh).195 G
(appened.)-3.25 E .524(2\) The BEGIN and COMMIT entries are both there.)
33.336 165 R .524(This transaction is then "replayed",)7.024 F 2.082(i.\
e. the copies of blocks for the transaction that are in the journal are\
 written to their)33.336 180 R 2.296(places in the \214lesystem.)33.336
195 R 2.295(It does not matter that the)8.796 F 5.545(ym)-.195 G 2.295
(ay ha)-5.545 F 2.685 -.195(ve a)-.26 H 2.295(lready been written.).195
F(There is no harm in writing the same data ag)33.336 210 Q
(ain, other than a slight delay)-.065 E(.)-.845 E(Reco)33.336 240 Q
-.195(ve)-.195 G(ry via the journal is v).195 E(ery)-.195 E 3.25(,v)
-.845 G(ery f)-3.445 E(ast, typically less than one second!)-.13 E/F2 13
/Times-Bold@0 SF -.195(Jo)226.542 270 S(ur).195 E(nal modes)-.195 E F1
1.699(In Linux, a particular mounted v)33.336 306 R 1.699
(olume which supports journaling can be set to one of)-.26 F 2.068(thre\
e modes \(this is con\214gured at each mount and is not a permanent att\
rib)33.336 321 R 2.067(ute of the)-.26 F -.26(vo)33.336 336 S 1.234
(lume\) which controls ho).26 F 4.484(wt)-.325 G 1.234
(he data itself \(as opposed to metadata\) are handled in the)-4.484 F
(journal:)33.336 351 Q<83>33.336 366 Q/F3 13/Courier@0 SF(data=journal)
4.238 E F1 4.238(:I)C 4.238(nt)-4.238 G .988
(his, the most paranoid mode, all data writes are written into the)
-4.238 F .117(journal \214rst, i.e. the data ha)33.336 381 R .508 -.195
(ve t)-.26 H .118(he same le).195 F -.195(ve)-.325 G 3.368(lo).195 G
3.368(fp)-3.368 G .118(rotection as the metadata.)-3.368 F .118
(This can ha)6.618 F -.195(ve)-.26 G 4.953(av)33.336 396 S 1.703
(ery hea)-5.148 F 1.703(vy toll on performance since all writes ef)-.26
F(fecti)-.325 E -.195(ve)-.325 G 1.703(ly require tw).195 F 4.953(od)
-.13 G 1.703(isk accesses)-4.953 F 1.539(\(one to the journal, the othe\
r to the actual data block\) and because data write traf)33.336 411 R
1.539(\214c is)-.325 F(high-v)33.336 426 Q .487(olume and may o)-.26 F
-.195(ve)-.195 G(r\215o).195 E 3.737(wt)-.325 G .486
(he small journal area causing a stall until disk writes are)-3.737 F
5.301(completed. This)33.336 441 R 2.051(mode guarantees that the order\
 in which data are written to a \214le is)5.301 F(consistent with the o\
rder in which \214les are created, renamed or deleted.)33.336 456 Q<83>
33.336 471 Q F3(data=ordered)3.365 E F1 3.365(:D)C .115
(ata are written back before corresponding metadata are written into)
-3.365 F .29(the journal.)33.336 486 R .29(The data blocks themselv)6.79
F .29(es are not written to the journal.)-.195 F .291(This is the def)
6.791 F(ault)-.13 E 3.268(mode. Consider)33.336 501 R 3.268<618c>3.268 G
.018(le that is being written with ne)-3.268 F 3.267(wd)-.325 G 3.267
(ata. As)-3.267 F .017(it gro)3.267 F .017(ws, its size \214eld in the)
-.325 F .096(inode has to increase, the block maps ha)33.336 516 R .486
-.195(ve t)-.26 H 3.346(ob).195 G 3.346(eu)-3.346 G .096
(pdated, and the free map bits ha)-3.346 F .486 -.195(ve t)-.26 H 3.347
(ob).195 G(e)-3.347 E(mark)33.336 531 Q 2.012(ed as in-use.)-.13 F 2.011
(If these metadata are put into the journal \214rst and then the system)
8.512 F .786(crashes, upon journal reco)33.336 546 R -.195(ve)-.195 G
.786(ry the \214le w).195 F(ould)-.13 E/F4 13/Times-Italic@0 SF(appear)
4.036 E F1 .786(to contain the ne)4.036 F 4.036(wd)-.325 G .786(ata, b)
-4.036 F .786(ut in f)-.26 F(act)-.13 E 2.2(the contents of those data \
blocks as described in the block map will be g)33.336 561 R 5.449
(arbage. By)-.065 F(forcing data write-back prior to metadata journal c\
ommit, this situation is a)33.336 576 Q -.26(vo)-.26 G(ided.).26 E<83>
33.336 591 Q F3(data=writeback)3.711 E F1 3.711(:T)C .461
(his mode will ha)-3.711 F .851 -.195(ve t)-.26 H .462
(he best performance b).195 F .462(ut the w)-.26 F .462(orst inte)-.13 F
(grity)-.195 E(.)-.845 E 2.533(The write-back of data blocks is not syn\
chronized at all with metadata writes to the)33.336 606 R 3.25
(journal. The)33.336 621 R(situation described abo)3.25 E .39 -.195
(ve c)-.195 H(an happen.).195 E .897
(This discussion of journaling is necessarily a brief one.)33.336 651 R
.897(There are man)7.397 F 4.147(yc)-.195 G(omple)-4.147 E 4.147(xi)
-.195 G(ssues)-4.147 E .279(which af)33.336 666 R .279
(fect performance and reliability)-.325 F 6.779(.J)-.845 G .279
(ournaling is still an acti)-6.779 F .669 -.195(ve a)-.325 H .279
(rea of research and).195 F(de)33.336 681 Q -.195(ve)-.325 G(lopment.)
.195 E F2 3.25(Ar)58.796 741 S -.195(ev)-3.484 G(iew of \214lesystem-r)
.195 E(elated system calls & library functions seen thus far)-.234 E 0
Cg EP
%%Page: 42 42
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF(ECE357:Computer Operating Systems)33.336 60 Q
(Unit 2/pg 42)71.748 E(\2512017 Jef)142.155 E 2.25(fH)-.225 G(akner)
-2.25 E/F1 10/Courier@0 SF 24(open: Create)33.336 117 R
(an ordinary file, and/or open a file for I/O.)6 E 24(read: Read)33.336
141 R(data from an open file)6 E 18(write: Write)33.336 165 R
(data to an open file)6 E 18(lseek: Change)33.336 189 R
(the current position within an open file)6 E 18(close: Close)33.336 213
R(an open file)6 E 12(unlink: Destroy)33.336 237 R 6(ap)6 G
(ath to a file \(or symlink\))-6 E 18(mkdir: Create)33.336 261 R 6(ad)6
G(irectory node)-6 E 18(rmdir: Destroy)33.336 285 R 6(ad)6 G
(irectory node \(must be empty\))-6 E 24(link: Clone)33.336 309 R 6(af)6
G(ile, producing a hard link)-6 E 6(symlink: Create)33.336 333 R 6(as)6
G(oft \(symbolic\) link)-6 E(readlink: Query the value of a symlink)
33.336 357 Q 24(stat: Retrieve)33.336 381 R
(the metadata information about a path)6 E 18(fstat: Retrieve)33.336 405
R(the metadata information about an open file)6 E 18(lstat: Retrieve)
33.336 429 R(the metadata information without following symlinks)6 E 18
(chown: Change)33.336 453 R(the uid and gid ownership of a node)6 E 18
(chmod: Change)33.336 477 R(the permissions mask of a node)6 E 18
(utime: Change)33.336 501 R(the timestamps)6 E 6(opendir: Pseudo-system)
33.336 525 R(call to open a directory)6 E 6(readdir: Pseudo-system)
33.336 549 R(call to read the next directory entry)6 E
(closedir: Close a directory opened by opendir)33.336 573 Q 0 Cg EP
%%Trailer
end
%%EOF
